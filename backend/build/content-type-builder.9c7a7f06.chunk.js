(self.webpackChunklab_nckh=self.webpackChunklab_nckh||[]).push([[8880],{68314:(I,V,d)=>{"use strict";d.d(V,{Z:()=>Be});var a=d(67294),A=d(1565),$=d(45697),C=d.n($),b=d(50781),D=d(96433),B=d(95525),P=d(90044),R=d(4664),s=d(9383),K=d(90840),f=d(6459),W=d(5403),z=d(9148),re=d(33863),Y=d(81126),oe=d(45311),X=d(11748),Q=d(28248),ie=d(59424),le=d(52276),ne=d(79946);const m={biginteger:D.Z,boolean:B.Z,collectionType:P.Z,component:R.Z,contentType:P.Z,date:s.Z,datetime:s.Z,decimal:D.Z,dynamiczone:K.Z,email:f.Z,enum:W.Z,enumeration:W.Z,file:z.Z,files:z.Z,float:D.Z,integer:D.Z,json:re.Z,JSON:re.Z,media:z.Z,number:D.Z,password:Y.Z,relation:oe.Z,richtext:X.Z,singleType:Q.Z,string:ie.Z,text:ie.Z,time:s.Z,timestamp:s.Z,uid:le.Z},Re=(0,A.default)(b.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Fe=({type:rt,customField:ze,...ot})=>{const tt=(0,ne.useCustomFields)();let We=m[rt];if(ze){const{icon:J}=tt.get(ze);J&&(We=J)}return m[rt]?a.createElement(Re,{height:(0,ne.pxToRem)(24),width:(0,ne.pxToRem)(32),shrink:0,...ot,"aria-hidden":!0},a.createElement(b.x,{as:We})):null};Fe.defaultProps={customField:null},Fe.propTypes={type:C().string.isRequired,customField:C().string};const Be=Fe},7955:(I,V,d)=>{"use strict";d.d(V,{Z:()=>$});var a=d(67294);const $=(0,a.createContext)()},98422:(I,V,d)=>{"use strict";d.d(V,{Z:()=>$});var a=d(67294);const $=(0,a.createContext)()},13588:(I,V,d)=>{"use strict";d.d(V,{Z:()=>C});var a=d(67294),A=d(7955);const C=()=>(0,a.useContext)(A.Z)},26478:(I,V,d)=>{"use strict";d.d(V,{Z:()=>C});var a=d(67294),A=d(98422);const C=()=>(0,a.useContext)(A.Z)},30926:(I,V,d)=>{"use strict";d.r(V),d.d(V,{default:()=>Xs});var a=d(67294),A=d(16550),$=d(64593),C=d(86896),b=d(79946),D=d(45349),B=d(57176),P=d(96124),R=d(45697),s=d.n(R),K=d(27361),f=d.n(K),W=d(7739),z=d.n(W),re=d(36968),Y=d.n(re),oe=d(84238),X=d.n(oe),Q=d(86706),ie=d(14890),le=d(7955),ne=d(26478),m=d(5002),Re=d(85169),Fe=d(18721),Be=d.n(Fe),rt=d(7334),ze=d.n(rt),ot=d(60881),tt=d(48683),We=d(20107),J=d(75878),Qe=d(61738),nt=d(81984),ue=d(50781),st=d(54375),Ga=d(45124),ye=d(19442),Ka=d(18446),Rt=d.n(Ka),Je=d(13588),$n=d(31439),Ya=d(11700),Ke=d.n(Ya);const Xa=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],At=({intlLabel:e,name:n,onChange:r,value:l})=>{const{formatMessage:i}=(0,C.Z)(),c=l===null||l.length===0?i({id:"global.none",defaultMessage:"None"}):[...l].sort().map(p=>Ke()(p)).join(", "),u=e.id?i({id:e.id,defaultMessage:e.defaultMessage}):n;return a.createElement($n.Q,{id:"select1",label:u,customizeContent:()=>c,onChange:p=>{p.length>0?r({target:{name:n,value:p,type:"allowed-types-select"}}):r({target:{name:n,value:null,type:"allowed-types-select"}})},options:Xa,value:l||[]})};At.defaultProps={value:null},At.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().object,s().array])};const Qa=At;var ve=d(77270);const Fn=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var Zt=d(13359),St=d(9370),bt=d(61585),vt=d(68314),G=d(1565);const Ln=(0,G.default)(ue.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,$t=({type:e})=>{const{formatMessage:n}=(0,C.Z)(),{onClickSelectField:r}=(0,ne.Z)(),l=()=>{r({attributeType:e,step:e==="component"?"1":null})};return a.createElement(Ln,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:l},a.createElement(J.k,null,a.createElement(vt.Z,{type:e}),a.createElement(ue.x,{paddingLeft:4},a.createElement(J.k,null,a.createElement(ve.Z,{fontWeight:"bold"},n({id:(0,m.Z)(`attribute.${e}`),defaultMessage:e}))),a.createElement(J.k,null,a.createElement(ve.Z,{variant:"pi",textColor:"neutral600"},n({id:(0,m.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};$t.defaultProps={type:"text"},$t.propTypes={type:s().string};const Ja=$t,Nn=e=>{const n=e%2===1;return{paddingLeft:n?2:0,paddingRight:n?0:2}},On=({attributes:e})=>a.createElement(Zt.k,{tagName:"button"},a.createElement(J.k,{direction:"column",alignItems:"stretch",gap:8},e.map((n,r)=>a.createElement(St.r,{key:r,gap:0},n.map((l,i)=>{const{paddingLeft:c,paddingRight:u}=Nn(i);return a.createElement(bt.P,{key:l,col:6,style:{height:"100%"}},a.createElement(ue.x,{paddingLeft:c,paddingRight:u,paddingBottom:1,style:{height:"100%"}},a.createElement(Ja,{type:l})))})))));On.propTypes={attributes:s().array.isRequired};const _a=On;var er=d(51503),tr=d(80129),nr=d.n(tr),Pn=d(80907),ar=d(4640),rr=d(58252),at=d(12978);const or=(0,G.default)(ue.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,sr=()=>a.createElement(J.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,n)=>a.createElement(or,{key:`empty-card-${n}`,height:"138px",width:"375px",hasRadius:!0}))),ir=()=>{const{formatMessage:e}=(0,C.Z)();return a.createElement(ue.x,{position:"relative"},a.createElement(sr,null),a.createElement(ue.x,{position:"absolute",top:6,width:"100%"},a.createElement(J.k,{alignItems:"center",justifyContent:"center",direction:"column"},a.createElement(Pn.J,{as:rr.Z,color:"",width:"160px",height:"88px"}),a.createElement(ue.x,{paddingTop:6,paddingBottom:4},a.createElement(ue.x,{textAlign:"center"},a.createElement(ve.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,m.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),a.createElement(ue.x,{paddingTop:4},a.createElement(ve.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,m.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),a.createElement(ar.Q,{to:`/marketplace?${nr().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:a.createElement(at.Z,null)},e({id:(0,m.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},jn=({customFieldUid:e,customField:n})=>{const{type:r,intlLabel:l,intlDescription:i}=n,{formatMessage:c}=(0,C.Z)(),{onClickSelectCustomField:u}=(0,ne.Z)(),p=()=>{u({attributeType:r,customFieldUid:e})};return a.createElement(Ln,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:p},a.createElement(J.k,null,a.createElement(vt.Z,{type:r,customField:e}),a.createElement(ue.x,{paddingLeft:4},a.createElement(J.k,null,a.createElement(ve.Z,{fontWeight:"bold"},c(l))),a.createElement(J.k,null,a.createElement(ve.Z,{variant:"pi",textColor:"neutral600"},c(i))))))};jn.propTypes={customFieldUid:s().string.isRequired,customField:s().shape({type:s().string.isRequired,icon:s().func,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,intlDescription:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired}).isRequired};const lr=jn,dr=()=>{const{formatMessage:e}=(0,C.Z)(),n=(0,b.useCustomFields)(),r=Object.entries(n.getAll());if(!r.length)return a.createElement(ir,null);const l=r.sort((i,c)=>i[1].name>c[1].name?1:-1);return a.createElement(Zt.k,{tagName:"button"},a.createElement(J.k,{direction:"column",alignItems:"stretch",gap:3},a.createElement(St.r,{gap:0},l.map(([i,c],u)=>{const{paddingLeft:p,paddingRight:g}=Nn(u);return a.createElement(bt.P,{key:i,col:6,style:{height:"100%"}},a.createElement(ue.x,{paddingLeft:p,paddingRight:g,paddingBottom:1,style:{height:"100%"}},a.createElement(lr,{key:i,customFieldUid:i,customField:c})))})),a.createElement(er.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,m.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},Dn=({attributes:e,forTarget:n,kind:r})=>{const{formatMessage:l}=(0,C.Z)(),i=(0,m.Z)("modalForm.tabs.default"),c=(0,m.Z)("modalForm.tabs.custom"),u=n.includes("component")?"component":r,p=(0,m.Z)(`modalForm.sub-header.chooseAttribute.${u}`);return a.createElement(tt.f,{padding:6},a.createElement(We.v,{label:l({id:(0,m.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},a.createElement(J.k,{justifyContent:"space-between"},a.createElement(ve.Z,{variant:"beta",as:"h2"},l({id:p,defaultMessage:"Select a field"})),a.createElement(Qe.m,null,a.createElement(Qe.O,null,l({id:i,defaultMessage:"Default"})),a.createElement(Qe.O,null,l({id:c,defaultMessage:"Custom"})))),a.createElement(ue.x,{paddingBottom:6},a.createElement(nt.i,null)),a.createElement(st.n,null,a.createElement(st.x,null,a.createElement(_a,{attributes:e})),a.createElement(st.x,null,a.createElement(dr,null)))))};Dn.propTypes={attributes:s().array.isRequired,forTarget:s().string.isRequired,kind:s().string.isRequired};const ur=Dn;var Ft=d(13539);const Lt=({description:e,disabled:n,intlLabel:r,isCreating:l,name:i,onChange:c,value:u})=>{const{formatMessage:p}=(0,C.Z)(),[g,y]=(0,a.useState)(!1),v=r.id?p({id:r.id,defaultMessage:r.defaultMessage},{...r.values}):i,h=e?p({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",S=()=>y(N=>!N),x=()=>{c({target:{name:i,value:!1}}),S()},M=({target:{checked:N}})=>{if(!N&&!l){S();return}c({target:{name:i,value:N}})};return a.createElement(a.Fragment,null,a.createElement(Ft.X,{checked:u,disabled:n,hint:h,name:i,onChange:M},v),a.createElement(b.ConfirmDialog,{isOpen:g,onToggleDialog:S,onConfirm:x,bodyText:{id:(0,m.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,m.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};Lt.defaultProps={description:null,disabled:!1,value:!1},Lt.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isCreating:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().bool};const cr=Lt,Nt=({description:e,disabled:n,intlLabel:r,isCreating:l,name:i,onChange:c,value:u})=>{const{trackUsage:p}=(0,b.useTracking)(),{formatMessage:g}=(0,C.Z)(),[y,v]=(0,a.useState)(!1),h=r.id?g({id:r.id,defaultMessage:r.defaultMessage},{...r.values}):i,S=e?g({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=()=>v(U=>!U),M=()=>{c({target:{name:i,value:!1}}),p("willDisableWorkflow"),x()},N=({target:{checked:U}})=>{if(!U&&!l){x();return}U&&p("willEnableWorkflow"),c({target:{name:i,value:U}})};return a.createElement(a.Fragment,null,a.createElement(Ft.X,{checked:u,disabled:n,hint:S,name:i,onChange:N},h),a.createElement(b.ConfirmDialog,{isOpen:y,onToggleDialog:x,onConfirm:M,bodyText:{id:(0,m.Z)("popUpWarning.review-workflows.message"),defaultMessage:"If you disable the review workflows feature, all stage-related information will be removed for this content-type. Are you sure you want to disable it?"},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,m.Z)("popUpWarning.review-workflows.button.confirm"),defaultMessage:"Yes, disable"}}))};Nt.defaultProps={description:null,disabled:!1,value:!1},Nt.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isCreating:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().bool};const mr=Nt;var wn=d(18189),Ot=d(78784);const Pt=({actionType:e,attributeName:n,attributeType:r,categoryName:l,contentTypeKind:i,dynamicZoneTarget:c,forTarget:u,modalType:p,targetUid:g,customFieldUid:y})=>{const{formatMessage:v}=(0,C.Z)(),{modifiedData:h}=(0,Je.Z)();let S,x=[];const M=h?.[u]?.[g]||h?.[u]||null;let N=M?.schema.displayName;if(p==="contentType"&&(S=i),["component","editCategory"].includes(p)&&(S="component"),["component","contentType"].includes(p)){let L=(0,m.Z)(`modalForm.component.header-${e}`);return p==="contentType"&&(L=(0,m.Z)(`modalForm.${i}.header-create`)),e==="edit"&&(L=(0,m.Z)("modalForm.header-edit")),a.createElement(wn.x,null,a.createElement(J.k,null,a.createElement(ue.x,null,a.createElement(vt.Z,{type:S})),a.createElement(ue.x,{paddingLeft:3},a.createElement(ve.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},v({id:L},{name:N})))))}x=[{label:N,info:{category:M?.category||null,name:M?.schema.displayName}}],p==="chooseAttribute"&&(S=["component","components"].includes(u)?"component":M.schema.kind),p==="addComponentToDynamicZone"&&(S="dynamiczone",x.push({label:c})),(p==="attribute"||p==="customField")&&(S=r,x.push({label:n})),p==="editCategory"&&(x=[{label:v({id:(0,m.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:l}]);const O=x.map(({label:L})=>L).join(",");return a.createElement(wn.x,null,a.createElement(J.k,{gap:3},a.createElement(vt.Z,{type:S,customField:y}),a.createElement(Ot.O,{label:O},x.map((L,F)=>{const se=Ke()(L.label);if(!se)return null;const me=`${L.label}.${F}`;if(L.info?.category){const Te=`${se} (${Ke()(L.info.category)} - ${Ke()(L.info.name)})`;return a.createElement(Ot.$,{key:me},Te)}return a.createElement(Ot.$,{key:me},se)}))))};Pt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},Pt.propTypes={actionType:s().string,attributeName:s().string,attributeType:s().string,categoryName:s().string,contentTypeKind:s().string,dynamicZoneTarget:s().string,forTarget:s().oneOf(["contentType","component","components"]),modalType:s().string.isRequired,targetUid:s().string,customFieldUid:s().string};const pr=Pt,jt=({categoryName:e,deleteCategory:n,deleteComponent:r,deleteContentType:l,isAttributeModal:i,isCustomFieldModal:c,isComponentAttribute:u,isComponentToDzModal:p,isContentTypeModal:g,isCreatingComponent:y,isCreatingComponentAttribute:v,isCreatingComponentInDz:h,isCreatingComponentWhileAddingAField:S,isCreatingContentType:x,isCreatingDz:M,isComponentModal:N,isDzAttribute:U,isEditingAttribute:O,isEditingCategory:L,isInFirstComponentStep:F,onSubmitAddComponentAttribute:se,onSubmitAddComponentToDz:me,onSubmitCreateContentType:Te,onSubmitCreateComponent:Ae,onSubmitCreateDz:_,onSubmitEditAttribute:qe,onSubmitEditCategory:fe,onSubmitEditComponent:pe,onSubmitEditContentType:He,onSubmitEditCustomFieldAttribute:ge,onSubmitEditDz:ut,onClickFinish:Me})=>{const{formatMessage:de}=(0,C.Z)();return p?h?a.createElement(ye.z,{variant:"secondary",type:"submit",onClick:j=>{j.preventDefault(),me(j,!0)},startIcon:a.createElement(at.Z,null)},de({id:(0,m.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):a.createElement(ye.z,{variant:"default",type:"submit",onClick:j=>{j.preventDefault(),me(j,!1)}},de({id:"global.finish",defaultMessage:"Finish"})):i&&U&&!M?a.createElement(ye.z,{variant:"default",type:"submit",onClick:j=>{j.preventDefault(),Me(),ut(j,!1)}},de({id:"global.finish",defaultMessage:"Finish"})):i&&U&&M?a.createElement(a.Fragment,null,a.createElement(ye.z,{variant:"secondary",type:"submit",onClick:j=>{j.preventDefault(),_(j,!0)},startIcon:a.createElement(at.Z,null)},de({id:(0,m.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):i&&u?F?a.createElement(ye.z,{variant:"secondary",type:"submit",onClick:j=>{j.preventDefault(),se(j,!0)}},de(v?{id:(0,m.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,m.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):a.createElement(a.Fragment,null,a.createElement(ye.z,{variant:"secondary",type:"submit",onClick:j=>{j.preventDefault(),se(j,!0)},startIcon:a.createElement(at.Z,null)},de(S?{id:(0,m.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,m.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(ye.z,{variant:"default",type:"button",onClick:j=>{j.preventDefault(),Me(),se(j,!1)}},de({id:"global.finish",defaultMessage:"Finish"}))):i&&!u&&!U?a.createElement(a.Fragment,null,a.createElement(ye.z,{type:O?"button":"submit",variant:"secondary",onClick:j=>{j.preventDefault(),qe(j,!0)},startIcon:a.createElement(at.Z,null)},de({id:(0,m.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(ye.z,{type:O?"submit":"button",variant:"default",onClick:j=>{j.preventDefault(),Me(),qe(j,!1)}},de({id:"global.finish",defaultMessage:"Finish"}))):g?a.createElement(a.Fragment,null,!x&&a.createElement(a.Fragment,null,a.createElement(ye.z,{type:"button",variant:"danger",onClick:j=>{j.preventDefault(),l()}},de({id:"global.delete",defaultMessage:"Delete"})),a.createElement(ye.z,{type:"submit",variant:"default",onClick:j=>{j.preventDefault(),He(j,!1)}},de({id:"global.finish",defaultMessage:"Finish"}))),x&&a.createElement(ye.z,{type:"submit",variant:"secondary",onClick:j=>{j.preventDefault(),Te(j,!0)}},de({id:"global.continue",defaultMessage:"Continue"}))):N?a.createElement(a.Fragment,null,!y&&a.createElement(a.Fragment,null,a.createElement(ye.z,{type:"button",variant:"danger",onClick:j=>{j.preventDefault(),r()}},de({id:"global.delete",defaultMessage:"Delete"})),a.createElement(ye.z,{type:"submit",variant:"default",onClick:j=>{j.preventDefault(),pe(j,!1)}},de({id:"global.finish",defaultMessage:"Finish"}))),y&&a.createElement(ye.z,{type:"submit",variant:"secondary",onClick:j=>{j.preventDefault(),Ae(j,!0)}},de({id:"global.continue",defaultMessage:"Continue"}))):L?a.createElement(a.Fragment,null,a.createElement(ye.z,{type:"button",variant:"danger",onClick:j=>{j.preventDefault(),n(e)}},de({id:"global.delete",defaultMessage:"Delete"})),a.createElement(ye.z,{type:"submit",variant:"default",onClick:j=>{j.preventDefault(),fe(j)}},de({id:"global.finish",defaultMessage:"finish"}))):c?a.createElement(a.Fragment,null,a.createElement(ye.z,{type:O?"button":"submit",variant:"secondary",onClick:j=>{j.preventDefault(),ge(j,!0)},startIcon:a.createElement(at.Z,null)},de({id:(0,m.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(ye.z,{type:O?"submit":"button",variant:"default",onClick:j=>{j.preventDefault(),Me(),ge(j,!1)}},de({id:"global.finish",defaultMessage:"Finish"}))):null};jt.defaultProps={categoryName:null,onClickFinish(){}},jt.propTypes={categoryName:s().string,deleteCategory:s().func.isRequired,deleteComponent:s().func.isRequired,deleteContentType:s().func.isRequired,isAttributeModal:s().bool.isRequired,isCustomFieldModal:s().bool.isRequired,isComponentAttribute:s().bool.isRequired,isComponentModal:s().bool.isRequired,isComponentToDzModal:s().bool.isRequired,isContentTypeModal:s().bool.isRequired,isCreatingComponent:s().bool.isRequired,isCreatingComponentAttribute:s().bool.isRequired,isCreatingComponentInDz:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,isCreatingContentType:s().bool.isRequired,isCreatingDz:s().bool.isRequired,isDzAttribute:s().bool.isRequired,isEditingAttribute:s().bool.isRequired,isEditingCategory:s().bool.isRequired,isInFirstComponentStep:s().bool.isRequired,onSubmitAddComponentAttribute:s().func.isRequired,onSubmitAddComponentToDz:s().func.isRequired,onSubmitCreateContentType:s().func.isRequired,onSubmitCreateComponent:s().func.isRequired,onSubmitCreateDz:s().func.isRequired,onSubmitEditAttribute:s().func.isRequired,onSubmitEditCategory:s().func.isRequired,onSubmitEditComponent:s().func.isRequired,onSubmitEditContentType:s().func.isRequired,onSubmitEditCustomFieldAttribute:s().func.isRequired,onSubmitEditDz:s().func.isRequired,onClickFinish:s().func};const gr=jt,fr=({modalType:e,forTarget:n,kind:r,actionType:l,step:i})=>{switch(e){case"chooseAttribute":return(0,m.Z)(`modalForm.sub-header.chooseAttribute.${n.includes("component")?"component":r||"collectionType"}`);case"attribute":return(0,m.Z)(`modalForm.sub-header.attribute.${l}${i!=="null"&&i!==null&&l!=="edit"?".step":""}`);case"customField":return(0,m.Z)(`modalForm.sub-header.attribute.${l}`);case"addComponentToDynamicZone":return(0,m.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,m.Z)("configurations")}},Dt=({actionType:e,modalType:n,forTarget:r,kind:l,step:i,attributeType:c,attributeName:u,customField:p})=>{const{formatMessage:g}=(0,C.Z)(),y=n==="customField"?p.intlLabel:{id:(0,m.Z)(`attribute.${c}`)};return a.createElement(J.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},a.createElement(ve.Z,{as:"h2",variant:"beta"},g({id:fr({actionType:e,forTarget:r,kind:l,step:i,modalType:n}),defaultMessage:"Add new field"},{type:Ke()(g(y)),name:Ke()(u),step:i})),a.createElement(ve.Z,{variant:"pi",textColor:"neutral600"},g({id:(0,m.Z)(`attribute.${c}.description`),defaultMessage:"A type for modeling data"})))};Dt.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},Dt.propTypes={actionType:s().string,modalType:s().string,forTarget:s().string,kind:s().string,step:s().string,attributeType:s().string,attributeName:s().string,customField:s().object};const hr=Dt;var Ct=d(50614),Tt=d(473);const wt=({intlLabel:e,name:n,options:r,onChange:l,value:i})=>{const{formatMessage:c}=(0,C.Z)(),u=e.id?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):n,p=g=>{let y="";g==="true"&&(y=!0),g==="false"&&(y=!1),l({target:{name:n,value:y,type:"select-default-boolean"}})};return a.createElement(Ct.P,{label:u,id:n,name:n,onChange:p,value:(i===null?"":i).toString()},r.map(({metadatas:{intlLabel:g,disabled:y,hidden:v},key:h,value:S})=>a.createElement(Tt.W,{key:h,value:S,disabled:y,hidden:v},g.defaultMessage)))};wt.defaultProps={value:null},wt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().any};const yr=wt;var br=d(27882);const vr=(0,G.default)(J.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,br.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${ve.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,kt=({intlLabel:e,name:n,onChange:r,radios:l,value:i})=>{const{formatMessage:c}=(0,C.Z)();return a.createElement(J.k,{direction:"column",alignItems:"stretch",gap:2},a.createElement(ve.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:n,as:"label"},c(e)),a.createElement(vr,{gap:4,alignItems:"stretch"},l.map(u=>a.createElement("label",{htmlFor:u.value.toString(),key:u.value,className:"container"},a.createElement("input",{id:u.value.toString(),name:n,className:"option-input",checked:u.value===i,value:u.value,key:u.value,onChange:r,type:"radio"}),a.createElement(ue.x,{className:"option",padding:4},a.createElement(J.k,null,a.createElement(ue.x,{paddingRight:4},a.createElement("span",{className:"checkmark"})),a.createElement(J.k,{direction:"column",alignItems:"stretch",gap:2},a.createElement(ve.Z,{fontWeight:"bold"},c(u.title)),a.createElement(ve.Z,{variant:"pi",textColor:"neutral600"},c(u.description)))))))))};kt.defaultProps={radios:[]},kt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,radios:s().arrayOf(s().shape({title:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),value:s().any.isRequired})),value:s().oneOfType([s().string,s().bool]).isRequired};const It=kt,kn=({onChange:e,name:n,...r})=>{const l=i=>{const c=i.target.value!=="false";e({target:{name:n,value:c,type:"boolean-radio-group"}})};return a.createElement(It,{...r,name:n,onChange:l})};kn.propTypes={name:s().string.isRequired,onChange:s().func.isRequired};const Cr=kn;var qt=d(28469),Tr=d(29872);const Bt=({error:e,intlLabel:n,modifiedData:r,name:l,onChange:i,value:c})=>{const{formatMessage:u}=(0,C.Z)(),[p,g]=(0,a.useState)(!!c||c===0),y=n.id?u({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):l,v=r.type==="biginteger"?"text":"number",h=!r.type,S=e?u({id:e,defaultMessage:e}):"";return a.createElement(J.k,{direction:"column",alignItems:"stretch",gap:2},a.createElement(Ft.X,{id:l,name:l,onValueChange:x=>{i({target:{name:l,value:x?v==="text"?"0":0:null}}),g(U=>!U)},value:p},y),p&&a.createElement(ue.x,{paddingLeft:6,style:{maxWidth:"200px"}},v==="text"?a.createElement(qt.o,{"aria-label":y,disabled:h,error:S,id:l,name:l,onChange:i,value:c===null?"":c}):a.createElement(Tr.Y,{"aria-label":y,disabled:h,error:S,id:l,name:l,onValueChange:x=>{i({target:{name:l,value:x,type:v}})},value:c||0})))};Bt.defaultProps={error:null,value:null},Bt.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().string,s().object,s().bool,s().number])};const xr=Bt,In=({onChange:e,...n})=>{const r=(0,b.useNotification)(),l=i=>{r({type:"info",message:{id:(0,m.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(i)};return a.createElement(It,{...n,onChange:l})};In.propTypes={onChange:s().func.isRequired};const Er=In;var zt=d(1734),qn=d(95569),be=d(59015);const Wt=({oneThatIsCreatingARelationWithAnother:e,target:n})=>{const{contentTypes:r,sortedContentTypesList:l}=(0,Je.Z)(),i=(0,Q.I0)(),c=l.filter(Fn),u=f()(r,[n,"plugin"],null),p=f()(r,[n,"schema","displayName"],"error");return a.createElement(qn.O,{id:"label",label:`${p}
    ${u?`(from: ${u})`:""}`},c.map(({uid:g,title:y,restrictRelationsTo:v,plugin:h})=>{const S=()=>{const x=h?`${h}_${y}`:y;i({type:be.aG,target:{value:g,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:x,targetContentTypeAllowedRelations:v}})};return a.createElement(qn.s,{key:g,onClick:S},y,"\xA0",h&&a.createElement(a.Fragment,null,"(from: ",h,")"))}))};Wt.defaultProps={target:null},Wt.propTypes={oneThatIsCreatingARelationWithAnother:s().string.isRequired,target:s().string};const Mr=Wt,Ut=({disabled:e,error:n,header:r,isMain:l,name:i,onChange:c,oneThatIsCreatingARelationWithAnother:u,target:p,value:g})=>a.createElement(ue.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},a.createElement(J.k,{paddingTop:l?4:1,paddingBottom:l?3:1,justifyContent:"center"},l?a.createElement(ve.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},r):a.createElement(Mr,{target:p,oneThatIsCreatingARelationWithAnother:u})),a.createElement(nt.i,{background:"neutral200"}),a.createElement(ue.x,{padding:4},a.createElement(b.GenericInput,{disabled:e,error:n?.id||null,intlLabel:{id:(0,m.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:i,onChange:c,type:"text",value:g})));Ut.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},Ut.propTypes={disabled:s().bool,error:s().object,header:s().string,isMain:s().bool,name:s().string.isRequired,onChange:s().func,oneThatIsCreatingARelationWithAnother:s().string,target:s().string,value:s().string};const Bn=Ut;var Rr=d(39138),zn=d.n(Rr),Ar=d(23450),Vt=d.n(Ar),Zr=d(95899),Sr=d(4026),$r=d(41681),Fr=d(77543),Lr=d(98860),Nr=d(84410);const Or=(0,G.default)(ue.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Pr=(0,G.default)(ue.x)`
  background: ${({theme:e,isSelected:n})=>e.colors[n?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,jr=(0,G.default)(J.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Dr={oneWay:Zr.Z,oneToOne:Sr.Z,oneToMany:$r.Z,manyToOne:Fr.Z,manyToMany:Lr.Z,manyWay:Nr.Z},Ht=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:n,relationType:r,target:l})=>{const i=(0,Q.I0)(),{formatMessage:c}=(0,C.Z)(),{contentTypes:u,modifiedData:p}=(0,Je.Z)(),g=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],y=["oneWay","manyWay"],h=(e==="contentType"?f()(p,[e,"schema","kind"],""):e)==="collectionType"?g:y,S=r==="manyToOne",x=f()(u,[l,"schema","displayName"],"unknown"),M=S?x:n,N=S?n:x,U=Vt()(M,r==="manyToMany"?2:1),O=f()(u,[l,"schema","restrictRelationsTo"],null),L=Vt()(N,["manyToMany","oneToMany","manyToOne","manyWay"].includes(r)?2:1);return r?a.createElement(J.k,{style:{flex:1}},a.createElement(Or,null,a.createElement(J.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},a.createElement(Zt.k,{tagName:"button"},a.createElement(J.k,{gap:3},h.map(F=>{const se=Dr[F],me=O===null||O.includes(F);return a.createElement(Pr,{as:"button",isSelected:r===F,disabled:!me,key:F,onClick:()=>{me&&i({type:be.QQ,target:{oneThatIsCreatingARelationWithAnother:n,targetContentType:l,value:F}})},padding:2,type:"button"},a.createElement(se,{key:F}))}))))),a.createElement(jr,{justifyContent:"center"},a.createElement(ve.Z,null,zn()(U,{length:24}),"\xA0"),a.createElement(ve.Z,{textColor:"primary600"},c({id:(0,m.Z)(`relation.${r}`)}),"\xA0"),a.createElement(ve.Z,null,zn()(L,{length:24})))):null};Ht.defaultProps={relationType:null,target:null},Ht.propTypes={naturePickerType:s().string.isRequired,oneThatIsCreatingARelationWithAnother:s().string.isRequired,relationType:s().string,target:s().string};const wr=Ht,Wn=({formErrors:e,mainBoxHeader:n,modifiedData:r,naturePickerType:l,onChange:i})=>{const c=(0,zt.Z)(r.relation,r.targetAttribute);return a.createElement(J.k,{style:{position:"relative"}},a.createElement(Bn,{isMain:!0,header:n,error:e?.name||null,name:"name",onChange:i,value:r?.name||""}),a.createElement(wr,{naturePickerType:l,oneThatIsCreatingARelationWithAnother:n,relationType:c,target:r.target}),a.createElement(Bn,{disabled:["oneWay","manyWay"].includes(c),error:e?.targetAttribute||null,name:"targetAttribute",onChange:i,oneThatIsCreatingARelationWithAnother:n,target:r.target,value:r?.targetAttribute||""}))};Wn.propTypes={formErrors:s().object.isRequired,mainBoxHeader:s().string.isRequired,modifiedData:s().object.isRequired,naturePickerType:s().string.isRequired,onChange:s().func.isRequired};const kr=Wn;var Un=d(97406);const Gt=({description:e,error:n,intlLabel:r,modifiedData:l,name:i,onChange:c,value:u})=>{const{formatMessage:p}=(0,C.Z)(),g=(0,a.useRef)(c),y=l?.displayName||"";(0,a.useEffect)(()=>{if(y){const x=(0,Un.Z)(y);try{const M=Vt()(x,2);g.current({target:{name:i,value:M}})}catch{g.current({target:{name:i,value:x}})}}else g.current({target:{name:i,value:""}})},[y,i]);const v=n?p({id:n,defaultMessage:n}):"",h=e?p({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",S=p(r);return a.createElement(qt.o,{error:v,label:S,id:i,hint:h,name:i,onChange:c,value:u||""})};Gt.defaultProps={description:null,error:null,value:null},Gt.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Ir=Gt;var qr=d(63122),Br=d(85612);const Kt=({error:e,intlLabel:n,name:r,onChange:l,value:i})=>{const{formatMessage:c}=(0,C.Z)(),{allComponentsCategories:u}=(0,Je.Z)(),[p,g]=(0,a.useState)(u),y=e?c({id:e,defaultMessage:e}):"",v=c(n),h=x=>{l({target:{name:r,value:x,type:"select-category"}})},S=x=>{g(M=>[...M,x]),h(x)};return a.createElement(qr.XU,{error:y,id:r,label:v,name:r,onChange:h,onCreateOption:S,value:i},p.map(x=>a.createElement(Br.O,{key:x,value:x},x)))};Kt.defaultProps={error:null,value:null},Kt.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const zr=Kt,Yt=({error:e,intlLabel:n,isAddingAComponentToAnotherComponent:r,isCreating:l,isCreatingComponentWhileAddingAField:i,componentToCreate:c,name:u,onChange:p,targetUid:g,forTarget:y,value:v})=>{const{formatMessage:h}=(0,C.Z)(),S=e?h({id:e,defaultMessage:e}):"",x=h(n),{componentsGroupedByCategory:M,componentsThatHaveOtherComponentInTheirAttributes:N}=(0,Je.Z)(),U=["component","components"].includes(y);let O=Object.entries(M).reduce((L,F)=>{const[se,me]=F,Te=me.map(Ae=>({uid:Ae.uid,label:Ae.schema.displayName,categoryName:se}));return[...L,...Te]},[]);return r&&(O=O.filter(L=>!N.includes(L.uid))),U&&(O=O.filter(L=>L.uid!==g)),i&&(O=[{uid:v,label:c.displayName,categoryName:c.category}]),a.createElement(Ct.P,{disabled:i||!l,error:S,label:x,id:u,name:u,onChange:L=>{p({target:{name:u,value:L,type:"select-category"}})},value:v||""},O.map(L=>a.createElement(Tt.W,{key:L.uid,value:L.uid},`${L.categoryName} - ${L.label}`)))};Yt.defaultProps={componentToCreate:null,error:null},Yt.propTypes={componentToCreate:s().object,forTarget:s().string.isRequired,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isAddingAComponentToAnotherComponent:s().bool.isRequired,isCreating:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,targetUid:s().string.isRequired,value:s().string.isRequired};const Wr=Yt,Xt=(e,n)=>e.find(({name:r})=>r===n),Vn=({dynamicZoneTarget:e,intlLabel:n,name:r,onChange:l,value:i})=>{const{formatMessage:c}=(0,C.Z)(),{componentsGroupedByCategory:u,modifiedData:p}=(0,Je.Z)(),y=(Xt(p.contentType.schema.attributes,e)||{}).components||[],v=Object.keys(u).reduce((x,M)=>{const N=u[M].filter(({uid:U})=>!y.includes(U));return N.length>0&&(x[M]=N),x},{}),h=Object.entries(v).reduce((x,M)=>{const[N,U]=M,O={label:N,children:U.map(({uid:L,schema:{displayName:F}})=>({label:F,value:L}))};return x.push(O),x},[]),S=c({id:(0,m.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:i.length});return a.createElement($n.Q,{id:"select1",label:c(n),customizeContent:()=>S,name:r,onChange:x=>{l({target:{name:r,value:x,type:"select-components"}})},options:h,value:i||[]})};Vn.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,dynamicZoneTarget:s().string.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().array.isRequired};const Ur=Vn,Qt=({intlLabel:e,error:n,modifiedData:r,name:l,onChange:i,options:c,value:u})=>{const{formatMessage:p}=(0,C.Z)(),g=p(e),y=n?p({id:n,defaultMessage:n}):"",v=h=>{i({target:{name:l,value:h,type:"select"}}),u&&r.default!==void 0&&r.default!==null&&i({target:{name:"default",value:null}})};return a.createElement(Ct.P,{error:y,label:g,id:l,name:l,onChange:v,value:u||""},c.map(({metadatas:{intlLabel:h,disabled:S,hidden:x},key:M,value:N})=>a.createElement(Tt.W,{key:M,value:N,disabled:S,hidden:x},p({id:h.id,defaultMessage:h.defaultMessage},h.values))))};Qt.defaultProps={error:void 0,value:""},Qt.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const Vr=Qt,Jt=({intlLabel:e,error:n,modifiedData:r,name:l,onChange:i,options:c,value:u})=>{const{formatMessage:p}=(0,C.Z)(),g=p(e),y=n?p({id:n,defaultMessage:n}):"",v=h=>{i({target:{name:l,value:h,type:"select"}}),u&&(h==="biginteger"&&u!=="biginteger"&&(r.default!==void 0&&r.default!==null&&i({target:{name:"default",value:null}}),r.max!==void 0&&r.max!==null&&i({target:{name:"max",value:null}}),r.min!==void 0&&r.min!==null&&i({target:{name:"min",value:null}})),["decimal","float","integer"].includes(h)&&u==="biginteger"&&(r.default!==void 0&&r.default!==null&&i({target:{name:"default",value:null}}),r.max!==void 0&&r.max!==null&&i({target:{name:"max",value:null}}),r.min!==void 0&&r.min!==null&&i({target:{name:"min",value:null}})))};return a.createElement(Ct.P,{error:y,label:g,id:l,name:l,onChange:v,value:u||""},c.map(({metadatas:{intlLabel:h,disabled:S,hidden:x},key:M,value:N})=>a.createElement(Tt.W,{key:M,value:N,disabled:S,hidden:x},p(h))))};Jt.defaultProps={error:void 0,value:""},Jt.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const Hr=Jt,_t=({description:e,error:n,intlLabel:r,modifiedData:l,name:i,onChange:c,value:u})=>{const{formatMessage:p}=(0,C.Z)(),g=(0,a.useRef)(c),y=l?.displayName||"";(0,a.useEffect)(()=>{y?g.current({target:{name:i,value:(0,Un.Z)(y)}}):g.current({target:{name:i,value:""}})},[y,i]);const v=n?p({id:n,defaultMessage:n}):"",h=e?p({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",S=p(r);return a.createElement(qt.o,{error:v,label:S,id:i,hint:h,name:i,onChange:c,value:u||""})};_t.defaultProps={description:null,error:null,value:null},_t.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Gr=_t,Hn=({form:e,formErrors:n,genericInputProps:r,modifiedData:l,onChange:i})=>{const{formatMessage:c}=(0,C.Z)();return e.map((u,p)=>u.items.length===0?null:a.createElement(ue.x,{key:p},u.sectionTitle&&a.createElement(ue.x,{paddingBottom:4},a.createElement(ve.Z,{variant:"delta",as:"h3"},c(u.sectionTitle))),a.createElement(St.r,{gap:4},u.items.map((g,y)=>{const v=`${p}.${y}`,h=f()(l,g.name,""),S=Object.keys(n).find(M=>M===g.name),x=S?n[S].id:f()(n,[...g.name.split(".").filter(M=>M!=="componentToCreate"),"id"],null);return g.type==="pushRight"?a.createElement(bt.P,{col:g.size||6,key:g.name||v},a.createElement("div",null)):a.createElement(bt.P,{col:g.size||6,key:g.name||v},a.createElement(b.GenericInput,{...g,...r,error:x,onChange:i,value:h}))}))))};Hn.propTypes={form:s().arrayOf(s().object).isRequired,formErrors:s().object.isRequired,genericInputProps:s().object.isRequired,modifiedData:s().object.isRequired,onChange:s().func.isRequired};const Gn=Hn;var Kr=d(20603);const en=({description:e,disabled:n,error:r,intlLabel:l,labelAction:i,name:c,onChange:u,placeholder:p,value:g})=>{const{formatMessage:y}=(0,C.Z)(),v=r?y({id:r,defaultMessage:r}):"",h=e?y({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",S=y(l),x=p?y({id:p.id,defaultMessage:p.defaultMessage},{...p.values}):"",M=Array.isArray(g)?g.join(`
`):"",N=U=>{const O=U.target.value.split(`
`);u({target:{name:c,value:O}})};return a.createElement(Kr.g,{disabled:n,error:v,label:S,labelAction:i,id:c,hint:h,name:c,onChange:N,placeholder:x,value:M},M)};en.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},en.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,labelAction:s().element,name:s().string.isRequired,onChange:s().func.isRequired,placeholder:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),value:s().oneOfType([s().array,s().string])};const Yr=en,Xr=(e,n)=>{const r=f()(e,["contentType","schema","kind"],"");return r==="singleType"||r===n.kind?!0:f()(e,["contentType","schema","attributes"],[]).filter(({relation:c,type:u,targetAttribute:p})=>{const g=(0,zt.Z)(c,p);return u==="relation"&&!["oneWay","manyWay"].includes(g)}).length===0},Qr=(e="",n,r)=>{const l=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],i=e==="contentType",c=r.includes(n),u=!i&&!c;return i?[[...l,"uid"],["component","dynamiczone"]]:u?[l,["component"]]:[l]},Kn=e=>e.reduce((n,r)=>{const l=r.items.reduce((i,c)=>(c.name&&i.push(c.name),i),[]);return[...n,...l]},[]);var Z=d(87561),it=d(97392);const Jr={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,m.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},Yn=/^[A-Za-z][-_0-9A-Za-z]*$/,_r=e=>{const n={name:Z.Z_().matches(Yn,b.translatedErrors.regex).test({name:"nameNotAllowed",message:b.translatedErrors.unique,test(r){return r?!e.includes(r?.toLowerCase()):!1}}).required(b.translatedErrors.required)};return Z.Ry(n)},eo=(e,n,r)=>{const l={displayName:Z.Z_().test({name:"nameAlreadyUsed",message:b.translatedErrors.unique,test(i){if(!i)return!1;const c=(0,it.N)(i,r);return!e.includes(c)}}).test({name:"nameNotAllowed",message:(0,m.Z)("error.contentTypeName.reserved-name"),test(i){return i?!n.includes(i?.trim()?.toLowerCase()):!1}}).required(b.translatedErrors.required),category:Z.Z_().matches(Yn,b.translatedErrors.regex).required(b.translatedErrors.required),icon:Z.Z_()};return Z.Ry(l)},tn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,m.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,m.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,m.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,m.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},lt={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,m.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,m.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]}]},advanced(){return[]}},w={default:{name:"default",type:"text",intlLabel:{id:(0,m.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,m.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,m.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,m.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,m.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,m.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,m.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,m.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,m.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,m.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,m.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,m.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,m.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},to={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,m.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.private]}]}},component({repeatable:e},n){return n==="1"?{sections:lt.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.private,w.max,w.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...w.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.unique,w.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.max,w.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...w.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.unique,w.maxLength,w.minLength,w.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,m.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((n,r)=>e.enum.indexOf(n)===r&&n).map(n=>({key:n,value:n,metadatas:{intlLabel:{id:`${n}.no-override`,defaultMessage:n}}}))]},{intlLabel:{id:(0,m.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,m.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,m.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.private]}]}},number(e){const n=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:n,intlLabel:{id:(0,m.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.unique,w.max,w.min,w.private]}]}},password(){return{sections:[{sectionTitle:null,items:[w.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.maxLength,w.minLength,w.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[w.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.maxLength,w.minLength,w.private]}]}},text(){return{sections:[{sectionTitle:null,items:[w.default,w.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.unique,w.maxLength,w.minLength,w.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...w.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[w.required,w.maxLength,w.minLength,w.private]}]}}},Ue={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,m.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},Xn={advanced:to,base:{component(e,n){if(n==="1"){const r=e.createComponent===!0?lt.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[tn]},...r]}}return{sections:[{sectionTitle:null,items:[Ue,{name:"component",type:"select-component",intlLabel:{id:(0,m.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,m.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,m.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,m.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,m.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Ue,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Ue]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,m.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,m.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Ue]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,m.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,m.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,m.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,m.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Ue,{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Ue]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,m.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,m.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,m.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,m.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Ue]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,m.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,m.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,m.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,m.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,n,r){const l=r.filter(({type:i})=>["string","text"].includes(i)).map(({name:i})=>({key:i,value:i,metadatas:{intlLabel:{id:`${i}.no-override`,defaultMessage:i}}}));return{sections:[{sectionTitle:null,items:[{...Ue,placeholder:{id:(0,m.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,m.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...l]}]}]}}}},no={sections:[{sectionTitle:null,items:[Ue]}]};var ao=d(44908),ro=d.n(ao),oo=d(46831),so=d.n(oo);const nn=e=>so()(e,{decamelize:!1,lowercase:!1,separator:"_"});var io=d(14841),an=d.n(io);const Qn=/^[A-Za-z][_0-9A-Za-z]*$/,Jn=e=>({name:"attributeNameAlreadyUsed",message:b.translatedErrors.unique,test(n){return n?!e.includes(n):!1}}),wi=(e,n,r)=>{const l=e?.schema?.attributes??{};return Object.keys(l).filter(i=>n?i!==r:!0)},rn=e=>({name:"forbiddenAttributeName",message:(0,m.Z)("error.attributeName.reserved-name"),test(n){return n?!e.includes(n):!1}}),E={default:()=>Z.Z_().nullable(),max:()=>Z.Rx().integer().nullable(),min:()=>Z.Rx().integer().when("max",(e,n)=>e?n.max(e,(0,m.Z)("error.validation.minSupMax")):n).nullable(),maxLength:()=>Z.Rx().integer().positive((0,m.Z)("error.validation.positive")).nullable(),minLength:()=>Z.Rx().integer().min(0).when("maxLength",(e,n)=>e?n.max(e,(0,m.Z)("error.validation.minSupMax")):n).nullable(),name(e,n){return Z.Z_().test(Jn(e)).test(rn(n)).matches(Qn,b.translatedErrors.regex).required(b.translatedErrors.required)},required:()=>Z.O7(),type:()=>Z.Z_().required(b.translatedErrors.required),unique:()=>Z.O7().nullable()},on=(e,n)=>({name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength(),regex:Z.Z_().test({name:"isValidRegExpPattern",message:(0,m.Z)("error.validation.regex"),test(l){return new RegExp(l)!==null}}).nullable()}),sn={name:"isMinSuperiorThanMax",message:(0,m.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:n}=this.parent;return!n||Number.isNaN(an()(e))?!0:an()(n)>=an()(e)}},ln={date(e,n){const r={name:E.name(e,n),type:E.type()};return Z.Ry(r)},datetime(e,n){const r={name:E.name(e,n),type:E.type()};return Z.Ry(r)},time(e,n){const r={name:E.name(e,n),type:E.type()};return Z.Ry(r)},default(e,n){const r={name:E.name(e,n),type:E.type()};return Z.Ry(r)},biginteger(e,n){const r={name:E.name(e,n),type:E.type(),default:Z.Z_().nullable().matches(/^-?\d*$/),unique:E.unique(),required:E.required(),max:Z.Z_().nullable().matches(/^-?\d*$/,b.translatedErrors.regex),min:Z.Z_().nullable().test(sn).matches(/^-?\d*$/,b.translatedErrors.regex)};return Z.Ry(r)},boolean(e,n){const r={name:E.name(e,n),default:Z.O7().nullable(),required:E.required(),unique:E.unique()};return Z.Ry(r)},component(e,n){const r={name:E.name(e,n),type:E.type(),required:E.required(),max:E.max(),min:E.min(),component:Z.Z_().required(b.translatedErrors.required)};return Z.Ry(r)},decimal(e,n){const r={name:E.name(e,n),type:E.type(),default:Z.Rx(),required:E.required(),max:Z.Rx(),min:Z.Rx().test(sn)};return Z.Ry(r)},dynamiczone(e,n){const r={name:E.name(e,n),type:E.type(),required:E.required(),max:E.max(),min:E.min()};return Z.Ry(r)},email(e,n){const r={name:E.name(e,n),type:E.type(),default:Z.Z_().email().nullable(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return Z.Ry(r)},enumeration(e,n){const r=/^[_A-Za-z][_0-9A-Za-z]*$/,l={name:Z.Z_().test(Jn(e)).test(rn(n)).matches(r,b.translatedErrors.regex).required(b.translatedErrors.required),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),enum:Z.IX().of(Z.Z_()).min(1,b.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,m.Z)("error.validation.enum-duplicate"),test(i){return!ro()(i.map(nn).filter((u,p,g)=>g.indexOf(u)!==p)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,m.Z)("error.validation.enum-empty-string"),test:i=>!i.map(nn).some(c=>c==="")}).test({name:"doesMatchRegex",message:(0,m.Z)("error.validation.enum-regex"),test:i=>i.map(nn).every(c=>r.test(c))}),enumName:Z.Z_().nullable()};return Z.Ry(l)},float(e,n){const r={name:E.name(e,n),type:E.type(),required:E.required(),default:Z.Rx(),max:Z.Rx(),min:Z.Rx().test(sn)};return Z.Ry(r)},integer(e,n){const r={name:E.name(e,n),type:E.type(),default:Z.Rx().integer(),unique:E.unique(),required:E.required(),max:E.max(),min:E.min()};return Z.Ry(r)},json(e,n){const r={name:E.name(e,n),type:E.type(),required:E.required(),unique:E.unique()};return Z.Ry(r)},media(e,n){const r={name:E.name(e,n),type:E.type(),multiple:Z.O7(),required:E.required(),allowedTypes:Z.IX().of(Z.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return Z.Ry(r)},password(e,n){const r={name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return Z.Ry(r)},relation(e,n,r,{initialData:l,modifiedData:i}){const c={name:E.name(e,n),target:Z.Z_().required(b.translatedErrors.required),relation:Z.Z_().required(),type:Z.Z_().required(),targetAttribute:Z.Vo(()=>{const u=(0,zt.Z)(i.relation,i.targetAttribute);if(u==="oneWay"||u==="manyWay")return Z.Z_().nullable();let p=Z.Z_().test(rn(n)),y=[...r.map(({name:v})=>v),i.name].filter(v=>v!==l.targetAttribute);return p.matches(Qn,b.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,m.Z)("error.validation.relation.targetAttribute-taken"),test(v){return v?!y.includes(v):!1}}).required(b.translatedErrors.required)})};return Z.Ry(c)},richtext(e,n){const r={name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return Z.Ry(r)},string(e,n){const r=on(e,n);return Z.Ry(r)},text(e,n){const r=on(e,n);return Z.Ry(r)},uid(e,n){const r=on(e,n);return Z.Ry(r)}},_n={name:"displayName",type:"text",intlLabel:{id:(0,m.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},dn={advanced:{default(){const e=[{intlLabel:{id:(0,m.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,m.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}];return window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS)&&e.push({intlLabel:{id:(0,m.Z)("contentType.reviewWorkflows.label"),defaultMessage:"Review Workflows"},description:{id:(0,m.Z)("contentType.reviewWorkflows.description"),defaultMessage:"Allows having content in different review stages"},name:"reviewWorkflows",type:"toggle-review-workflows",validations:{}}),{sections:[{items:e}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[_n,{description:{id:(0,m.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,m.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,m.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,m.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[_n,{disabled:!0,description:{id:(0,m.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,m.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,m.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,m.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,m.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,m.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,m.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,m.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},lo=({usedContentTypeNames:e=[],reservedModels:n=[],singularNames:r=[],pluralNames:l=[],collectionNames:i=[]})=>{const c={displayName:Z.Z_().test({name:"nameAlreadyUsed",message:b.translatedErrors.unique,test(u){if(!u)return!1;const p=(0,it.E)(u);return!e.includes(p)}}).test({name:"nameNotAllowed",message:(0,m.Z)("error.contentTypeName.reserved-name"),test(u){return u?!n.includes(u?.trim()?.toLowerCase()):!1}}).required(b.translatedErrors.required),pluralName:Z.Z_().test({name:"pluralNameAlreadyUsed",message:b.translatedErrors.unique,test(u){return u?!l.includes(u):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:(0,m.Z)("error.contentType.pluralName-equals-singularName"),test(u){return u?!r.includes(u):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,m.Z)("error.contentType.pluralName-used"),test(u,p){return u?p.parent.singularName!==u:!1}}).test({name:"pluralNameNotAllowed",message:(0,m.Z)("error.contentTypeName.reserved-name"),test(u){return u?!n.includes(u?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:(0,m.Z)("error.contentType.pluralName-equals-collectionName"),test(u){return u?!i.includes(u?.trim()?.toLowerCase()):!1}}).required(b.translatedErrors.required),singularName:Z.Z_().test({name:"singularNameAlreadyUsed",message:b.translatedErrors.unique,test(u){return u?!r.includes(u):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:(0,m.Z)("error.contentType.singularName-equals-pluralName"),test(u){return u?!l.includes(u):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,m.Z)("error.contentType.singularName-used"),test(u,p){return u?p.parent.pluralName!==u:!1}}).test({name:"singularNameNotAllowed",message:(0,m.Z)("error.contentTypeName.reserved-name"),test(u){return u?!n.includes(u?.trim()?.toLowerCase()):!1}}).required(b.translatedErrors.required),draftAndPublish:Z.O7(),kind:Z.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:Z.O7()};return Z.Ry(c)},un={advanced:{default(){return{sections:lt.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[tn]},...lt.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[tn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,m.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},ea=(e,n)=>{e.forEach(r=>{if(!("sectionTitle"in r)){n[0].items.push(r);return}n.push(r)})},ta=(e,n)=>e.filter(({name:r})=>r!==n.initialData.name).map(({name:r})=>r),_e={customField:{schema({schemaAttributes:e,attributeType:n,customFieldValidator:r,reservedNames:l,schemaData:i,ctbFormsAPI:c}){const u=ta(e,i),p=ln[n](u,l.attributes);return c.makeCustomFieldValidator(p,r,u,l.attributes,i)},form:{base({customField:e}){const n=[{sectionTitle:null,items:[Ue]}];return e.options?.base&&ea(e.options.base,n),{sections:n}},advanced({customField:e,data:n,step:r,extensions:l,...i}){const c=[{sectionTitle:null,items:[]}],u=l.getAdvancedForm(["attribute",e.type],{data:n,type:e.type,step:r,...i});if(e.options?.advanced&&ea(e.options.advanced,c),u){const p={sectionTitle:{id:(0,m.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:u};c.push(p)}return{sections:c}}}},attribute:{schema(e,n,r,l,i,c){const u=f()(e,["schema","attributes"],[]),p=ta(u,i);try{let g=ln[n](p,r.attributes,l,i);return c.makeValidator(["attribute",n],g,p,r.attributes,l,i)}catch(g){return console.error("Error yup build schema",g),ln.default(p,r.attributes)}},form:{advanced({data:e,type:n,step:r,extensions:l,...i}){try{const c=Xn.advanced[n](e,r).sections,u=l.getAdvancedForm(["attribute",n],{data:e,type:n,step:r,...i});return{sections:c.reduce((g,y)=>(y.sectionTitle===null?g.push(y):g.push({...y,items:[...y.items,...u]}),g),[])}}catch(c){return console.error(c),{sections:[]}}},base({data:e,type:n,step:r,attributes:l}){try{return Xn.base[n](e,r,l)}catch{return no}}}},contentType:{schema(e,n,r,l,i,c){const u=Object.values(c).map(M=>M.schema.singularName),p=Object.values(c).map(M=>f()(M,["schema","pluralName"],"")),g=n?e.filter(M=>M!==r):e,y=n?u.filter(M=>f()(c,[r,"schema","singularName"],"")!==M):u,v=n?p.filter(M=>f()(c,[r,"schema","pluralName"],"")!==M):p,h=Object.values(c).map(M=>f()(M,["schema","collectionName"],"")),S=n?h.filter(M=>{const N=f()(c,[r,"schema","pluralName"],""),U=f()(c,[r,"schema","collectionName"],"");return M!==N||M!==U}):h,x=lo({usedContentTypeNames:g,reservedModels:l.models,singularNames:y,pluralNames:v,collectionNames:S});return i.makeValidator(["contentType"],x,g,l.models,y,v)},form:{base({actionType:e}){return e==="create"?dn.base.create():dn.base.edit()},advanced({extensions:e}){const n=dn.advanced.default().sections.map(l=>l.items).flat(),r=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...n,...r]}]}}}},component:{schema(e,n,r,l=!1,i=null){const c=l?e.filter(u=>u!==i):e;return eo(c,r.models,n)},form:{advanced(){return{sections:lt.advanced()}},base(){return{sections:lt.base()}}}},addComponentToDynamicZone:{form:{advanced(){return un.advanced.default()},base({data:e}){return f()(e,"createComponent",!1)?un.base.createComponent():un.base.default()}}},editCategory:{schema(e,n){const r=e.filter(l=>l!==n.name).map(l=>ze()(l));return _r(r)},form:{advanced:()=>({sections:[]}),base(){return Jr.base}}}};var na=d(20573),uo=d(88372);const co=()=>e=>e[`${P.Z}_formModal`]||uo.E,mo=()=>(0,na.P1)(co(),e=>e),po=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:n,onNavigateToAddCompoToDZModal:r,onNavigateToCreateComponentStep2:l,actionType:i,attributeName:c,attributeType:u,customFieldUid:p,categoryName:g,dynamicZoneTarget:y,forTarget:v,modalType:h,isOpen:S,kind:x,step:M,targetUid:N}=(0,ne.Z)(),U=(0,b.useCustomFields)().get(p),O=(0,a.useRef)(),L=(0,a.useMemo)(mo,[]),F=(0,Q.I0)(),se=(0,b.useNotification)(),me=(0,Q.v9)(te=>L(te),Q.wU),{push:Te}=(0,A.k6)(),{trackUsage:Ae}=(0,b.useTracking)(),{formatMessage:_}=(0,C.Z)(),{getPlugin:qe}=(0,b.useStrapiApp)(),pe=qe(P.Z).apis.forms,He=pe.components.inputs,{addAttribute:ge,addCustomFieldAttribute:ut,addCreatedComponentToDynamicZone:Me,allComponentsCategories:de,changeDynamicZoneComponents:j,contentTypes:ct,components:ht,createSchema:mt,deleteCategory:vn,deleteData:Mt,editCategory:Cn,editCustomFieldAttribute:Tn,submitData:xn,modifiedData:Ze,nestedComponents:En,setModifiedData:Mn,sortedContentTypesList:Rn,updateSchema:An,reservedNames:Ye}=(0,Je.Z)(),{componentToCreate:yt,formErrors:Xe,initialData:$e,isCreatingComponentWhileAddingAField:et,modifiedData:H}=me,k=v==="contentType"||v==="component"?[v]:[v,N];(0,a.useEffect)(()=>{if(S){const te=Rn.filter(Fn);h==="editCategory"&&Mn(),i==="edit"&&h==="attribute"&&v==="contentType"&&Ae("willEditFieldOfContentType");const Pe=[...k,"schema","attributes"],we=Xt(f()(Ze,Pe,[]),y)||null;if(h==="editCategory"&&i==="edit"&&F({type:be._H,modalType:h,actionType:i,data:{name:g}}),h==="contentType"&&i==="create"&&F({type:be._H,modalType:h,actionType:i,data:{draftAndPublish:!0,reviewWorkflows:!1},pluginOptions:{}}),h==="contentType"&&i==="edit"){const{displayName:ae,draftAndPublish:xe,kind:ke,pluginOptions:Se,pluralName:ci,reviewWorkflows:mi,singularName:pi}=f()(Ze,[...k,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});F({type:be._H,actionType:i,modalType:h,data:{displayName:ae,draftAndPublish:xe,kind:ke,pluginOptions:Se,pluralName:ci,reviewWorkflows:mi??!1,singularName:pi}})}if(h==="component"&&i==="edit"){const ae=f()(Ze,k,{});F({type:be._H,actionType:i,modalType:h,data:{displayName:ae.schema.displayName,category:ae.category}})}if(h==="addComponentToDynamicZone"&&i==="edit"){const ae={...we,components:[],name:y,createComponent:!1,componentToCreate:{type:"component"}};F({type:be.VZ,attributeToEdit:ae})}if(u){const xe={...Xt(f()(Ze,Pe,[]),c),name:c};u==="component"&&i==="edit"&&(xe.repeatable||Y()(xe,"repeatable",!1)),F(h==="customField"?{type:be.OY,customField:U,isEditing:i==="edit",modifiedDataToSetForEditing:xe,forTarget:v}:{type:be.S0,attributeType:u,nameToSetForRelation:f()(te,["0","title"],"error"),targetUid:f()(te,["0","uid"],"error"),isEditing:i==="edit",modifiedDataToSetForEditing:xe,step:M,forTarget:v})}}else F({type:be.c2})},[i,c,u,g,y,v,S,h]);const q=h==="contentType",ee=h==="component",he=h==="attribute",Ne=h==="customField",Oe=u==="component"&&he,je=i==="create",Ge=f()(H,"createComponent",!1)||et,pt=M==="1",Ia=h==="editCategory",qa=h==="chooseAttribute",Zn=(0,it.E)(H.displayName||""),Sn=f()(Ze,[...k,"schema","attributes"],null),Qs=async()=>{let te;const Pe=Ge&&M==="1"?f()(H,"componentToCreate",{}):H;if(q)te=_e.contentType.schema(Object.keys(ct),i==="edit",f()(Ze,[...k,"uid"],null),Ye,pe,ct);else if(ee)te=_e.component.schema(Object.keys(ht),H.category||"",Ye,i==="edit",f()(Ze,[...k,"uid"],null),pe);else if(Ne)te=_e.customField.schema({schemaAttributes:f()(Ze,[...k,"schema","attributes"],[]),attributeType:U.type,reservedNames:Ye,schemaData:{modifiedData:H,initialData:$e},ctbFormsAPI:pe,customFieldValidator:U.options?.validator});else if(Oe&&Ge&&pt)te=_e.component.schema(Object.keys(ht),f()(H,"componentToCreate.category",""),Ye,pe);else if(he&&!pt){const we=u==="relation"?"relation":H.type;let ae=[];if(we==="relation"){const xe=f()(H,["target"],null);ae=f()(ct,[xe,"schema","attributes"],[]).filter(({name:Se})=>i!=="edit"?!0:Se!==$e.targetAttribute)}te=_e.attribute.schema(f()(Ze,k,{}),we,Ye,ae,{modifiedData:H,initialData:$e},pe)}else if(Ia)te=_e.editCategory.schema(de,$e,pe);else if(pt&&Ge)te=_e.component.schema(Object.keys(ht),f()(H,"componentToCreate.category",""),Ye,pe);else return;await te.validate(Pe,{abortEarly:!1})},Ba=(0,a.useCallback)(({target:{name:te,value:Pe,type:we,...ae}})=>{const xe=["enumName","max","min","maxLength","minLength","regex","default"];let ke;xe.includes(te)&&Pe===""?ke=null:ke=Pe;const Se=Object.assign({},Xe);te==="max"&&delete Se.min,te==="maxLength"&&delete Se.minLength,delete Se[te],F({type:be.Ey,errors:Se}),F({type:be.P0,keys:te.split("."),value:ke,...ae})},[F,Xe]),De=async(te,Pe=je)=>{te.preventDefault();try{await Qs(),ei(Pe);const we=v==="components"?N:Zn;if(q)if(je)mt({...H,kind:x},h,Zn),Te({pathname:`/plugins/${P.Z}/content-types/${Zn}`}),n({forTarget:v,targetUid:we});else{Xr(Ze,H)?(e(),xn(H)):se({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(h==="component")if(je){const ae=(0,it.N)(H.displayName,H.category),{category:xe,...ke}=H;mt(ke,"component",ae,xe),Te({pathname:`/plugins/${P.Z}/component-categories/${xe}/${ae}`}),n({forTarget:v,targetUid:ae})}else{An(H,h,N),e();return}else if(Ia){if(ze()($e.name)===ze()(H.name)){e();return}Cn($e.name,H);return}else if(Ne){const ae={attributeToSet:{...H,customField:p},forTarget:v,targetUid:N,initialAttribute:$e};i==="edit"?Tn(ae):ut(ae),Pe?n({forTarget:v,targetUid:we}):e();return}else if(he&&!Ge){if(u==="dynamiczone"){ge(H,v,N,i==="edit",$e),je?(F({type:be.I}),O.current._handlers.setSelectedTabIndex(0),r({dynamicZoneTarget:H.name})):e();return}if(!Oe){ge(H,v,N,i==="edit",$e),Pe?n({forTarget:v,targetUid:we}):e();return}if(pt){l(),F({type:be.yC,forTarget:v});return}ge(H,v,N,i==="edit",$e,!0),Pe?n({forTarget:v,targetUid:N}):e()}else if(he&&Ge){if(pt){Ae("willCreateComponentFromAttributesModal"),F({type:be.oF,forTarget:v}),l();return}const{category:ae,type:xe,...ke}=yt,Se=(0,it.N)(yt.displayName,ae);mt(ke,xe,Se,ae,Ge),ge(H,v,N,!1),F({type:be.c2}),Pe?n({forTarget:"components",targetUid:Se}):e();return}else{if(pt)if(Ge){const{category:ae,type:xe,...ke}=H.componentToCreate,Se=(0,it.N)(H.componentToCreate.displayName,ae);mt(ke,xe,Se,ae,Ge),Me(y,[Se]),n({forTarget:"components",targetUid:Se})}else j(y,H.components),e();else console.error("This case is not handled");return}F({type:be.c2})}catch(we){const ae=(0,b.getYupInnerErrors)(we);console.log({err:we,errors:ae}),F({type:be.Ey,errors:ae})}},Js=()=>{window.confirm(_({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),F({type:be.c2}))},za=()=>{Rt()(H,$e)?(e(),F({type:be.c2})):Js()},_s=te=>{if(te==="advanced"){if(q){Ae("didSelectContentTypeSettings");return}v==="contentType"&&Ae("didSelectContentTypeFieldSettings")}},ei=te=>{h==="attribute"&&v==="contentType"&&u!=="dynamiczone"&&te&&Ae("willAddMoreFieldToContentType")},ti=()=>!!(h==="editCategory"||h==="component"||Be()(H,"createComponent")),ni=Qr(v,N,En);if(!S||!h)return null;const Wa=f()(_e,[h,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),ai=v==="components"||v==="component",Ua={customInputs:{"allowed-types-select":Qa,"boolean-radio-group":Cr,"checkbox-with-number-field":xr,"content-type-radio-group":Er,"radio-group":It,relation:kr,"select-category":zr,"select-component":Wr,"select-components":Ur,"select-default-boolean":yr,"select-number":Hr,"select-date":Vr,"toggle-draft-publish":cr,"toggle-review-workflows":mr,"text-plural":Ir,"text-singular":Gr,"textarea-enum":Yr,...He},componentToCreate:yt,dynamicZoneTarget:y,formErrors:Xe,isAddingAComponentToAnotherComponent:ai,isCreatingComponentWhileAddingAField:et,mainBoxHeader:f()(Ze,[...k,"schema","displayName"],""),modifiedData:H,naturePickerType:v,isCreating:je,targetUid:N,forTarget:v},Va=Wa.advanced({data:H,type:u,step:M,actionType:i,attributes:Sn,extensions:pe,forTarget:v,contentTypeSchema:Ze.contentType||{},customField:U}).sections,Ha=Wa.base({data:H,type:u,step:M,actionType:i,attributes:Sn,extensions:pe,forTarget:v,contentTypeSchema:Ze.contentType||{},customField:U}).sections,ri=Kn(Ha),oi=Kn(Va),si=Object.keys(Xe).some(te=>ri.includes(te)),ii=Object.keys(Xe).some(te=>oi.includes(te)),li=f()(ct,[N,"schema","kind"]),di=()=>i==="edit"&&Sn.every(({name:te})=>te!==H?.name),ui=()=>{di()&&Ae("didEditFieldNameOnContentType")};return a.createElement(ot.P,{onClose:za,labelledBy:"title"},a.createElement(pr,{actionType:i,attributeName:c,categoryName:g,contentTypeKind:x,dynamicZoneTarget:y,modalType:h,forTarget:v,targetUid:N,attributeType:u,customFieldUid:p}),qa&&a.createElement(ur,{attributes:ni,forTarget:v,kind:li||"collectionType"}),!qa&&a.createElement("form",{onSubmit:De},a.createElement(tt.f,null,a.createElement(We.v,{label:"todo",id:"tabs",variant:"simple",ref:O,onTabChange:te=>{te===1&&_s("advanced")}},a.createElement(J.k,{justifyContent:"space-between"},a.createElement(hr,{actionType:i,forTarget:v,kind:x,step:M,modalType:h,attributeType:u,attributeName:c,customField:U}),a.createElement(Qe.m,null,a.createElement(Qe.O,{hasError:si},_({id:(0,m.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),a.createElement(Qe.O,{hasError:ii,disabled:ti()},_({id:(0,m.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),a.createElement(nt.i,null),a.createElement(ue.x,{paddingTop:6},a.createElement(st.n,null,a.createElement(st.x,null,a.createElement(J.k,{direction:"column",alignItems:"stretch",gap:6},a.createElement(Gn,{form:Ha,formErrors:Xe,genericInputProps:Ua,modifiedData:H,onChange:Ba}))),a.createElement(st.x,null,a.createElement(J.k,{direction:"column",alignItems:"stretch",gap:6},a.createElement(Gn,{form:Va,formErrors:Xe,genericInputProps:Ua,modifiedData:H,onChange:Ba}))))))),a.createElement(Ga.m,{endActions:a.createElement(gr,{deleteCategory:vn,deleteContentType:Mt,deleteComponent:Mt,categoryName:$e.name,isAttributeModal:h==="attribute",isCustomFieldModal:h==="customField",isComponentToDzModal:h==="addComponentToDynamicZone",isComponentAttribute:u==="component",isComponentModal:h==="component",isContentTypeModal:h==="contentType",isCreatingComponent:i==="create",isCreatingDz:i==="create",isCreatingComponentAttribute:H.createComponent||!1,isCreatingComponentInDz:H.createComponent||!1,isCreatingComponentWhileAddingAField:et,isCreatingContentType:i==="create",isEditingAttribute:i==="edit",isDzAttribute:u==="dynamiczone",isEditingCategory:h==="editCategory",isInFirstComponentStep:M==="1",onSubmitAddComponentAttribute:De,onSubmitAddComponentToDz:De,onSubmitCreateComponent:De,onSubmitCreateContentType:De,onSubmitCreateDz:De,onSubmitEditAttribute:De,onSubmitEditCategory:De,onSubmitEditComponent:De,onSubmitEditContentType:De,onSubmitEditCustomFieldAttribute:De,onSubmitEditDz:De,onClickFinish:ui}),startActions:a.createElement(ye.z,{variant:"tertiary",onClick:za},_({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},aa=e=>e.reduce((n,r)=>(n[r.uid]=r,n),{}),go=(e,n,r,l)=>{const i=n.reduce((p,g)=>{const y=f()(r,g,{});return p[g]=y,p},{});return{[l?"contentType":"component"]:e,components:i}},fo=(e,n)=>{const r=Object.keys(e).map(l=>f()(e,[l,...n],""));return(0,Re.Z)(r)};var ho=d(19525);const yo=e=>{const n=Object.keys(e).reduce((r,l)=>{const i=e?.[l]?.schema?.attributes??[],c=bo(i);return[...r,...c]},[]);return(0,Re.Z)(n)},bo=e=>e.reduce((n,r)=>{const{type:l,component:i}=r;return l==="component"&&n.push(i),n},[]),ra=yo,vo=e=>{const n=Object.keys(e).reduce((r,l)=>{const i=f()(e,[l],{}),c=i.uid;return Co(i)&&r.push(c),r},[]);return(0,Re.Z)(n)},Co=e=>f()(e,["schema","attributes"],[]).some(r=>{const{type:l}=r;return l==="component"});var To=d(57557),oa=d.n(To),xo=d(89734),Eo=d.n(xo),Mo=d(68929),Ro=d.n(Mo);const Ao=(e,n)=>{const r=Object.keys(e).filter(l=>{const i=f()(e,l,{}),c=f()(n,l,{}),u=f()(i,["isTemporary"],!1),p=!Rt()(i,c);return u||p});return(0,Re.Z)(r)},Zo=(e,n)=>{const r=ia(f()(e,"schema.attributes",[]),n),l=f()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},l,{category:e.category},oa()(e.schema,"attributes"),{attributes:r})},sa=(e,n=!1)=>{const r=f()(e,"uid",null),l=ia(f()(e,"schema.attributes",[]),r),i=n?{category:f()(e,"category","")}:{},c=Object.assign(i,oa()(e.schema,"attributes"),{attributes:l});return delete c.uid,delete c.isTemporary,delete c.visible,delete c.restrictRelationsTo,c},ia=(e,n)=>e.reduce((r,{name:l,...i})=>{const c=i,u=c.target===n,p=c.type==="relation",g=f()(c,"targetAttribute",null);if(!u)if(p){const y=Object.assign({},c,{targetAttribute:la(g)});r[l]=xt(y)}else r[l]=xt(c);if(u){const y=c.target,v=Object.assign({},c,{target:y,targetAttribute:la(g)});r[l]=xt(v)}if(c.customField){const y={...c,type:"customField"};r[l]=xt(y)}return r},{}),la=e=>e==="-"?null:e,xt=e=>Object.keys(e).reduce((n,r)=>(e[r]!==null&&r!=="plugin"&&(n[r]=e[r]),n),{}),So=(e,n,r,l=!1)=>Ao(e,n).map(u=>{const p=f()(e,u,{});return Zo(p,r,l)}),$o=e=>Eo()(Object.keys(e).map(n=>({visible:e[n].schema.visible,name:n,title:e[n].schema.displayName,plugin:e[n].plugin||null,uid:n,to:`/plugins/${P.Z}/content-types/${n}`,kind:e[n].schema.kind,restrictRelationsTo:e[n].schema.restrictRelationsTo})).filter(n=>n!==null),n=>Ro()(n.title)),da="did-not-kill-server",Fo="server is down";function gt(e,n){return new Promise(r=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(l=>{if(l.status>=400)throw new Error(Fo);if(!n)throw new Error(da);r(e)}).catch(l=>{setTimeout(()=>gt(e,l.message!==da).then(r),100)})})}const Lo=e=>Object.values(e.attributes).filter(({type:r})=>r==="dynamiczone").every(({components:r})=>Array.isArray(r)&&r.length>0);var Ee=d(92407),No=d(87431);const Oo=()=>e=>e[`${P.Z}_dataManagerProvider`]||No.E,Po=()=>(0,na.P1)(Oo(),e=>e),jo=e=>Object.keys(e).reduce((n,r)=>{const l=e[r].schema;return n[r]={...e[r],schema:{...l,attributes:Do(l.attributes)}},n},{}),Do=e=>Object.keys(e).reduce((n,r)=>(n.push({...e[r],name:r}),n),[]),ua=jo,cn=({children:e,components:n,contentTypes:r,isLoading:l,isLoadingForDataToBeSet:i,initialData:c,modifiedData:u,reservedNames:p})=>{const g=(0,Q.I0)(),y=(0,b.useNotification)(),{lockAppWithAutoreload:v,unlockAppWithAutoreload:h}=(0,b.useAutoReloadOverlayBlocker)(),{setCurrentStep:S}=(0,b.useGuidedTour)(),{getPlugin:x}=(0,b.useStrapiApp)(),{apis:M}=x(P.Z),{autoReload:N}=(0,b.useAppInfo)(),{formatMessage:U}=(0,C.Z)(),{trackUsage:O}=(0,b.useTracking)(),{refetchPermissions:L}=(0,b.useRBACProvider)(),{pathname:F}=(0,A.TH)(),{onCloseModal:se}=(0,ne.Z)(),me=(0,A.$B)(`/plugins/${P.Z}/content-types/:uid`),Te=(0,A.$B)(`/plugins/${P.Z}/component-categories/:categoryUid/:componentUid`),Ae=(0,b.useFetchClient)(),{put:_,post:qe,del:fe}=Ae,pe=(0,a.useRef)();pe.current=U;const He=N,ge=me!==null,ut=ge?"contentType":"component",Me=ge?f()(me,"params.uid",null):f()(Te,"params.componentUid",null),de=(0,a.useRef)(),j=ge?"content-types":"components";de.current=async()=>{try{const[{data:{data:k}},{data:{data:q}},{data:ee}]=await Promise.all(["components","content-types","reserved-names"].map(Ge=>Ae.get(`/${P.Z}/${Ge}`))),he=aa(k),Ne=ua(he),Oe=aa(q),je=ua(Oe);g({type:Ee.Id,components:Ne,contentTypes:je,reservedNames:ee})}catch(k){console.error({err:k}),y({type:"warning",message:{id:"notification.error"}})}},(0,a.useEffect)(()=>(de.current(),()=>{g({type:Ee.Zl})}),[]),(0,a.useEffect)(()=>{!l&&Me&&Ye()},[l,F,Me]),(0,a.useEffect)(()=>{N||y({type:"info",message:{id:(0,m.Z)("notification.info.autoreaload-disable")}})},[N,y]);const ct=(k,q,ee,he=!1,Ne,Oe=!1)=>{const je=he?Ee.JO:Ee.gz;g({type:je,attributeToSet:k,forTarget:q,targetUid:ee,initialAttribute:Ne,shouldAddComponentToData:Oe})},ht=({attributeToSet:k,forTarget:q,targetUid:ee,initialAttribute:he})=>{g({type:Ee.Ir,attributeToSet:k,forTarget:q,targetUid:ee,initialAttribute:he})},mt=({attributeToSet:k,forTarget:q,targetUid:ee,initialAttribute:he})=>{g({type:Ee.Ly,attributeToSet:k,forTarget:q,targetUid:ee,initialAttribute:he})},vn=(k,q)=>{g({type:Ee.Uu,dynamicZoneTarget:k,componentsToAdd:q})},Mt=(k,q,ee,he,Ne=!1)=>{const Oe=q==="contentType"?Ee.Sh:Ee.VR;g({type:Oe,data:k,componentCategory:he,schemaType:q,uid:ee,shouldAddComponentToData:Ne})},Cn=(k,q)=>{g({type:Ee.o_,dynamicZoneTarget:k,newComponents:q})},Tn=(k,q,ee="")=>{const he=k==="components"?Ee.lw:Ee.ai;k==="contentType"&&O("willDeleteFieldOfContentType"),g({type:he,mainDataKey:k,attributeToRemoveName:q,componentUid:ee})},xn=async k=>{try{const q=`/${P.Z}/component-categories/${k}`,ee=window.confirm(U({id:(0,m.Z)("popUpWarning.bodyMessage.category.delete")}));se(),ee&&(v(),await fe(q),await gt(!0),await h(),await et())}catch(q){console.error({err:q}),y({type:"warning",message:{id:"notification.error"}})}finally{h()}},Ze=async()=>{try{const k=`/${P.Z}/${j}/${Me}`,q=f()(u,[ut,"isTemporary"],!1),ee=window.confirm(U({id:(0,m.Z)(`popUpWarning.bodyMessage.${ge?"contentType":"component"}.delete`)}));if(se(),ee){if(q){g({type:Ee.Ap});return}v(),await fe(k),await gt(!0),await h(),await et()}}catch(k){console.error({err:k}),y({type:"warning",message:{id:"notification.error"}})}finally{h()}},En=async(k,q)=>{try{const ee=`/${P.Z}/component-categories/${k}`;se(),v(),await _(ee,q),await gt(!0),await h(),await et()}catch(ee){console.error({err:ee}),y({type:"warning",message:{id:"notification.error"}})}finally{h()}},Mn=()=>{const k=Object.assign({},n,u.components);if(!ge){const ee=f()(u,"component",{});Y()(k,f()(ee,["uid"],""),ee)}const q=vo(k);return(0,Re.Z)(q)},Rn=()=>{const k=ra(n),q=ra(u.components||{});return(0,Re.Z)([...q,...k])},An=(k,q)=>{g({type:Ee.NG,dzName:k,componentToRemoveIndex:q})},Ye=()=>{const k=ge?r:n,q=f()(k,Me,{schema:{attributes:[]}}),ee=(0,ho.Z)(q.schema.attributes,n),he=go(q,ee,n,ge),Ne=f()(q,"isTemporary",!1)&&X()(f()(q,"schema.attributes",[]))===0;g({type:Ee.xx,schemaToSet:he,hasJustCreatedSchema:Ne})},yt=(0,a.useMemo)(()=>{const k=ge?r:n;return Me==="create-content-type"?!1:!Object.keys(k).includes(Me)&&!l},[n,r,Me,ge,l]),Xe=(0,a.useMemo)(()=>{const k=Object.keys(r).filter(q=>f()(r,[q,"schema","visible"],!0)).sort();return f()(k,"0","create-content-type")},[r]);if(yt)return a.createElement(A.l_,{to:`/plugins/${P.Z}/content-types/${Xe}`});const $e=async k=>{try{const q=f()(u,[ut,"isTemporary"],!1),ee={components:So(u.components,n,Me,q)};if(ge){const Oe=M.forms.mutateContentTypeSchema({...sa(u.contentType),...k},c.contentType);if(!Lo(Oe)){y({type:"warning",message:{id:(0,m.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}ee.contentType=Oe,O("willSaveContentType")}else ee.component=sa(u.component,!0),O("willSaveComponent");v();const he=`/${P.Z}/${j}`,Ne=q?he:`${he}/${Me}`;if(q?await qe(Ne,ee):await _(Ne,ee),await gt(!0),await h(),q&&(c.contentType?.schema.kind==="collectionType"||c.contentType?.schema.kind==="singleType")&&S("contentTypeBuilder.success"),ge){O("didSaveContentType");const Oe=f()(ee,["contentType","schema","name"],""),je=f()(c,["contentType","schema","name"],"");!q&&Oe!==je&&O("didEditNameOfContentType")}else O("didSaveComponent");await et()}catch(q){ge||O("didNotSaveComponent"),console.error({err:q.response}),y({type:"warning",message:{id:"notification.error"}})}finally{h()}},et=async()=>{await L()},H=(k,q,ee)=>{g({type:Ee.bi,data:k,schemaType:q,uid:ee})};return a.createElement(le.Z.Provider,{value:{addAttribute:ct,addCustomFieldAttribute:ht,addCreatedComponentToDynamicZone:vn,allComponentsCategories:fo(n,["category"]),changeDynamicZoneComponents:Cn,components:n,componentsGroupedByCategory:z()(n,"category"),componentsThatHaveOtherComponentInTheirAttributes:Mn(),contentTypes:r,createSchema:Mt,deleteCategory:xn,deleteData:Ze,editCategory:En,editCustomFieldAttribute:mt,isInDevelopmentMode:He,initialData:c,isInContentTypeView:ge,modifiedData:u,nestedComponents:Rn(),removeAttribute:Tn,removeComponentFromDynamicZone:An,reservedNames:p,setModifiedData:Ye,sortedContentTypesList:$o(r),submitData:$e,updateSchema:H}},i?a.createElement(b.LoadingIndicatorPage,null):a.createElement(a.Fragment,null,e,He&&a.createElement(po,null)))};cn.defaultProps={components:{}},cn.propTypes={children:s().node.isRequired,components:s().object,contentTypes:s().object.isRequired,isLoading:s().bool.isRequired,isLoadingForDataToBeSet:s().bool.isRequired,initialData:s().object.isRequired,modifiedData:s().object.isRequired,reservedNames:s().object.isRequired};const wo=Po(),ko=(0,Q.$j)(wo,null),Io=(0,ie.compose)(ko)((0,a.memo)(cn));var qo=d(98422);const ca={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},ma=({children:e})=>{const[n,r]=(0,a.useState)(ca),{trackUsage:l}=(0,b.useTracking)(),i=({attributeType:O,customFieldUid:L})=>{r(F=>({...F,actionType:"create",modalType:"customField",attributeType:O,customFieldUid:L}))},c=({attributeType:O,step:L})=>{n.forTarget==="contentType"&&l("didSelectContentTypeFieldType",{type:O}),r(F=>({...F,actionType:"create",modalType:"attribute",step:L,attributeType:O}))},u=({dynamicZoneTarget:O,targetUid:L})=>{r(F=>({...F,dynamicZoneTarget:O,targetUid:L,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},p=({forTarget:O,targetUid:L})=>{r(F=>({...F,actionType:"create",forTarget:O,targetUid:L,modalType:"chooseAttribute",isOpen:!0}))},g=O=>{r(L=>({...L,...O,isOpen:!0}))},y=O=>{r(L=>({...L,categoryName:O,actionType:"edit",modalType:"editCategory",isOpen:!0}))},v=({forTarget:O,targetUid:L,attributeName:F,attributeType:se,customFieldUid:me})=>{r(Te=>({...Te,modalType:"customField",customFieldUid:me,actionType:"edit",forTarget:O,targetUid:L,attributeName:F,attributeType:se,isOpen:!0}))},h=({forTarget:O,targetUid:L,attributeName:F,attributeType:se,step:me})=>{r(Te=>({...Te,modalType:"attribute",actionType:"edit",forTarget:O,targetUid:L,attributeName:F,attributeType:se,step:me,isOpen:!0}))},S=({modalType:O,forTarget:L,targetUid:F,kind:se})=>{r(me=>({...me,modalType:O,actionType:"edit",forTarget:L,targetUid:F,kind:se,isOpen:!0}))},x=()=>{r(ca)},M=({forTarget:O,targetUid:L})=>{r(F=>({...F,forTarget:O,targetUid:L,modalType:"chooseAttribute"}))},N=()=>{r(O=>({...O,attributeType:"component",modalType:"attribute",step:"2"}))},U=({dynamicZoneTarget:O})=>{r(L=>({...L,dynamicZoneTarget:O,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return a.createElement(qo.Z.Provider,{value:{...n,onClickSelectField:c,onClickSelectCustomField:i,onCloseModal:x,onNavigateToChooseAttributeModal:M,onNavigateToAddCompoToDZModal:U,onOpenModalAddComponentsToDZ:u,onNavigateToCreateComponentStep2:N,onOpenModalAddField:p,onOpenModalCreateSchema:g,onOpenModalEditCategory:y,onOpenModalEditField:h,onOpenModalEditCustomField:v,onOpenModalEditSchema:S,setFormModalNavigationState:r}},e)};ma.propTypes={children:s().node.isRequired};const Bo=ma,zo=(0,a.lazy)(()=>d.e(5905).then(d.bind(d,57134))),Wo=()=>{const{url:e}=(0,A.$B)(),{categoryUid:n}=(0,A.UO)();return a.createElement(a.Suspense,{fallback:a.createElement(b.LoadingIndicatorPage,null)},a.createElement(A.rs,null,a.createElement(A.AW,{path:`${e}/:componentUid`},a.createElement(zo,{categoryId:n}))))};var pa=d(73727),Uo=d(90139),T=d(85893);const ga=(0,a.createContext)({gap:0,gridCols:12}),_i=()=>o(ga),Ie=(e,n,r)=>{if(!n)return;let l=Array.isArray(n)?n:[];if(!Array.isArray(n)&&typeof n=="object"&&(l=[n?.desktop,n?.tablet,n?.mobile]),l.length>0)return l.reduce((c,u,p)=>{if(u)switch(p){case 0:return`${c}${e}: ${r.spaces[u]};`;case 1:return`${c}${r.mediaQueries.tablet}{${e}: ${r.spaces[u]};}`;case 2:return`${c}${r.mediaQueries.mobile}{${e}: ${r.spaces[u]};}`;default:return c}return c},"");const i=r.spaces[n]||n;return`${e}: ${i};`};function Vo(e,n){return typeof e=="string"?!1:n in e}function el(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Ce(e,n,r){return n&&Vo(e,n)?e[n]:r}const Ho={color:!0,cursor:!0,height:!0,width:!0},ce=G.default.div.withConfig({shouldForwardProp:(e,n)=>!Ho[e]&&n(e)})`
  // Font
  font-size: ${({fontSize:e,theme:n})=>Ce(n.fontSizes,e,e)};

  // Colors
  background: ${({theme:e,background:n})=>Ce(e.colors,n,n)};
  color: ${({theme:e,color:n})=>Ce(e.colors,n,void 0)};

  // Spaces
  ${({theme:e,padding:n})=>Ie("padding",n,e)}
  ${({theme:e,paddingTop:n})=>Ie("padding-top",n,e)}
  ${({theme:e,paddingRight:n})=>Ie("padding-right",n,e)}
  ${({theme:e,paddingBottom:n})=>Ie("padding-bottom",n,e)}
  ${({theme:e,paddingLeft:n})=>Ie("padding-left",n,e)}
  ${({theme:e,marginLeft:n})=>Ie("margin-left",n,e)}
  ${({theme:e,marginRight:n})=>Ie("margin-right",n,e)}
  ${({theme:e,marginTop:n})=>Ie("margin-top",n,e)}
  ${({theme:e,marginBottom:n})=>Ie("margin-bottom",n,e)}

  // Responsive hiding
  ${({theme:e,hiddenS:n})=>n?`${e.mediaQueries.tablet} { display: none; }`:void 0}
  ${({theme:e,hiddenXS:n})=>n?`${e.mediaQueries.mobile} { display: none; }`:void 0}
  

  // Borders
  border-radius: ${({theme:e,hasRadius:n,borderRadius:r})=>n?e.borderRadius:r};
  border-style: ${({borderStyle:e})=>e};
  border-width: ${({borderWidth:e})=>e};
  border-color: ${({borderColor:e,theme:n})=>Ce(n.colors,e,void 0)};
  border: ${({theme:e,borderColor:n,borderStyle:r,borderWidth:l})=>{if(n&&!r&&typeof l>"u")return`1px solid ${e.colors[n]}`}};

  // Shadows
  box-shadow: ${({theme:e,shadow:n})=>Ce(e.shadows,n,void 0)};

  // Handlers
  pointer-events: ${({pointerEvents:e})=>e};
  &:hover {
    ${({_hover:e,theme:n})=>e?e(n):void 0}
  }

  // Display
  display: ${({display:e})=>e};

  // Position
  position: ${({position:e})=>e};
  left: ${({left:e,theme:n})=>Ce(n.spaces,e,e)};
  right: ${({right:e,theme:n})=>Ce(n.spaces,e,e)};
  top: ${({top:e,theme:n})=>Ce(n.spaces,e,e)};
  bottom: ${({bottom:e,theme:n})=>Ce(n.spaces,e,e)};
  z-index: ${({zIndex:e})=>e};
  overflow: ${({overflow:e})=>e};

  // Size
  width: ${({width:e,theme:n})=>Ce(n.spaces,e,e)};
  max-width: ${({maxWidth:e,theme:n})=>Ce(n.spaces,e,e)};
  min-width: ${({minWidth:e,theme:n})=>Ce(n.spaces,e,e)};
  height: ${({height:e,theme:n})=>Ce(n.spaces,e,e)};
  max-height: ${({maxHeight:e,theme:n})=>Ce(n.spaces,e,e)};
  min-height: ${({minHeight:e,theme:n})=>Ce(n.spaces,e,e)};

  // Animation
  transition: ${({transition:e})=>e};
  transform: ${({transform:e})=>e};
  animation: ${({animation:e})=>e};

  //Flexbox children props
  flex-shrink: ${({shrink:e})=>e};
  flex-grow: ${({grow:e})=>e};
  flex-basis: ${({basis:e})=>e};
  flex: ${({flex:e})=>e};

  // Text
  text-align: ${({textAlign:e})=>e};
  text-transform: ${({textTransform:e})=>e};
  line-height: ${({lineHeight:e})=>e};

  // Cursor
  cursor: ${({cursor:e})=>e};
`,Go=(0,G.default)(ce)`
  display: grid;
  grid-template-columns: repeat(${({gridCols:e})=>e}, 1fr);
  ${({theme:e,gap:n})=>Ie("gap",n,e)}
`,mn=({gap:e,gridCols:n,...r})=>{const l=a.useMemo(()=>({gap:e,gridCols:n}),[e,n]);return(0,T.jsx)(ga.Provider,{value:l,children:(0,T.jsx)(Go,{gap:e,gridCols:n,...r})})};mn.defaultProps={gap:0,gridCols:12},mn.propTypes={gap:R.oneOfType([R.number,R.arrayOf(R.number)]),gridCols:R.number};const Ko=`${232/16}rem`,Yo=(0,G.default)(mn)`
  width: ${Ko};
  background: ${({theme:e})=>e.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:e})=>e.colors.neutral200};
  z-index: 1;
`,fa=({ariaLabel:e,...n})=>(0,T.jsx)(Yo,{"aria-label":e,as:"nav",...n});fa.propTypes={ariaLabel:R.string.isRequired};var ha=d(34759);const Xo={DOWN:"ArrowDown",UP:"ArrowUp",RIGHT:"ArrowRight",LEFT:"ArrowLeft",ESCAPE:"Escape",ENTER:"Enter",SPACE:" ",TAB:"Tab",END:"End",HOME:"Home",DELETE:"Delete",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",CLEAR:"Clear"},Qo=a["useId".toString()]||(()=>{});let Jo=0;const dt=e=>{const[n,r]=(0,a.useState)(Qo());return(0,a.useLayoutEffect)(()=>{e||r(l=>l??String(Jo++))},[e]),e?.toString()??(n||"")},_o=e=>{const n=(0,a.useRef)();return(0,a.useEffect)(()=>{n.current=e}),n.current},es=(0,G.default)(ce)`
  height: 1px;
  border: none;
  /* If contained in a Flex parent we want to prevent the Divider to shink */
  flex-shrink: 0;
  ${({unsetMargin:e})=>e?"margin: 0;":""}
`,ts=({unsetMargin:e=!0,...n})=>(0,T.jsx)(es,{...n,background:"neutral150",as:"hr",unsetMargin:e}),ns=e=>(0,T.jsx)("form",{...e,role:"search"});var as=d(15800);function rs(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function ya(...e){return n=>e.forEach(r=>rs(r,n))}function tl(...e){return t.useCallback(ya(...e),e)}const nl=e=>({theme:n,size:r})=>n.sizes[e][r],ba=(e="&")=>({theme:n,hasError:r=!1})=>G.css`
      outline: none;
      box-shadow: 0;
      transition-property: border-color, box-shadow, fill;
      transition-duration: 0.2s;

      ${e}:focus-within {
        border: 1px solid ${r?n.colors.danger600:n.colors.primary600};
        box-shadow: ${r?n.colors.danger600:n.colors.primary600} 0px 0px 0px 2px;
      }
    `,os=({theme:e})=>G.css`
  position: relative;
  outline: none;

  &:after {
    transition-property: all;
    transition-duration: 0.2s;
    border-radius: 8px;
    content: '';
    position: absolute;
    top: -4px;
    bottom: -4px;
    left: -4px;
    right: -4px;
    border: 2px solid transparent;
  }

  &:focus-visible {
    outline: none;
    &:after {
      border-radius: 8px;
      content: '';
      position: absolute;
      top: -5px;
      bottom: -5px;
      left: -5px;
      right: -5px;
      border: 2px solid ${e.colors.primary600};
    }
  }
`,va=(0,a.createContext)({id:"",required:!1}),Ca=()=>(0,a.useContext)(va),ss={direction:!0},Le=(0,G.default)(ce).withConfig({shouldForwardProp:(e,n)=>!ss[e]&&n(e)})`
  align-items: ${({alignItems:e="center"})=>e};
  display: ${({inline:e})=>e?"inline-flex":"flex"};
  flex-direction: ${({direction:e="row"})=>e};
  flex-shrink: ${({shrink:e})=>e};
  flex-wrap: ${({wrap:e})=>e};
  ${({gap:e,theme:n})=>Ie("gap",e,n)};
  justify-content: ${({justifyContent:e})=>e};
`,Ta={S:6.5,M:10.5},is=(0,a.forwardRef)(({endAction:e,startAction:n,disabled:r=!1,onChange:l,size:i="M",...c},u)=>{const{id:p,error:g,hint:y,name:v,required:h}=Ca();let S;g?S=`${p}-error`:y&&(S=`${p}-hint`);const x=!!g,M=N=>{!r&&l&&l(N)};return(0,T.jsxs)(pn,{justifyContent:"space-between",hasError:x,disabled:r,children:[n?(0,T.jsx)(ce,{paddingLeft:3,paddingRight:2,children:n}):null,(0,T.jsx)(ls,{id:p,name:v,ref:u,"aria-describedby":S,"aria-invalid":x,"aria-disabled":r,disabled:r,"data-disabled":r?"":void 0,hasLeftAction:!!n,hasRightAction:!!e,onChange:M,"aria-required":h,$size:i,...c}),e?(0,T.jsx)(ce,{paddingLeft:2,paddingRight:3,children:e}):null]})}),ls=G.default.input`
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius};
  padding-bottom: ${({$size:e})=>`${Ta[e]/16}rem`};
  padding-left: ${({theme:e,hasLeftAction:n})=>n?0:e.spaces[4]};
  padding-right: ${({theme:e,hasRightAction:n})=>n?0:e.spaces[4]};
  padding-top: ${({$size:e})=>`${Ta[e]/16}rem`};
  cursor: ${e=>e["aria-disabled"]?"not-allowed":void 0};

  color: ${({theme:e})=>e.colors.neutral800};
  font-weight: 400;
  font-size: ${e=>e.theme.fontSizes[2]};
  display: block;
  width: 100%;
  background: inherit;

  ::placeholder {
    color: ${({theme:e})=>e.colors.neutral500};
    opacity: 1;
  }

  &[aria-disabled='true'] {
    color: inherit;
  }

  //focus managed by InputWrapper
  &:focus {
    outline: none;
    box-shadow: none;
  }
`,pn=(0,G.default)(Le)`
  border: 1px solid ${({theme:e,hasError:n})=>n?e.colors.danger600:e.colors.neutral200};
  border-radius: ${({theme:e})=>e.borderRadius};
  background: ${({theme:e})=>e.colors.neutral0};
  ${ba()}

  ${({theme:e,disabled:n})=>n?G.css`
          color: ${e.colors.neutral600};
          background: ${e.colors.neutral150};
        `:void 0}
`,ds=(0,a.forwardRef)(({children:e,name:n,error:r,hint:l,id:i,required:c=!1,...u},p)=>{const g=dt(i),y=(0,a.useMemo)(()=>({name:n,id:g,error:r,hint:l,required:c}),[r,g,l,n,c]);return(0,T.jsx)(ce,{ref:p,...u,children:(0,T.jsx)(va.Provider,{value:y,children:e})})}),Et=G.default.div`
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
`,us="[@strapi/design-system]:",cs=e=>{const n=e;let r=!1;if(typeof n!="function")throw new TypeError(`${us} once requires a function parameter`);return(...l)=>{r||(n(...l),r=!0)}},xa="alpha",Ea="beta",Ma="delta",Ra="epsilon",gn="omega",Aa="pi",Za="sigma",al=[xa,Ea,Ma,Ra,gn,Aa,Za],ms=({ellipsis:e=!1})=>e&&`
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  `,ps=({variant:e=gn,theme:n})=>{switch(e){case xa:return`
        font-weight: ${n.fontWeights.bold};
        font-size: ${n.fontSizes[5]};
        line-height: ${n.lineHeights[2]};
      `;case Ea:return`
        font-weight: ${n.fontWeights.bold};
        font-size: ${n.fontSizes[4]};
        line-height: ${n.lineHeights[1]};
      `;case Ma:return`
        font-weight: ${n.fontWeights.semiBold};
        font-size: ${n.fontSizes[3]};
        line-height: ${n.lineHeights[2]};
      `;case Ra:return`
        font-size: ${n.fontSizes[3]};
        line-height: ${n.lineHeights[6]};
      `;case gn:return`
        font-size: ${n.fontSizes[2]};
        line-height: ${n.lineHeights[4]};
      `;case Aa:return`
        font-size: ${n.fontSizes[1]};
        line-height: ${n.lineHeights[3]};
      `;case Za:return`
        font-weight: ${n.fontWeights.bold};
        font-size: ${n.fontSizes[0]};
        line-height: ${n.lineHeights[5]};
        text-transform: uppercase;
      `;default:return`
        font-size: ${n.fontSizes[2]};
      `}},gs=({theme:e,textColor:n})=>e.colors[n||"neutral800"],fs={fontSize:!0,fontWeight:!0},Ve=G.default.span.withConfig({shouldForwardProp:(e,n)=>!fs[e]&&n(e)})`
  ${ps}
  ${ms}

  // These properties need to come after {variantStyle}, because they might
  // overwrite a variant attribute
  font-weight: ${({theme:e,fontWeight:n})=>Ce(e.fontWeights,n,void 0)};
  font-size: ${({theme:e,fontSize:n})=>Ce(e.fontSizes,n,void 0)};
  line-height: ${({theme:e,lineHeight:n})=>Ce(e.lineHeights,n,n)};
  color: ${gs};
  text-align: ${({textAlign:e})=>e};
  text-decoration: ${({textDecoration:e})=>e};
  text-transform: ${({textTransform:e})=>e};
`,hs=cs(console.warn),ys=(0,a.forwardRef)(({children:e,action:n,required:r,...l},i)=>{const{id:c,required:u}=Ca(),p=u||r;return r!==void 0&&hs('Deprecation warning: Usage of "required" prop in FieldLabel component is deprecated. This is discouraged and will be removed in the next major release. Please use the Field component to share the required prop.'),(0,T.jsxs)(bs,{ref:i,variant:"pi",textColor:"neutral800",htmlFor:c,fontWeight:"bold",as:"label",...l,children:[e,p&&(0,T.jsx)(vs,{textColor:"danger600",children:"*"}),n&&(0,T.jsx)(Cs,{marginLeft:1,children:n})]})}),bs=(0,G.default)(Ve)`
  display: flex;
  align-items: center;
`,vs=(0,G.default)(Ve)`
  line-height: 0;
`,Cs=(0,G.default)(Le)`
  line-height: 0;

  svg path {
    fill: ${({theme:e})=>e.colors.neutral500};
  }
`,Ts=(0,G.default)(Le)`
  font-size: 1.6rem;
  padding: 0;
`,xs=(0,a.forwardRef)(({label:e,children:n,...r},l)=>(0,T.jsxs)(Ts,{justifyContent:"unset",background:"transparent",borderStyle:"none",type:"button",...r,as:"button",ref:l,children:[(0,T.jsx)(Et,{as:"span",children:e}),(0,a.cloneElement)(n,{"aria-hidden":!0,focusable:!1})]})),Es=(0,G.default)(as.Z)`
  font-size: 0.5rem;
  path {
    fill: ${({theme:e})=>e.colors.neutral400};
  }
`,Sa=(0,G.default)(ha.Z)`
  font-size: 0.8rem;
  path {
    fill: ${({theme:e})=>e.colors.neutral800};
  }
`,Ms=G.default.div`
  border-radius: ${({theme:e})=>e.borderRadius};
  box-shadow: ${({theme:e})=>e.shadows.filterShadow};

  &:focus-within {
    ${Sa} {
      path {
        fill: ${({theme:e})=>e.colors.primary600};
      }
    }
  }

  ${pn} {
    border: 1px solid transparent;
  }

  ${ba(pn)}
`,Rs=(0,a.forwardRef)(({name:e,size:n="M",children:r,value:l="",onClear:i,clearLabel:c,...u},p)=>{const g=(0,a.useRef)(null),y=l.length>0,v=S=>{i(S),g.current.focus()},h=ya(p,g);return(0,T.jsx)(Ms,{children:(0,T.jsxs)(ds,{name:e,children:[(0,T.jsx)(Et,{children:(0,T.jsx)(ys,{children:r})}),(0,T.jsx)(is,{ref:h,value:l,startAction:(0,T.jsx)(Sa,{"aria-hidden":!0}),size:n,endAction:y?(0,T.jsx)(xs,{label:c,onClick:v,children:(0,T.jsx)(Es,{})}):void 0,...u})]})})}),As=e=>{const[n,r]=(0,a.useState)(!1),l=(0,a.useRef)(null),i=()=>{typeof l.current=="number"&&(clearTimeout(l.current),l.current=null)};return(0,a.useEffect)(()=>()=>{i()},[]),{visible:n,onFocus:()=>{r(!0)},onBlur:()=>{r(!1)},onMouseEnter:()=>{l.current=setTimeout(()=>{r(!0)},e)},onMouseLeave:()=>{i(),r(!1)}}},Zs=(e,n)=>{const r=(e.width-n.width)/2,l=n.left-r,i=n.top+n.height+8+window.pageYOffset;return{left:l,top:i}},Ss=(e,n)=>{const r=(e.height-n.height)/2,l=n.left+n.width+8,i=n.top-r+window.pageYOffset;return{left:l,top:i}},$s=(e,n)=>{const r=(e.height-n.height)/2,l=n.left-e.width-8,i=n.top-r+window.pageYOffset;return{left:l,top:i}},Fs=(e,n)=>{const r=(e.width-n.width)/2;let l=n.left-r,i=n.top-e.height-8+window.pageYOffset;const c=window.innerWidth-n.right;return n.left+e.width-c>window.innerWidth?(l=n.left-e.width-8,i=n.top+window.scrollY-n.height/2):l<0?(l=n.width+n.left+8,i=n.top+window.scrollY-e.height/2+8):i<0&&l>0&&(i=n.top+n.height+8),{left:l,top:i}},Ls=(e,n,r)=>{const l=e.getBoundingClientRect(),i=n.getBoundingClientRect();return r==="bottom"?Zs(l,i):r==="right"?Ss(l,i):r==="left"?$s(l,i):Fs(l,i)},Ns=(e,n)=>{const r=(0,a.useRef)(null),l=(0,a.useRef)(null);return(0,a.useLayoutEffect)(()=>{if(e){const i=r.current,c=l.current;if(i&&c){const u=Ls(i,c,n);i.style.left=`${u.left}px`,i.style.top=`${u.top}px`}}},[n,e]),{tooltipWrapperRef:r,toggleSourceRef:l}};var Os=d(73935);const $a=a.forwardRef(({container:e=globalThis?.document?.body,...n},r)=>e?(0,Os.createPortal)((0,T.jsx)(ce,{ref:r,...n}),e):null);$a.displayName="Portal";const Ps=(0,G.default)(ce)`
  /* z-index exist because of its position inside Modals */
  z-index: 4;
  display: ${({visible:e})=>e?"revert":"none"};
`,js=({children:e,label:n,description:r,delay:l=500,position:i="top",id:c,...u})=>{const p=dt(c),g=dt(),{visible:y,...v}=As(l),{tooltipWrapperRef:h,toggleSourceRef:S}=Ns(y,i),x=a.cloneElement(e,{tabIndex:0,"aria-labelledby":n?p:void 0,"aria-describedby":r?p:void 0,...v});return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)($a,{children:(0,T.jsxs)(Ps,{id:p,background:"neutral900",hasRadius:!0,padding:2,role:"tooltip",ref:h,visible:y,position:"absolute",...u,children:[y&&(0,T.jsx)(Et,{id:g,children:r}),(0,T.jsx)(Ve,{as:"p",variant:"pi",fontWeight:"bold",textColor:"neutral0",children:n||r})]})}),(0,T.jsx)("span",{ref:S,children:x})]})},Ds=(0,G.default)(Le)`
  > svg {
    height: ${({theme:e})=>e.spaces[3]};
    width: ${({theme:e})=>e.spaces[3]};

    > g,
    path {
      fill: ${({theme:e})=>e.colors.neutral0};
    }
  }

  &[aria-disabled='true'] {
    pointer-events: none;
  }

  ${os}
`,Fa=a.forwardRef(({disabled:e,children:n,background:r="neutral0",...l},i)=>(0,T.jsx)(Ds,{ref:i,"aria-disabled":e,as:"button",type:"button",disabled:e,padding:2,hasRadius:!0,background:r,borderColor:"neutral200",cursor:"pointer",...l,children:n}));Fa.displayName="BaseButton";const ws=a.forwardRef(({label:e,background:n,borderWidth:r,noBorder:l=!1,children:i,icon:c,disabled:u=!1,onClick:p,"aria-label":g,...y},v)=>{const h=(0,T.jsxs)(La,{"aria-disabled":u,background:u?"neutral150":n,borderWidth:l?0:r,justifyContent:"center",height:"2rem",width:"2rem",...y,ref:v,onClick:S=>{!u&&p&&p(S)},children:[(0,T.jsx)(Et,{as:"span",children:e??g}),a.cloneElement(c||i,{"aria-hidden":!0,focusable:!1})]});return e?(0,T.jsx)(js,{label:e,children:h}):h}),La=(0,G.default)(Fa)`
  svg {
    > g,
    path {
      fill: ${({theme:e})=>e.colors.neutral500};
    }
  }

  &:hover {
    svg {
      > g,
      path {
        fill: ${({theme:e})=>e.colors.neutral600};
      }
    }
  }

  &:active {
    svg {
      > g,
      path {
        fill: ${({theme:e})=>e.colors.neutral400};
      }
    }
  }

  &[aria-disabled='true'] {
    svg {
      path {
        fill: ${({theme:e})=>e.colors.neutral600};
      }
    }
  }
`,rl=(0,G.default)(Le)`
  & span:first-child button {
    border-left: 1px solid ${({theme:e})=>e.colors.neutral200};
    border-radius: ${({theme:e})=>`${e.borderRadius} 0 0 ${e.borderRadius}`};
  }

  & span:last-child button {
    border-radius: ${({theme:e})=>`0 ${e.borderRadius} ${e.borderRadius} 0`};
  }

  & ${La} {
    border-radius: 0;
    border-left: none;

    svg {
      path {
        fill: ${({theme:e})=>e.colors.neutral700};
      }
    }

    &:hover {
      background-color: ${({theme:e})=>e.colors.neutral100};

      svg {
        path {
          fill: ${({theme:e})=>e.colors.neutral800};
        }
      }
    }

    &:active {
      background-color: ${({theme:e})=>e.colors.neutral150};
      svg {
        path {
          fill: ${({theme:e})=>e.colors.neutral900};
        }
      }
    }

    &[aria-disabled='true'] {
      svg {
        path {
          fill: ${({theme:e})=>e.colors.neutral600};
        }
      }
    }
  }
`,Na=(0,G.default)(ts)`
  width: ${24/16}rem;
  background-color: ${({theme:e})=>e.colors.neutral200};
`,fn=({as:e,label:n,searchLabel:r,searchable:l,onChange:i,value:c,onClear:u,onSubmit:p,id:g})=>{const[y,v]=(0,a.useState)(!1),h=_o(y),S=dt(g),x=(0,a.useRef)(),M=(0,a.useRef)();(0,a.useEffect)(()=>{y&&x.current&&x.current.focus(),h&&!y&&M.current&&M.current.focus()},[y,h]);const N=()=>{v(F=>!F)},U=F=>{u(F),x.current.focus()},O=F=>{F.relatedTarget?.id!==S&&v(!1)},L=F=>{F.key===Xo.ESCAPE&&v(!1)};return y?(0,T.jsxs)(ce,{paddingLeft:4,paddingTop:5,paddingBottom:2,paddingRight:4,children:[(0,T.jsx)(ns,{children:(0,T.jsx)(Rs,{name:"searchbar",value:c,onChange:i,placeholder:"e.g: strapi-plugin-abcd",onKeyDown:L,ref:x,onBlur:O,onClear:U,onSubmit:p,clearLabel:"Clear",size:"S",children:r})}),(0,T.jsx)(ce,{paddingLeft:2,paddingTop:4,children:(0,T.jsx)(Na,{})})]}):(0,T.jsxs)(ce,{paddingLeft:6,paddingTop:6,paddingBottom:2,paddingRight:4,children:[(0,T.jsxs)(Le,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,T.jsx)(Ve,{variant:"beta",as:e,children:n}),l&&(0,T.jsx)(ws,{ref:M,onClick:N,label:r,icon:(0,T.jsx)(ha.Z,{})})]}),(0,T.jsx)(ce,{paddingTop:4,children:(0,T.jsx)(Na,{})})]})};fn.defaultProps={as:"h2",searchable:!1,onChange(){},onClear(){},onSubmit(){},value:"",searchLabel:"",id:void 0},fn.propTypes={as:R.string,id:R.string,label:R.string.isRequired,onChange:R.func,onClear:R.func,onSubmit:R.func,searchLabel:R.string,searchable:R.bool,value:R.string};const Oa=({children:e,spacing:n=2,horizontal:r=!1,...l})=>(0,T.jsx)(ce,{paddingTop:2,paddingBottom:4,children:(0,T.jsx)(Le,{as:"ol",gap:n,direction:r?"row":"column",alignItems:r?"center":"stretch",...l,children:a.Children.map(e,(i,c)=>(0,T.jsx)("li",{children:i},c))})});Oa.propTypes={children:R.node.isRequired};var Pa=d(21514);const ja=(0,G.default)(Le)`
  border: none;
  padding: 0;
  background: transparent;
`,ks=G.default.div`
  display: flex;
  align-items: center;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,hn=({collapsable:e,label:n,onClick:r,ariaExpanded:l,ariaControls:i})=>e?(0,T.jsxs)(ja,{as:"button",onClick:r,"aria-expanded":l,"aria-controls":i,textAlign:"left",children:[(0,T.jsx)(ce,{paddingRight:1,children:(0,T.jsx)(Ve,{variant:"sigma",textColor:"neutral600",children:n})}),e&&(0,T.jsx)(ks,{rotated:l,children:(0,T.jsx)(Pa.Z,{"aria-hidden":!0})})]}):(0,T.jsx)(ja,{children:(0,T.jsx)(ce,{paddingRight:1,children:(0,T.jsx)(Ve,{variant:"sigma",textColor:"neutral600",children:n})})});hn.defaultProps={ariaControls:null,ariaExpanded:null,collapsable:!1,onClick(){}},hn.propTypes={ariaControls:R.string,ariaExpanded:R.bool,collapsable:R.bool,label:R.string.isRequired,onClick:R.func};const Is=(0,G.default)(Le)`
  border-radius: ${({theme:e,size:n})=>n==="S"?"2px":e.borderRadius};
  height: ${({size:e,theme:n})=>n.sizes.badge[e]};
`,qs=({active:e=!1,size:n="M",textColor:r="neutral600",backgroundColor:l="neutral150",children:i,minWidth:c=5,...u})=>{const p=n==="S"?1:2;return(0,T.jsx)(Is,{inline:!0,alignItem:"center",justifyContent:"center",minWidth:c,paddingLeft:p,paddingRight:p,background:e?"primary200":l,size:n,...u,children:(0,T.jsx)(Ve,{variant:"sigma",textColor:e?"primary600":r,children:i})})},Bs=(0,G.default)(ce)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral500};
    }
  }
`,yn=({collapsable:e,label:n,badgeLabel:r,children:l,id:i})=>{const[c,u]=(0,a.useState)(!0),p=dt(i);return(0,T.jsxs)(Le,{direction:"column",alignItems:"stretch",gap:1,children:[(0,T.jsx)(Bs,{paddingLeft:6,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,T.jsxs)(ce,{position:"relative",paddingRight:r?6:0,children:[(0,T.jsx)(hn,{onClick:()=>{u(g=>!g)},ariaExpanded:c,ariaControls:p,collapsable:e,label:n}),r&&(0,T.jsx)(qs,{backgroundColor:"neutral150",textColor:"neutral600",position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",children:r})]})}),(!e||c)&&(0,T.jsx)("ol",{id:p,children:a.Children.map(l,(g,y)=>(0,T.jsx)("li",{children:g},y))})]})};yn.defaultProps={badgeLabel:null,collapsable:!1,id:void 0},yn.propTypes={badgeLabel:R.string,children:R.node.isRequired,collapsable:R.bool,id:R.string,label:R.string.isRequired};const zs=(0,G.default)(ce)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,Ws=G.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,Us=G.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,bn=({label:e,children:n,id:r})=>{const[l,i]=(0,a.useState)(!0),c=dt(r);return(0,T.jsxs)(ce,{children:[(0,T.jsx)(zs,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,T.jsx)(Le,{justifyContent:"space-between",children:(0,T.jsxs)(Ws,{onClick:()=>{i(u=>!u)},"aria-expanded":l,"aria-controls":c,children:[(0,T.jsx)(Us,{rotated:l,children:(0,T.jsx)(Pa.Z,{"aria-hidden":!0})}),(0,T.jsx)(ce,{paddingLeft:2,children:(0,T.jsx)(Ve,{as:"span",fontWeight:"semiBold",textColor:"neutral800",children:e})})]})})}),l&&(0,T.jsx)("ul",{id:c,children:a.Children.map(n,(u,p)=>(0,T.jsx)("li",{children:u},p))})]})};bn.defaultProps={id:void 0},bn.propTypes={children:R.node.isRequired,id:R.string,label:R.string.isRequired};var Vs=d(22534);const Da=a.forwardRef(({href:e,rel:n="noreferrer noopener",target:r="_self",disabled:l=!1,isExternal:i=!1,...c},u)=>(0,T.jsx)(ce,{as:"a",ref:u,target:i?"_blank":r,rel:i?n:void 0,href:l?"#":e,"aria-disabled":l,cursor:"pointer",...c}));Da.displayName="BaseLink";const Hs=(0,G.default)(ce)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:e})=>e.colors.neutral800};
  svg > * {
    fill: ${({theme:e})=>e.colors.neutral600};
  }

  &.active {
    ${({theme:e})=>`
      background-color: ${e.colors.primary100};
      border-right: 2px solid ${e.colors.primary600};
      svg > * {
        fill: ${e.colors.primary700};
      }
      ${Ve} {
        color: ${e.colors.primary700};
        font-weight: 500;
      }
      `}
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,wa=(0,G.default)(Vs.Z)`
  width: ${12/16}rem;
  height: ${4/16}rem;
  * {
    fill: ${({theme:e,$active:n})=>n?e.colors.primary600:e.colors.neutral600};
  }
`,Gs=G.default.div`
  svg {
    height: ${12/16}rem;
    width: ${12/16}rem;
  }
`,ft=a.forwardRef(({children:e,icon:n,withBullet:r,as:l,isSubSectionChild:i,...c},u)=>(0,T.jsxs)(Hs,{as:l,icon:n,background:"neutral100",paddingLeft:i?9:7,paddingBottom:2,paddingTop:2,ref:u,...c,children:[(0,T.jsxs)(Le,{children:[n?(0,T.jsx)(Gs,{children:n}):(0,T.jsx)(wa,{}),(0,T.jsx)(ce,{paddingLeft:2,children:(0,T.jsx)(Ve,{as:"span",children:e})})]}),r&&(0,T.jsx)(ce,{as:Le,paddingRight:4,children:(0,T.jsx)(wa,{$active:!0})})]}));ft.displayName="SubNavLink",ft.defaultProps={as:Da,icon:null,isSubSectionChild:!1,withBullet:!1},ft.propTypes={as:R.elementType,children:R.node.isRequired,icon:R.element,isSubSectionChild:R.bool,withBullet:R.bool};const Ks=()=>{const{components:e,componentsGroupedByCategory:n,contentTypes:r,isInDevelopmentMode:l,sortedContentTypesList:i,modifiedData:c,initialData:u}=(0,Je.Z)(),p=(0,b.useNotification)(),{trackUsage:g}=(0,b.useTracking)(),[y,v]=(0,a.useState)(""),{onOpenModalCreateSchema:h,onOpenModalEditCategory:S}=(0,ne.Z)(),{locale:x}=(0,C.Z)(),{startsWith:M}=(0,b.useFilter)(x,{sensitivity:"base"}),N=(0,b.useCollator)(x,{sensitivity:"base"}),U=!Object.keys(r).some(_=>r[_].isTemporary===!0)&&!Object.keys(e).some(_=>e[_].isTemporary===!0)&&Rt()(c,u),O=()=>{U?(g("willCreateContentType"),h({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):se()},L=()=>{U?(g("willCreateSingleType"),h({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):se()},F=()=>{U?(g("willCreateComponent"),h({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):se()},se=()=>{p({type:"info",message:{id:(0,m.Z)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},me=Object.entries(n).map(([_,qe])=>({name:_,title:_,isEditable:l,onClickEdit(fe,pe){fe.stopPropagation(),U?S(pe.name):se()},links:qe.map(fe=>({name:fe.uid,to:`/plugins/${P.Z}/component-categories/${_}/${fe.uid}`,title:fe.schema.displayName})).sort((fe,pe)=>N.compare(fe.title,pe.title))})).sort((_,qe)=>N.compare(_.title,qe.title)),Te=i.filter(_=>_.visible);return{menu:[{name:"models",title:{id:`${(0,m.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:l&&{id:`${(0,m.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:O},links:Te.filter(_=>_.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,m.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:l&&{id:`${(0,m.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:L},links:Te.filter(_=>_.kind==="singleType")},{name:"components",title:{id:`${(0,m.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:l&&{id:`${(0,m.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:F},links:me}].map(_=>_.links.some(fe=>Array.isArray(fe.links))?{..._,links:_.links.map(fe=>{const pe=fe.links.filter(He=>M(He.title,y));return pe.length===0?null:{...fe,links:pe.sort((He,ge)=>N.compare(He.title,ge.title))}}).filter(Boolean)}:{..._,links:_.links.filter(fe=>M(fe.title,y)).sort((fe,pe)=>N.compare(fe.title,pe.title))}),searchValue:y,onSearchChange:v}},Ys=()=>{const{menu:e,searchValue:n,onSearchChange:r}=Ks(),{formatMessage:l}=(0,C.Z)();return a.createElement(fa,{ariaLabel:l({id:`${(0,m.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},a.createElement(fn,{searchable:!0,value:n,onClear:()=>r(""),onChange:i=>r(i.target.value),label:l({id:`${(0,m.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:l({id:"global.search",defaultMessage:"Search"})}),a.createElement(Oa,null,e.map(i=>a.createElement(a.Fragment,{key:i.name},a.createElement(yn,{label:l({id:i.title.id,defaultMessage:i.title.defaultMessage}),collapsable:!0,badgeLabel:i.links.length.toString()},i.links.map(c=>c.links?a.createElement(bn,{key:c.name,label:Ke()(c.title)},c.links.map(u=>a.createElement(ft,{as:pa.NavLink,to:u.to,active:u.active,key:u.name,isSubSectionChild:!0},Ke()(l({id:u.name,defaultMessage:u.title}))))):a.createElement(ft,{as:pa.NavLink,to:c.to,active:c.active,key:c.name},Ke()(l({id:c.name,defaultMessage:c.title}))))),i.customLink&&a.createElement(ue.x,{paddingLeft:7},a.createElement(Uo.A,{onClick:i.customLink.onClick,startIcon:a.createElement(Pn.J,{as:at.Z,width:(0,b.pxToRem)(8),height:(0,b.pxToRem)(8)}),marginTop:2},l({id:i.customLink.id,defaultMessage:i.customLink.defaultMessage})))))))},ka=(0,a.lazy)(()=>d.e(5905).then(d.bind(d,57134))),Xs=()=>{const{formatMessage:e}=(0,C.Z)(),n=e({id:`${P.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:r}=(0,b.useGuidedTour)(),l=(0,a.useRef)(r);return(0,a.useEffect)(()=>{l.current&&l.current("contentTypeBuilder")},[]),a.createElement(b.CheckPagePermissions,{permissions:B.Z.main},a.createElement($.q,{title:n}),a.createElement(Bo,null,a.createElement(Io,null,a.createElement(D.A,{sideNav:a.createElement(Ys,null)},a.createElement(a.Suspense,{fallback:a.createElement(b.LoadingIndicatorPage,null)},a.createElement(A.rs,null,a.createElement(A.AW,{path:`/plugins/${P.Z}/content-types/create-content-type`,component:ka}),a.createElement(A.AW,{path:`/plugins/${P.Z}/content-types/:uid`,component:ka}),a.createElement(A.AW,{path:`/plugins/${P.Z}/component-categories/:categoryUid`,component:Wo})))))))}},5002:(I,V,d)=>{"use strict";d.d(V,{Z:()=>$});var a=d(96124);const $=C=>`${a.Z}.${C}`},44174:I=>{function V(d,a,A,$){for(var C=-1,b=d==null?0:d.length;++C<b;){var D=d[C];a($,D,A(D),d)}return $}I.exports=V},48983:(I,V,d)=>{var a=d(40371),A=a("length");I.exports=A},81119:(I,V,d)=>{var a=d(89881);function A($,C,b,D){return a($,function(B,P,R){C(D,B,b(B),R)}),D}I.exports=A},89881:(I,V,d)=>{var a=d(47816),A=d(99291),$=A(a);I.exports=$},23933:(I,V,d)=>{var a=d(44239),A=d(37005),$="[object RegExp]";function C(b){return A(b)&&a(b)==$}I.exports=C},69199:(I,V,d)=>{var a=d(89881),A=d(98612);function $(C,b){var D=-1,B=A(C)?Array(C.length):[];return a(C,function(P,R,s){B[++D]=b(P,R,s)}),B}I.exports=$},82689:(I,V,d)=>{var a=d(29932),A=d(97786),$=d(67206),C=d(69199),b=d(71131),D=d(7518),B=d(85022),P=d(6557),R=d(1469);function s(K,f,W){f.length?f=a(f,function(Y){return R(Y)?function(oe){return A(oe,Y.length===1?Y[0]:Y)}:Y}):f=[P];var z=-1;f=a(f,D($));var re=C(K,function(Y,oe,X){var Q=a(f,function(ie){return ie(Y)});return{criteria:Q,index:++z,value:Y}});return b(re,function(Y,oe){return B(Y,oe,W)})}I.exports=s},71131:I=>{function V(d,a){var A=d.length;for(d.sort(a);A--;)d[A]=d[A].value;return d}I.exports=V},26393:(I,V,d)=>{var a=d(33448);function A($,C){if($!==C){var b=$!==void 0,D=$===null,B=$===$,P=a($),R=C!==void 0,s=C===null,K=C===C,f=a(C);if(!s&&!f&&!P&&$>C||P&&R&&K&&!s&&!f||D&&R&&K||!b&&K||!B)return 1;if(!D&&!P&&!f&&$<C||f&&b&&B&&!D&&!P||s&&b&&B||!R&&B||!K)return-1}return 0}I.exports=A},85022:(I,V,d)=>{var a=d(26393);function A($,C,b){for(var D=-1,B=$.criteria,P=C.criteria,R=B.length,s=b.length;++D<R;){var K=a(B[D],P[D]);if(K){if(D>=s)return K;var f=b[D];return K*(f=="desc"?-1:1)}}return $.index-C.index}I.exports=A},55189:(I,V,d)=>{var a=d(44174),A=d(81119),$=d(67206),C=d(1469);function b(D,B){return function(P,R){var s=C(P)?a:A,K=B?B():{};return s(P,D,$(R,2),K)}}I.exports=b},99291:(I,V,d)=>{var a=d(98612);function A($,C){return function(b,D){if(b==null)return b;if(!a(b))return $(b,D);for(var B=b.length,P=C?B:-1,R=Object(b);(C?P--:++P<B)&&D(R[P],P,R)!==!1;);return b}}I.exports=A},88016:(I,V,d)=>{var a=d(48983),A=d(62689),$=d(21903);function C(b){return A(b)?$(b):a(b)}I.exports=C},21903:I=>{var V="\\ud800-\\udfff",d="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",A="\\u20d0-\\u20ff",$=d+a+A,C="\\ufe0e\\ufe0f",b="["+V+"]",D="["+$+"]",B="\\ud83c[\\udffb-\\udfff]",P="(?:"+D+"|"+B+")",R="[^"+V+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",K="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",W=P+"?",z="["+C+"]?",re="(?:"+f+"(?:"+[R,s,K].join("|")+")"+z+W+")*",Y=z+W+re,oe="(?:"+[R+D+"?",D,s,K,b].join("|")+")",X=RegExp(B+"(?="+B+")|"+oe+Y,"g");function Q(ie){for(var le=X.lastIndex=0;X.test(ie);)++le;return le}I.exports=Q},7739:(I,V,d)=>{var a=d(89465),A=d(55189),$=Object.prototype,C=$.hasOwnProperty,b=A(function(D,B,P){C.call(D,P)?D[P].push(B):a(D,P,[B])});I.exports=b},96347:(I,V,d)=>{var a=d(23933),A=d(7518),$=d(31167),C=$&&$.isRegExp,b=C?A(C):a;I.exports=b},47037:(I,V,d)=>{var a=d(44239),A=d(1469),$=d(37005),C="[object String]";function b(D){return typeof D=="string"||!A(D)&&$(D)&&a(D)==C}I.exports=b},84238:(I,V,d)=>{var a=d(280),A=d(64160),$=d(98612),C=d(47037),b=d(88016),D="[object Map]",B="[object Set]";function P(R){if(R==null)return 0;if($(R))return C(R)?b(R):R.length;var s=A(R);return s==D||s==B?R.size:a(R).length}I.exports=P},89734:(I,V,d)=>{var a=d(21078),A=d(82689),$=d(5976),C=d(16612),b=$(function(D,B){if(D==null)return[];var P=B.length;return P>1&&C(D,B[0],B[1])?B=[]:P>2&&C(B[0],B[1],B[2])&&(B=[B[0]]),A(D,a(B,1),[])});I.exports=b},7334:(I,V,d)=>{var a=d(79833);function A($){return a($).toLowerCase()}I.exports=A},39138:(I,V,d)=>{var a=d(80531),A=d(40180),$=d(62689),C=d(13218),b=d(96347),D=d(88016),B=d(83140),P=d(40554),R=d(79833),s=30,K="...",f=/\w*$/;function W(z,re){var Y=s,oe=K;if(C(re)){var X="separator"in re?re.separator:X;Y="length"in re?P(re.length):Y,oe="omission"in re?a(re.omission):oe}z=R(z);var Q=z.length;if($(z)){var ie=B(z);Q=ie.length}if(Y>=Q)return z;var le=Y-D(oe);if(le<1)return oe;var ne=ie?A(ie,0,le).join(""):z.slice(0,le);if(X===void 0)return ne+oe;if(ie&&(le+=ne.length-le),b(X)){if(z.slice(le).search(X)){var m,Re=ne;for(X.global||(X=RegExp(X.source,R(f.exec(X))+"g")),X.lastIndex=0;m=X.exec(Re);)var Fe=m.index;ne=ne.slice(0,Fe===void 0?le:Fe)}}else if(z.indexOf(a(X),le)!=le){var Be=ne.lastIndexOf(X);Be>-1&&(ne=ne.slice(0,Be))}return ne+oe}I.exports=W},44908:(I,V,d)=>{var a=d(45652);function A($){return $&&$.length?a($):[]}I.exports=A},20573:(I,V,d)=>{"use strict";d.d(V,{P1:()=>R});var a="NOT_FOUND";function A(K){var f;return{get:function(z){return f&&K(f.key,z)?f.value:a},put:function(z,re){f={key:z,value:re}},getEntries:function(){return f?[f]:[]},clear:function(){f=void 0}}}function $(K,f){var W=[];function z(X){var Q=W.findIndex(function(le){return f(X,le.key)});if(Q>-1){var ie=W[Q];return Q>0&&(W.splice(Q,1),W.unshift(ie)),ie.value}return a}function re(X,Q){z(X)===a&&(W.unshift({key:X,value:Q}),W.length>K&&W.pop())}function Y(){return W}function oe(){W=[]}return{get:z,put:re,getEntries:Y,clear:oe}}var C=function(f,W){return f===W};function b(K){return function(W,z){if(W===null||z===null||W.length!==z.length)return!1;for(var re=W.length,Y=0;Y<re;Y++)if(!K(W[Y],z[Y]))return!1;return!0}}function D(K,f){var W=typeof f=="object"?f:{equalityCheck:f},z=W.equalityCheck,re=z===void 0?C:z,Y=W.maxSize,oe=Y===void 0?1:Y,X=W.resultEqualityCheck,Q=b(re),ie=oe===1?A(Q):$(oe,Q);function le(){var ne=ie.get(arguments);if(ne===a){if(ne=K.apply(null,arguments),X){var m=ie.getEntries(),Re=m.find(function(Fe){return X(Fe.value,ne)});Re&&(ne=Re.value)}ie.put(arguments,ne)}return ne}return le.clearCache=function(){return ie.clear()},le}function B(K){var f=Array.isArray(K[0])?K[0]:K;if(!f.every(function(z){return typeof z=="function"})){var W=f.map(function(z){return typeof z=="function"?"function "+(z.name||"unnamed")+"()":typeof z}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+W+"]")}return f}function P(K){for(var f=arguments.length,W=new Array(f>1?f-1:0),z=1;z<f;z++)W[z-1]=arguments[z];var re=function(){for(var oe=arguments.length,X=new Array(oe),Q=0;Q<oe;Q++)X[Q]=arguments[Q];var ie=0,le,ne={memoizeOptions:void 0},m=X.pop();if(typeof m=="object"&&(ne=m,m=X.pop()),typeof m!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof m+"]");var Re=ne,Fe=Re.memoizeOptions,Be=Fe===void 0?W:Fe,rt=Array.isArray(Be)?Be:[Be],ze=B(X),ot=K.apply(void 0,[function(){return ie++,m.apply(null,arguments)}].concat(rt)),tt=K(function(){for(var J=[],Qe=ze.length,nt=0;nt<Qe;nt++)J.push(ze[nt].apply(null,arguments));return le=ot.apply(null,J),le});return Object.assign(tt,{resultFunc:m,memoizedResultFunc:ot,dependencies:ze,lastResult:function(){return le},recomputations:function(){return ie},resetRecomputations:function(){return ie=0}}),tt};return re}var R=P(D),s=function(f,W){if(W===void 0&&(W=R),typeof f!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof f));var z=Object.keys(f),re=W(z.map(function(Y){return f[Y]}),function(){for(var Y=arguments.length,oe=new Array(Y),X=0;X<Y;X++)oe[X]=arguments[X];return oe.reduce(function(Q,ie,le){return Q[z[le]]=ie,Q},{})});return re}}}]);
