(self.webpackChunklab_nckh=self.webpackChunklab_nckh||[]).push([[5895],{62053:(A,E,t)=>{"use strict";t.r(E),t.d(E,{SettingsPage:()=>$t,default:()=>$e});var e=t(67294),l=t(97285),c=t(16550),m=t(45349),d=t(86896),y=t(64593),P=t(48474),C=t(19631),S=t(15861),r=t(64687),M=t.n(r),j=t(88767),T=t(57713),I=t(79371),v=t(19442),B=t(26789),L=t(75878),x=t(78549),z=t(9370),U=t(61585),N=t(51503),G=t(8675),H=t(91393),it=t(87751),ht=t(45697),s=t.n(ht),F=t(50781);const w=750,f=100,K=["image/jpeg","image/png","image/svg+xml"];var k=t(2578),q=t(58488),et=t(37527),rt=t(21345),dt=t(12978),ct=t(61378),nt=t(60881),Q=t(18189),X=t(18172);const _={localImage:void 0},ot=(o=_,n)=>(0,X.ZP)(o,a=>{switch(n.type){case"SET_LOCAL_IMAGE":{a.localImage=n.value;break}default:return a}}),tt=({onChangeLogo:o,customLogo:n,goTo:a,Component:i,modalTitle:u,next:O,prev:p,currentStep:R})=>{const[{localImage:h},g]=(0,e.useReducer)(ot,_),{formatMessage:Z}=(0,d.Z)(),D=$=>{g({type:"SET_LOCAL_IMAGE",value:$})},W=()=>{a(null)};return R?e.createElement(nt.P,{labelledBy:"modal",onClose:W},e.createElement(Q.x,null,e.createElement(x.Z,{fontWeight:"bold",as:"h2",id:"modal"},Z(u))),e.createElement(i,{setLocalImage:D,goTo:a,next:O,prev:p,onClose:W,asset:h||n,onChangeLogo:o})):null};tt.defaultProps={Component:void 0,currentStep:void 0,customLogo:void 0,modalTitle:void 0,next:null,prev:null},tt.propTypes={Component:s().elementType,currentStep:s().string,customLogo:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}),goTo:s().func.isRequired,modalTitle:s().shape({id:s().string,defaultMessage:s().string}),next:s().string,onChangeLogo:s().func.isRequired,prev:s().string};const Et=tt,gt={currentStep:void 0},ft=(o=gt,n)=>(0,X.ZP)(o,a=>{switch(n.type){case"GO_TO":{a.currentStep=n.to;break}default:return a}});var J=t(20107),vt=t(61738),Gt=t(81984),xt=t(54375),Ht=t(1565),Vt=t(65093),Qt=t(32156),Xt=t(80907),Jt=t(8595),Ct=t(45124),Yt=t(38828);const bt={id:"Settings.application.customization.modal.upload.error-format",defaultMessage:"Wrong format uploaded (accepted formats only: jpeg, jpg, png, svg)."},At={id:"Settings.application.customization.modal.upload.error-size",defaultMessage:"The file uploaded is too large (max dimension: {dimension}x{dimension}, max file size: {size}KB)"},wt=o=>new Promise(n=>{const a=new FileReader;a.onload=()=>{const i=new Image;i.onload=function(){n({width:i.width,height:i.height})},i.src=a.result},a.readAsDataURL(o)}),kt=(o,n)=>({ext:o.name.split(".").pop(),size:o.size/1e3,name:o.name,url:URL.createObjectURL(o),rawFile:o,width:n.width,height:n.height}),jt=async o=>{let n;if(!K.includes(o.type))throw n=new Error("File format"),n.displayMessage=bt,n;const i=await wt(o);if(!(i.width<=w&&i.height<=w))throw n=new Error("File sizing"),n.displayMessage=At,n;const O=kt(o,i);if(!(O.size<=f))throw n=new Error("File sizing"),n.displayMessage=At,n;return O},qt=(0,Ht.ZP)(Vt._)`
  opacity: 0;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,Mt=({setLocalImage:o,goTo:n,next:a,onClose:i})=>{const{formatMessage:u}=(0,d.Z)(),[O,p]=(0,e.useState)(!1),[R,h]=(0,e.useState)(void 0),g=(0,e.useRef)(null),Z=()=>p(!0),D=()=>p(!1),W=Y=>{Y.preventDefault(),g.current.click()},$=async()=>{D();const Y=g.current.files[0];if(Y)try{const b=await jt(Y);o(b),n(a)}catch(b){if(b.displayMessage)h(u(b.displayMessage,{size:f,dimension:w})),g.current.focus();else throw b}},V=()=>O?"primary500":R?"danger600":"neutral300";return e.createElement(e.Fragment,null,e.createElement("form",null,e.createElement(F.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(Qt.g,{name:"logo-upload",error:R},e.createElement("label",{htmlFor:"logo-upload"},e.createElement(L.k,{direction:"column",alignItems:"stretch",gap:2},e.createElement(L.k,{paddingTop:9,paddingBottom:7,hasRadius:!0,justifyContent:"center",direction:"column",background:O?"primary100":"neutral100",borderColor:V(),borderStyle:"dashed",borderWidth:"1px",position:"relative",onDragEnter:Z,onDragLeave:D},e.createElement(Xt.J,{color:"primary600",width:`${60/16}rem`,height:`${60/16}rem`,as:Yt.Z,"aria-hidden":!0}),e.createElement(F.x,{paddingTop:3,paddingBottom:5},e.createElement(x.Z,{variant:"delta",as:"span"},u({id:"Settings.application.customization.modal.upload.drag-drop",defaultMessage:"Drag and Drop here or"}))),e.createElement(qt,{accept:K,cursor:"pointer",as:"input",type:"file",name:"files",tabIndex:-1,zIndex:1,onChange:$,ref:g,id:"logo-upload"}),e.createElement(v.z,{type:"button",onClick:W},u({id:"Settings.application.customization.modal.upload.cta.browse",defaultMessage:"Browse files"})),e.createElement(F.x,{paddingTop:6},e.createElement(x.Z,{variant:"pi",textColor:"neutral600"},u({id:"Settings.application.customization.modal.upload.file-validation",defaultMessage:"Max dimension: {dimension}x{dimension}, Max size: {size}KB"},{size:f,dimension:w})))),e.createElement(Jt.c,null)))))),e.createElement(Ct.m,{startActions:e.createElement(v.z,{onClick:i,variant:"tertiary"},u({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"}))}))};Mt.defaultProps={next:null},Mt.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};const _t=Mt;var te=t(28469);const ee=async o=>{try{const{get:n}=(0,l.tg)(),a=await n(o,{responseType:"blob",timeout:8e3});return new File([a.data],a.config.url,{type:a.headers["content-type"]})}catch(n){throw n.displayMessage={id:"Settings.application.customization.modal.upload.error-network",defaultMessage:"Network error"},n}},Lt=({goTo:o,next:n,onClose:a,setLocalImage:i})=>{const{formatMessage:u}=(0,d.Z)(),[O,p]=(0,e.useState)(""),[R,h]=(0,e.useState)(null),g=D=>{p(D.target.value)},Z=async()=>{try{const D=await ee(O),W=await jt(D);i(W),o(n)}catch(D){if(D.displayMessage)h(u(D.displayMessage,{size:f,dimension:w}));else throw D}};return e.createElement("form",{onSubmit:D=>{D.preventDefault(),Z()}},e.createElement(F.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(te.o,{label:u({id:"Settings.application.customization.modal.upload.from-url.input-label",defaultMessage:"URL"}),error:R,onChange:g,value:O,name:"logo-url"})),e.createElement(Ct.m,{startActions:e.createElement(v.z,{onClick:a,variant:"tertiary"},u({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(v.z,{type:"submit"},u({id:"Settings.application.customization.modal.upload.next",defaultMessage:"Next"}))}))};Lt.defaultProps={next:null},Lt.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};const ne=Lt,yt=({setLocalImage:o,goTo:n,next:a,onClose:i})=>{const{formatMessage:u}=(0,d.Z)();return e.createElement(J.v,{label:u({id:"Settings.application.customization.modal.tab.label",defaultMessage:"How do you want to upload your assets?"}),variant:"simple"},e.createElement(F.x,{paddingLeft:8,paddingRight:8},e.createElement(vt.m,null,e.createElement(vt.O,null,u({id:"Settings.application.customization.modal.upload.from-computer",defaultMessage:"From computer"})),e.createElement(vt.O,null,u({id:"Settings.application.customization.modal.upload.from-url",defaultMessage:"From url"}))),e.createElement(Gt.i,null)),e.createElement(xt.n,null,e.createElement(xt.x,null,e.createElement(_t,{onClose:i,setLocalImage:o,goTo:n,next:a})),e.createElement(xt.x,null,e.createElement(ne,{onClose:i,setLocalImage:o,goTo:n,next:a}))))};yt.defaultProps={next:null},yt.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};const oe=yt;var ae=t(46038),se=t(5390),le=t(11255),ie=t(71029),re=t(91457),Bt=t(81896),de=t(50192);const Ut=({asset:o})=>{const{formatMessage:n}=(0,d.Z)();return e.createElement(ae.Z,null,e.createElement(se.O,null,e.createElement(le.H,{size:"S",src:o.url})),e.createElement(ie.e,null,e.createElement(re.a,null,e.createElement(Bt.l,null,o.name),e.createElement(Bt._,null,`${o.ext.toUpperCase()} - ${o.width}\u2715${o.height}`)),e.createElement(de.E,null,n({id:"Settings.application.customization.modal.pending.card-badge",defaultMessage:"image"}))))};Ut.propTypes={asset:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}).isRequired};const ce=Ut,St=({onClose:o,asset:n,prev:a,next:i,goTo:u,setLocalImage:O,onChangeLogo:p})=>{const{formatMessage:R}=(0,d.Z)(),h=()=>{O(void 0),u(a)},g=()=>{p(n),u(i)};return e.createElement(e.Fragment,null,e.createElement(F.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(L.k,{justifyContent:"space-between",paddingBottom:6},e.createElement(L.k,{direction:"column",alignItems:"flex-start"},e.createElement(x.Z,{variant:"pi",fontWeight:"bold"},R({id:"Settings.application.customization.modal.pending.title",defaultMessage:"Logo ready to upload"})),e.createElement(x.Z,{variant:"pi",textColor:"neutral500"},R({id:"Settings.application.customization.modal.pending.subtitle",defaultMessage:"Manage the chosen logo before uploading it"}))),e.createElement(v.z,{onClick:h,variant:"secondary"},R({id:"Settings.application.customization.modal.pending.choose-another",defaultMessage:"Choose another logo"}))),e.createElement(F.x,{maxWidth:(0,l.Q1)(180)},n.url?e.createElement(ce,{asset:n}):null)),e.createElement(Ct.m,{startActions:e.createElement(v.z,{onClick:o,variant:"tertiary"},R({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(v.z,{onClick:g},R({id:"Settings.application.customization.modal.pending.upload",defaultMessage:"Upload logo"}))}))};St.defaultProps={next:null,prev:null},St.propTypes={goTo:s().func.isRequired,asset:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}).isRequired,next:s().string,onClose:s().func.isRequired,onChangeLogo:s().func.isRequired,prev:s().string,setLocalImage:s().func.isRequired};const me={upload:{Component:oe,modalTitle:{id:"Settings.application.customization.modal.upload",defaultMessage:"Upload logo"},next:"pending",prev:null},pending:{Component:St,modalTitle:{id:"Settings.application.customization.modal.pending",defaultMessage:"Pending logo"},next:null,prev:"upload"}},Rt=({canUpdate:o,customLogo:n,defaultLogo:a,hint:i,label:u,onChangeLogo:O,onResetLogo:p})=>{const[{currentStep:R},h]=(0,e.useReducer)(ft,gt),{Component:g,next:Z,prev:D,modalTitle:W}=me[R]||{},{formatMessage:$}=(0,d.Z)(),V=Y=>{h({type:"GO_TO",to:Y})};return e.createElement(e.Fragment,null,e.createElement(k.F,{label:u,selectedSlide:0,hint:i,previousLabel:"",nextLabel:"",onNext:()=>{},onPrevious:()=>{},secondaryLabel:n?.name||"logo.png",actions:e.createElement(q.b,null,e.createElement(et.h,{disabled:!o,onClick:()=>V(n?"pending":"upload"),label:$({id:"Settings.application.customization.carousel.change-action",defaultMessage:"Change logo"}),icon:e.createElement(dt.Z,null)}),n&&e.createElement(et.h,{disabled:!o,onClick:p,label:$({id:"Settings.application.customization.carousel.reset-action",defaultMessage:"Reset logo"}),icon:e.createElement(ct.Z,null)}))},e.createElement(rt.q,{label:$({id:"Settings.application.customization.carousel-slide.label",defaultMessage:"Logo slide"})},e.createElement(F.x,{maxHeight:"40%",maxWidth:"40%",as:"img",src:n?.url||a,alt:$({id:"Settings.application.customization.carousel.title",defaultMessage:"Logo"})}))),e.createElement(Et,{Component:g,currentStep:R,onChangeLogo:O,customLogo:n,goTo:V,next:Z,prev:D,modalTitle:W}))};Rt.defaultProps={canUpdate:!1,customLogo:null,hint:null},Rt.propTypes={canUpdate:s().bool,customLogo:s().shape({url:s().string,name:s().string}),label:s().string.isRequired,hint:s().string,defaultLogo:s().string.isRequired,onChangeLogo:s().func.isRequired,onResetLogo:s().func.isRequired};const Zt=Rt,Pt={menuLogo:{display:null,submit:{rawFile:null,isReset:!1}},authLogo:{display:null,submit:{rawFile:null,isReset:!1}}},ue=(o=Pt,n)=>(0,X.ZP)(o,a=>{switch(n.type){case"SET_CUSTOM_MENU_LOGO":{a.menuLogo.display=n.value,a.menuLogo.submit.rawFile=n.value.rawFile;break}case"SET_CUSTOM_AUTH_LOGO":{a.authLogo.display=n.value,a.authLogo.submit.rawFile=n.value.rawFile;break}case"RESET_CUSTOM_MENU_LOGO":{a.menuLogo.display=null,a.menuLogo.submit={rawFile:null,isReset:!0};break}case"RESET_CUSTOM_AUTH_LOGO":{a.authLogo.display=null,a.authLogo.submit={rawFile:null,isReset:!0};break}default:return a}});var ge=t(82492),pe=t.n(ge);const he=(o,n)=>pe()(o,{menuLogo:{display:n.menuLogo},authLogo:{display:n.authLogo}}),Tt=(0,e.forwardRef)(({canUpdate:o,projectSettingsStored:n},a)=>{const{formatMessage:i}=(0,d.Z)(),{trackUsage:u}=(0,l.rS)(),{logos:{menu:O,auth:p}}=(0,P.um)(),[{menuLogo:R,authLogo:h},g]=(0,e.useReducer)(ue,Pt,()=>he(Pt,n)),Z=V=>{g({type:"SET_CUSTOM_MENU_LOGO",value:V})},D=()=>{u("didClickResetLogo",{logo:"menu"}),g({type:"RESET_CUSTOM_MENU_LOGO"})},W=V=>{g({type:"SET_CUSTOM_AUTH_LOGO",value:V})},$=()=>{u("didClickResetLogo",{logo:"auth"}),g({type:"RESET_CUSTOM_AUTH_LOGO"})};return(0,e.useImperativeHandle)(a,()=>({getValues:()=>({menuLogo:R.submit,authLogo:h.submit})})),e.createElement(F.x,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(x.Z,{variant:"delta",as:"h3"},i({id:"Settings.application.customization",defaultMessage:"Customization"})),e.createElement(x.Z,{variant:"pi",textColor:"neutral600"},i({id:"Settings.application.customization.size-details",defaultMessage:"Max dimension: {dimension}\xD7{dimension}, Max file size: {size}KB"},{dimension:w,size:f})),e.createElement(z.r,{paddingTop:4,gap:4},e.createElement(U.P,{col:6,s:12},e.createElement(Zt,{canUpdate:o,customLogo:R.display,defaultLogo:O.default,hint:i({id:"Settings.application.customization.menu-logo.carousel-hint",defaultMessage:"Replace the logo in the main navigation"}),label:i({id:"Settings.application.customization.carousel.menu-logo.title",defaultMessage:"Menu logo"}),onChangeLogo:Z,onResetLogo:D})),e.createElement(U.P,{col:6,s:12},e.createElement(Zt,{canUpdate:o,customLogo:h.display,defaultLogo:p.default,hint:i({id:"Settings.application.customization.auth-logo.carousel-hint",defaultMessage:"Replace the logo in the authentication pages"}),label:i({id:"Settings.application.customization.carousel.auth-logo.title",defaultMessage:"Auth logo"}),onChangeLogo:W,onResetLogo:$}))))});Tt.defaultProps={canUpdate:!1,projectSettingsStored:null},Tt.propTypes={canUpdate:s().bool,projectSettingsStored:s().shape({menuLogo:s().shape({url:s().string,name:s().string})})};const Ee=Tt;var fe=t(68718),ve=t.n(fe);const zt=o=>ve()(o,(n,a,i)=>{a&&a.url?n[i]={...a,url:(0,l.CR)(a.url)}:n[i]=a},{}),xe=async()=>{const{get:o}=(0,l.tg)(),{data:n}=await o("/admin/project-settings");return zt(n)},Ce=async o=>{const{post:n}=(0,l.tg)(),{data:a}=await n("/admin/project-settings",o,{headers:{"Content-Type":"multipart/form-data"}});return zt(a)},Me=o=>{const n=new FormData;return Object.entries(o).forEach(([a,i])=>{i&&i.rawFile instanceof File&&n.append(a,i.rawFile),i&&i.isReset&&n.append(a,null)}),n};var Le=function(){return window&&window.strapi&&window.strapi.isEE?t(78413).Z:t(69767).Z}(),ye=function(){var n=(0,e.useRef)(),a=(0,l.lm)(),i=(0,l.rS)(),u=i.trackUsage,O=(0,d.Z)(),p=O.formatMessage,R=(0,j.useQueryClient)();(0,l.go)();var h=(0,l.L7)(),g=h.latestStrapiReleaseTag,Z=h.shouldUpdateStrapi,D=h.strapiVersion,W=(0,P.um)(),$=W.updateProjectSettings,V=(0,l.ss)(it.Z.settings["project-settings"]),Y=V.allowedActions,b=Y.canRead,Ot=Y.canUpdate,Ke=b&&Ot,Ne=(0,j.useQuery)("project-settings",xe,{enabled:b}),Kt=Ne.data,Ge=(0,j.useMutation)(function(Dt){return Ce(Dt)},{onSuccess:function(pt){return(0,S.Z)(M().mark(function mt(){var at,st;return M().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return at=pt.menuLogo,st=pt.authLogo,lt.next=3,R.invalidateQueries("project-settings",{refetchActive:!0});case 3:$({menuLogo:at?.url,authLogo:st?.url});case 4:case"end":return lt.stop()}},mt)}))()}}),He=function(pt){if(pt.preventDefault(),!!Ot){var mt=n.current.getValues(),at=Me(mt);Ge.mutate(at,{onSuccess:function(){var Nt=mt.menuLogo,lt=mt.authLogo;Nt.rawFile&&u("didChangeLogo",{logo:"menu"}),lt.rawFile&&u("didChangeLogo",{logo:"auth"}),a({type:"success",message:p({id:"app",defaultMessage:"Saved"})})},onError:function(){a({type:"warning",message:{id:"notification.error",defaultMessage:"An error occurred"}})}})}};return e.createElement(m.A,null,e.createElement(l.SL,{name:"Application"}),e.createElement(T.o,null,e.createElement("form",{onSubmit:He},e.createElement(I.T,{title:p({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:p({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"}),primaryAction:Ke&&e.createElement(v.z,{type:"submit",startIcon:e.createElement(G.Z,null)},p({id:"global.save",defaultMessage:"Save"}))}),e.createElement(B.D,null,e.createElement(L.k,{direction:"column",alignItems:"stretch",gap:6},e.createElement(L.k,{direction:"column",alignItems:"stretch",gap:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(x.Z,{variant:"delta",as:"h3"},p({id:"global.details",defaultMessage:"Details"})),e.createElement(z.r,{gap:5,as:"dl"},e.createElement(U.P,{col:6,s:12},e.createElement(x.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},p({id:"Settings.application.strapiVersion",defaultMessage:"strapi version"})),e.createElement(L.k,{gap:3,direction:"column",alignItems:"start",as:"dd"},e.createElement(x.Z,null,"v",D),Z&&e.createElement(N.r,{href:"https://github.com/strapi/strapi/releases/tag/".concat(g),isExternal:!0,endIcon:e.createElement(H.Z,null)},p({id:"Settings.application.link-upgrade",defaultMessage:"Upgrade your admin panel"})))),e.createElement(U.P,{col:6,s:12},e.createElement(x.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},p({id:"Settings.application.edition-title",defaultMessage:"current plan"})),e.createElement(L.k,{gap:3,direction:"column",alignItems:"start",as:"dd"},e.createElement(x.Z,null,p({id:"Settings.application.ee-or-ce",defaultMessage:"{communityEdition, select, true {Community Edition} other {Enterprise Edition}}"},{communityEdition:h.communityEdition})),e.createElement(N.r,{href:"https://strapi.io/pricing-self-hosted",isExternal:!0,endIcon:e.createElement(H.Z,null)},p({id:"Settings.application.link-pricing",defaultMessage:"See all pricing plans"})))),e.createElement(U.P,{col:6,s:12},e.createElement(x.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},p({id:"Settings.application.node-version",defaultMessage:"node version"})),e.createElement(x.Z,{as:"dd"},h.nodeVersion)),e.createElement(Le,null))),b&&Kt&&e.createElement(Ee,{canUpdate:Ot,ref:n,projectSettingsStored:Kt}))))))};const Se=ye;var Re=t(94654),Pe=t.n(Re);const Te=o=>Pe()(o,a=>a.links).map(a=>(0,C.ot)(a.Component,a.to,a.exact||!1)),Oe=o=>o.filter(n=>!n.links.every(a=>a.isDisplayed===!1));var Ft=t(42982);const De=[{async Component(){return await t.e(3455).then(t.bind(t,98906))},to:"/settings/roles",exact:!0},{async Component(){return await Promise.all([t.e(949),t.e(2544)]).then(t.bind(t,23341))},to:"/settings/roles/duplicate/:id",exact:!0},{async Component(){return await Promise.all([t.e(949),t.e(2544)]).then(t.bind(t,23341))},to:"/settings/roles/new",exact:!0},{async Component(){return await Promise.all([t.e(949),t.e(2544)]).then(t.bind(t,92100))},to:"/settings/roles/:id",exact:!0},{async Component(){return await t.e(5199).then(t.bind(t,37735))},to:"/settings/users",exact:!0},{async Component(){return await t.e(4263).then(t.bind(t,22282))},to:"/settings/users/:id",exact:!0},{async Component(){return await t.e(5162).then(t.bind(t,3672))},to:"/settings/webhooks/create",exact:!0},{async Component(){return await t.e(5162).then(t.bind(t,42122))},to:"/settings/webhooks/:id",exact:!0},{async Component(){return await t.e(4121).then(t.bind(t,43575))},to:"/settings/webhooks",exact:!0},{async Component(){return await t.e(8056).then(t.bind(t,87427))},to:"/settings/api-tokens",exact:!0},{async Component(){return await Promise.all([t.e(949),t.e(5477),t.e(7692),t.e(4299)]).then(t.bind(t,9683))},to:"/settings/api-tokens/create",exact:!0},{async Component(){return await Promise.all([t.e(949),t.e(5477),t.e(7692),t.e(92)]).then(t.bind(t,28465))},to:"/settings/api-tokens/:id",exact:!0},{async Component(){return await Promise.all([t.e(949),t.e(5477),t.e(3219),t.e(4816)]).then(t.bind(t,39987))},to:"/settings/transfer-tokens/create",exact:!0},{async Component(){return await t.e(9600).then(t.bind(t,70798))},to:"/settings/transfer-tokens",exact:!0},{async Component(){return await Promise.all([t.e(949),t.e(5477),t.e(3219),t.e(2492)]).then(t.bind(t,9452))},to:"/settings/transfer-tokens/:id",exact:!0}];var Ie=function(){return window&&window.strapi&&window.strapi.isEE?t(5420).Z:t(35301).Z}();const Ae=[].concat((0,Ft.Z)(Ie),(0,Ft.Z)(De));var je=t(73727),Be=t(99971),Ue=t(16703),Ze=t(34446),ze=t(29489),Fe=t(52305);const Wt=({menu:o})=>{const{formatMessage:n}=(0,d.Z)(),{trackUsage:a}=(0,l.rS)(),{pathname:i}=(0,c.TH)(),O=Oe(o).map(h=>({...h,title:h.intlLabel,links:h.links.map(g=>({...g,title:g.intlLabel,name:g.id}))})),p=n({id:"global.settings",defaultMessage:"Settings"}),R=(h=null)=>{a("willNavigate",{from:i,to:h})};return e.createElement(Be.m,{ariaLabel:p},e.createElement(Ue.p,{label:p}),e.createElement(Ze.Z,null,O.map(h=>e.createElement(ze.D,{key:h.id,label:n(h.intlLabel)},h.links.map(g=>e.createElement(Fe.E,{as:je.OL,withBullet:g.hasNotification,to:g.to,onClick:()=>R(g.to),key:g.id},n(g.intlLabel)))))))};Wt.propTypes={menu:s().array.isRequired};const We=Wt;function $t(){const{settingId:o}=(0,c.UO)(),{settings:n}=(0,l.j1)(),{formatMessage:a}=(0,d.Z)(),{isLoading:i,menu:u}=(0,P.Te)(),O=(0,e.useMemo)(()=>(0,C.WW)(Ae.map(({to:h,Component:g,exact:Z})=>(0,C.ot)(g,h,Z))),[]),p=Te(n);if(i)return e.createElement(l.dO,null);if(!o)return e.createElement(c.l_,{to:"/settings/application-infos"});const R=a({id:"global.settings",defaultMessage:"Settings"});return e.createElement(m.A,{sideNav:e.createElement(We,{menu:u})},e.createElement(y.q,{title:R}),e.createElement(c.rs,null,e.createElement(c.AW,{path:"/settings/application-infos",component:Se,exact:!0}),O,p))}const $e=(0,e.memo)($t)},69767:(A,E,t)=>{"use strict";t.d(E,{Z:()=>l});const l=()=>null},35301:(A,E,t)=>{"use strict";t.d(E,{Z:()=>l});const l=[]},78413:(A,E,t)=>{"use strict";t.d(E,{Z:()=>B});var e=t(67294),l=t(86896),c=t(61585),m=t(78549),d=t(75878),y=t(74273),P=t(80907),C=t(36182),S=t(91330),r=t(91393),M=t(97285),j=t(69483);const T="https://cloud.strapi.io/profile/billing",I="https://strapi.io/billing/request-seats",B=()=>{const{formatMessage:L}=(0,l.Z)(),{license:x}=(0,j.q5)(),{licenseLimitStatus:z,enforcementUserCount:U,permittedSeats:N,isHostedOnStrapiCloud:G}=x?.data??{};return N?e.createElement(c.P,{col:6,s:12},e.createElement(m.Z,{variant:"sigma",textColor:"neutral600"},L({id:"Settings.application.admin-seats",defaultMessage:"Admin seats"})),e.createElement(d.k,{gap:2},e.createElement(d.k,null,e.createElement(m.Z,{as:"p"},L({id:"Settings.application.ee.admin-seats.count",defaultMessage:"<text>{enforcementUserCount}</text>/{permittedSeats}"},{permittedSeats:N,enforcementUserCount:U,text:H=>e.createElement(m.Z,{fontWeight:"semiBold",textColor:U>N?"danger500":null},H)}))),z==="OVER_LIMIT"&&e.createElement(y.u,{description:L({id:"Settings.application.ee.admin-seats.at-limit-tooltip",defaultMessage:"At limit: add seats to invite more users"})},e.createElement(P.J,{width:`${(0,M.Q1)(14)}rem`,height:`${(0,M.Q1)(14)}rem`,color:"danger500",as:S.Z}))),e.createElement(C.r,{href:G?T:I,isExternal:!0,endIcon:e.createElement(r.Z,null)},L({id:"Settings.application.ee.admin-seats.add-seats",defaultMessage:"{isHostedOnStrapiCloud, select, true {Add seats} other {Contact sales}}"},{isHostedOnStrapiCloud:G}))):null}},5420:(A,E,t)=>{"use strict";t.d(E,{Z:()=>l});const e=[];window.strapi.features.isEnabled(window.strapi.features.SSO)&&e.push({async Component(){return await t.e(302).then(t.bind(t,40316))},to:"/settings/single-sign-on",exact:!0}),window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS)&&e.push({async Component(){return await Promise.all([t.e(2112),t.e(7027),t.e(8155)]).then(t.bind(t,97259))},to:"/settings/review-workflows",exact:!0}),window.strapi.features.isEnabled(window.strapi.features.AUDIT_LOGS)&&e.push({async Component(){return await t.e(2812).then(t.bind(t,35915))},to:"/settings/audit-logs",exact:!0});const l=e},94654:(A,E,t)=>{var e=t(21078),l=t(35161);function c(m,d){return e(l(m,d),1)}A.exports=c},35161:(A,E,t)=>{var e=t(29932),l=t(67206),c=t(69199),m=t(1469);function d(y,P){var C=m(y)?e:c;return C(y,l(P,3))}A.exports=d},45349:(A,E,t)=>{"use strict";t.d(E,{A:()=>C});var e=t(85893),l=t(67294),c=t(45697),m=t(1565),d=t(50781);const y=(0,m.ZP)(d.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:S})=>S?"auto 1fr":"1fr"};
`,P=(0,m.ZP)(d.x)`
  overflow-x: hidden;
`,C=({sideNav:S,children:r})=>(0,e.jsxs)(y,{hasSideNav:!!S,children:[S,(0,e.jsx)(P,{paddingBottom:10,children:r})]});C.defaultProps={sideNav:void 0},C.propTypes={children:c.node.isRequired,sideNav:c.node}},22534:(A,E,t)=>{"use strict";t.d(E,{Z:()=>c});var e=t(85893);const l=m=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 4 4",...m,children:(0,e.jsx)("rect",{width:4,height:4,fill:"#A5A5BA",rx:2})}),c=l},36182:(A,E,t)=>{"use strict";t.d(E,{r:()=>S});var e=t(85893),l=t(67294),c=t(91393),m=t(1565),d=t(15585),y=t(63507),P=t(75515);const C=(0,m.ZP)(y.f)`
  display: inline-flex;
  align-items: center;
  text-decoration: none;
  gap: ${({theme:r})=>r.spaces[2]};
  pointer-events: ${({disabled:r})=>r?"none":void 0};

  svg {
    font-size: ${10/16}rem;

    path {
      fill: ${({disabled:r,theme:M})=>r?M.colors.neutral600:M.colors.primary600};
    }
  }

  &:hover {
    color: ${({theme:r})=>r.colors.primary500};
  }

  &:active {
    color: ${({theme:r})=>r.colors.primary700};
  }

  ${d.BF};
`,S=l.forwardRef(({children:r,href:M,disabled:j=!1,startIcon:T,endIcon:I,isExternal:v=!0,...B},L)=>(0,e.jsxs)(C,{ref:L,href:M,disabled:j,isExternal:v,...B,children:[T,(0,e.jsx)(P.Z,{textColor:j?"neutral600":"primary600",children:r}),I,M&&!I&&v&&(0,e.jsx)(c.Z,{})]}));S.displayName="Link"},99971:(A,E,t)=>{"use strict";t.d(E,{m:()=>S});var e=t(85893),l=t(1565),c=t(69215),m=t(41580);const d=(0,l.ZP)(m.x)`
  display: grid;
  grid-template-columns: repeat(${({gridCols:r})=>r}, 1fr);
  ${({theme:r,gap:M})=>(0,c.Z)("gap",M,r)}
`,y=({gap:r="0",gridCols:M=12,...j})=>(0,e.jsx)(d,{gap:r,gridCols:M,...j}),P=`${232/16}rem`,C=(0,l.ZP)(y)`
  width: ${P};
  background: ${({theme:r})=>r.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:r})=>r.colors.neutral200};
  z-index: 1;
`,S=({ariaLabel:r,...M})=>(0,e.jsx)(C,{"aria-label":r,as:"nav",...M})},16703:(A,E,t)=>{"use strict";t.d(E,{p:()=>w});var e=t(85893),l=t(67294),c=t(34759),m=t(1565),d=t(7801),y=t(2504);const P=f=>{const K=(0,l.useRef)();return(0,l.useEffect)(()=>{K.current=f}),K.current};var C=t(70004),S=t(41580);const r=f=>(0,e.jsx)("form",{...f,role:"search"});var M=t(15800),j=t(73484),T=t(15585),I=t(45377),v=t(54574),B=t(63237),L=t(19270),x=t(11047);const z=(0,m.ZP)(x.k)`
  font-size: 1.6rem;
  padding: 0;
`,U=(0,l.forwardRef)(({label:f,children:K,...k},q)=>(0,e.jsxs)(z,{justifyContent:"unset",background:"transparent",borderStyle:"none",type:"button",...k,as:"button",ref:q,children:[(0,e.jsx)(B.T,{as:"span",children:f}),(0,l.cloneElement)(K,{"aria-hidden":!0,focusable:!1})]})),N=(0,m.ZP)(M.Z)`
  font-size: 0.5rem;
  path {
    fill: ${({theme:f})=>f.colors.neutral400};
  }
`,G=(0,m.ZP)(c.Z)`
  font-size: 0.8rem;
  path {
    fill: ${({theme:f})=>f.colors.neutral800};
  }
`,H=m.ZP.div`
  border-radius: ${({theme:f})=>f.borderRadius};
  box-shadow: ${({theme:f})=>f.shadows.filterShadow};

  &:focus-within {
    ${G} {
      path {
        fill: ${({theme:f})=>f.colors.primary600};
      }
    }
  }

  ${I.S} {
    border: 1px solid transparent;
  }

  ${(0,T.k3)(I.S)}
`,it=(0,l.forwardRef)(({name:f,size:K="M",children:k,value:q="",onClear:et,clearLabel:rt,...dt},ct)=>{const nt=(0,l.useRef)(null),Q=q.length>0,X=ut=>{et(ut),nt.current.focus()},_=(0,j.F)(ct,nt);return(0,e.jsx)(H,{children:(0,e.jsxs)(v.g,{name:f,children:[(0,e.jsx)(B.T,{children:(0,e.jsx)(L.Q,{children:k})}),(0,e.jsx)(I._,{ref:_,value:q,startAction:(0,e.jsx)(G,{"aria-hidden":!0}),size:K,endAction:Q?(0,e.jsx)(U,{label:rt,onClick:X,children:(0,e.jsx)(N,{})}):void 0,...dt})]})})});var ht=t(75515),s=t(12028);const F=(0,m.ZP)(C.i)`
  width: ${24/16}rem;
  background-color: ${({theme:f})=>f.colors.neutral200};
`,w=({as:f="h2",label:K,searchLabel:k="",searchable:q=!1,onChange:et=()=>{},value:rt="",onClear:dt=()=>{},onSubmit:ct=()=>{},id:nt})=>{const[Q,X]=(0,l.useState)(!1),_=P(Q),ut=(0,y.M)(nt),ot=(0,l.useRef)(void 0),tt=(0,l.useRef)(void 0);(0,l.useEffect)(()=>{Q&&ot.current&&ot.current.focus(),_&&!Q&&tt.current&&tt.current.focus()},[Q,_]);const Et=()=>{X(J=>!J)},gt=J=>{dt(J),ot.current.focus()},It=J=>{J.relatedTarget?.id!==ut&&X(!1)},ft=J=>{J.key===d.y.ESCAPE&&X(!1)};return Q?(0,e.jsxs)(S.x,{paddingLeft:4,paddingTop:5,paddingBottom:2,paddingRight:4,children:[(0,e.jsx)(r,{children:(0,e.jsx)(it,{name:"searchbar",value:rt,onChange:et,placeholder:"e.g: strapi-plugin-abcd",onKeyDown:ft,ref:ot,onBlur:It,onClear:gt,onSubmit:ct,clearLabel:"Clear",size:"S",children:k})}),(0,e.jsx)(S.x,{paddingLeft:2,paddingTop:4,children:(0,e.jsx)(F,{})})]}):(0,e.jsxs)(S.x,{paddingLeft:6,paddingTop:6,paddingBottom:2,paddingRight:4,children:[(0,e.jsxs)(x.k,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,e.jsx)(ht.Z,{variant:"beta",as:f,children:K}),q&&(0,e.jsx)(s.h,{ref:tt,onClick:Et,label:k,icon:(0,e.jsx)(c.Z,{})})]}),(0,e.jsx)(S.x,{paddingTop:4,children:(0,e.jsx)(F,{})})]})}},52305:(A,E,t)=>{"use strict";t.d(E,{E:()=>j});var e=t(85893),l=t(67294),c=t(22534),m=t(1565),d=t(41580),y=t(75515),P=t(11047),C=t(63507);const S=(0,m.ZP)(d.x)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:T})=>T.colors.neutral800};
  svg > * {
    fill: ${({theme:T})=>T.colors.neutral600};
  }

  &.active {
    ${({theme:T})=>`
      background-color: ${T.colors.primary100};
      border-right: 2px solid ${T.colors.primary600};
      svg > * {
        fill: ${T.colors.primary700};
      }
      ${y.Z} {
        color: ${T.colors.primary700};
        font-weight: 500;
      }
      `}
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,r=(0,m.ZP)(c.Z)`
  width: ${12/16}rem;
  height: ${4/16}rem;
  * {
    fill: ${({theme:T,$active:I})=>I?T.colors.primary600:T.colors.neutral600};
  }
`,M=m.ZP.div`
  svg {
    height: ${12/16}rem;
    width: ${12/16}rem;
  }
`,j=l.forwardRef(({children:T,icon:I=null,withBullet:v=!1,as:B=C.f,isSubSectionChild:L=!1,...x},z)=>(0,e.jsxs)(S,{as:B,icon:I,background:"neutral100",paddingLeft:L?9:7,paddingBottom:2,paddingTop:2,ref:z,...x,children:[(0,e.jsxs)(P.k,{children:[I?(0,e.jsx)(M,{children:I}):(0,e.jsx)(r,{}),(0,e.jsx)(d.x,{paddingLeft:2,children:(0,e.jsx)(y.Z,{as:"span",children:T})})]}),v&&(0,e.jsx)(d.x,{as:P.k,paddingRight:4,children:(0,e.jsx)(r,{$active:!0})})]}))},29489:(A,E,t)=>{"use strict";t.d(E,{D:()=>I});var e=t(85893),l=t(67294),c=t(1565),m=t(21514),d=t(11047),y=t(41580),P=t(75515);const C=(0,c.ZP)(d.k)`
  border: none;
  padding: 0;
  background: transparent;
`,S=c.ZP.div`
  display: flex;
  align-items: center;
  transform: rotateX(${({rotated:v})=>v?"0deg":"180deg"});
`,r=({collapsable:v=!1,label:B,onClick:L=()=>{},ariaExpanded:x,ariaControls:z})=>v?(0,e.jsxs)(C,{as:"button",onClick:L,"aria-expanded":x,"aria-controls":z,textAlign:"left",children:[(0,e.jsx)(y.x,{paddingRight:1,children:(0,e.jsx)(P.Z,{variant:"sigma",textColor:"neutral600",children:B})}),v&&(0,e.jsx)(S,{rotated:x,children:(0,e.jsx)(m.Z,{"aria-hidden":!0})})]}):(0,e.jsx)(C,{children:(0,e.jsx)(y.x,{paddingRight:1,children:(0,e.jsx)(P.Z,{variant:"sigma",textColor:"neutral600",children:B})})});var M=t(2504),j=t(30190);const T=(0,c.ZP)(y.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:v})=>v.colors.neutral500};
    }
  }
`,I=({collapsable:v=!1,label:B,badgeLabel:L,children:x,id:z})=>{const[U,N]=(0,l.useState)(!0),G=(0,M.M)(z);return(0,e.jsxs)(d.k,{direction:"column",alignItems:"stretch",gap:1,children:[(0,e.jsx)(T,{paddingLeft:6,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,e.jsxs)(y.x,{position:"relative",paddingRight:L?6:0,children:[(0,e.jsx)(r,{onClick:()=>{N(H=>!H)},ariaExpanded:U,ariaControls:G,collapsable:v,label:B}),L&&(0,e.jsx)(j.C,{backgroundColor:"neutral150",textColor:"neutral600",position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",children:L})]})}),(!v||U)&&(0,e.jsx)("ol",{id:G,children:l.Children.map(x,(H,it)=>(0,e.jsx)("li",{children:H},it))})]})}},34446:(A,E,t)=>{"use strict";t.d(E,{Z:()=>d});var e=t(85893),l=t(67294),c=t(41580),m=t(11047);const d=({children:y,spacing:P=2,horizontal:C=!1,...S})=>(0,e.jsx)(c.x,{paddingTop:2,paddingBottom:4,children:(0,e.jsx)(m.k,{as:"ol",gap:P,direction:C?"row":"column",alignItems:C?"center":"stretch",...S,children:l.Children.map(y,(r,M)=>(0,e.jsx)("li",{children:r},M))})})}}]);
