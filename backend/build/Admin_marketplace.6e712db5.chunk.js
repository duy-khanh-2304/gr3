"use strict";(self.webpackChunklab_nckh=self.webpackChunklab_nckh||[]).push([[5516],{9226:(A,M,a)=>{a.d(M,{Z:()=>E});var e=a(67294);const E=(i,k)=>{const[C,T]=(0,e.useState)(i);return(0,e.useEffect)(()=>{const x=setTimeout(()=>{T(i)},k);return()=>{clearTimeout(x)}},[i,k]),C}},61136:(A,M,a)=>{a.r(M),a.d(M,{MarketPlacePage:()=>ye,default:()=>bt});var e=a(67294),h=a(86896),E=a(64593),i=a(69307),k=a(45349),C=a(57713),T=a(26789),x=a(20107),f=a(75878),D=a(61738),P=a(50781),F=a(96073),I=a(54375),U=a(45697),t=a.n(U),$=a(79371),V=a(80994),S=a(85893);const J=n=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 25",...n,children:(0,S.jsx)("path",{fill:"#212134",fillRule:"evenodd",d:"M13.571 18.272H10.43v-8.47H2.487a.2.2 0 0 1-.14-.343L11.858.058a.2.2 0 0 1 .282 0l9.513 9.4a.2.2 0 0 1-.14.343H13.57v8.47ZM2.2 21.095a.2.2 0 0 0-.2.2v2.424c0 .11.09.2.2.2h19.6a.2.2 0 0 0 .2-.2v-2.424a.2.2 0 0 0-.2-.2H2.2Z",clipRule:"evenodd"})}),W=J,j=({isOnline:n,npmPackageType:s})=>{const{formatMessage:r}=(0,h.Z)(),{trackUsage:o}=(0,i.rS)(),l=s==="provider"?"didSubmitProvider":"didSubmitPlugin";return e.createElement($.T,{title:r({id:"global.marketplace",defaultMessage:"Marketplace"}),subtitle:r({id:"admin.pages.MarketPlacePage.subtitle",defaultMessage:"Get more out of Strapi"}),primaryAction:n&&e.createElement(V.Q,{startIcon:e.createElement(W,null),variant:"tertiary",href:`https://market.strapi.io/submit-${s}`,onClick:()=>o(l),isExternal:!0},r({id:`admin.pages.MarketPlacePage.submit.${s}.link`,defaultMessage:`Submit ${s}`}))})},re=j;j.defaultProps={npmPackageType:"plugin"},j.propTypes={isOnline:t().bool.isRequired,npmPackageType:t().string};var Ce=a(87751);const xe=()=>{const n=typeof navigator<"u"&&typeof navigator.onLine=="boolean"?navigator.onLine:!0,[s,r]=(0,e.useState)(n),o=()=>r(!0),l=()=>r(!1);return(0,e.useEffect)(()=>(window.addEventListener("online",o),window.addEventListener("offline",l),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",l)}),[]),s},Se=n=>(0,S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 32",...n,children:[(0,S.jsx)("path",{fill:"#AC73E6",d:"M0 4a4 4 0 0 1 4-4h24a4 4 0 0 1 4 4v24a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4Z"}),(0,S.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M15.027 13.839c-3.19-.836-6.305-1.064-10.18-.608-1.215.152-1.063 1.975.076 2.203.304.836.456 2.355.912 3.267.987 2.279 5.622 1.975 7.369.835 1.14-.683 1.443-2.279 1.9-3.494.227-.684 1.595-.684 1.822 0 .38 1.215.76 2.81 1.9 3.494 1.747 1.14 6.381 1.444 7.369-.835.456-.912.607-2.431.911-3.267 1.14-.228 1.216-2.051.076-2.203-3.874-.456-6.989-.228-10.18.608-.455.075-1.519.075-1.975 0Z",clipRule:"evenodd"})]}),Te=Se;var ie=a(91393),Z=a(80907);const De=()=>{const{formatMessage:n}=(0,h.Z)(),{trackUsage:s}=(0,i.rS)();return e.createElement("a",{href:"https://strapi.canny.io/plugin-requests",target:"_blank",rel:"noopener noreferrer nofollow",style:{textDecoration:"none"},onClick:()=>s("didMissMarketplacePlugin")},e.createElement(i.Y_,{title:n({id:"admin.pages.MarketPlacePage.missingPlugin.title",defaultMessage:"Documentation"}),subtitle:n({id:"admin.pages.MarketPlacePage.missingPlugin.description",defaultMessage:"Tell us what plugin you are looking for and we'll let our community plugin developers know in case they are in search for inspiration!"}),icon:e.createElement(Te,null),iconBackground:"alternative100",endAction:e.createElement(Z.J,{as:ie.Z,color:"neutral600",width:3,height:3,marginLeft:2})}))};var Oe=a(28809),Be=a(9370),Le=a(61585),N=a(1565),Ze=a(23450),Ie=a.n(Ze),O=a(78549),Y=a(74273),je=a(60324),Ne=a(61473),we=a(8675),Ae=a(36625),le=a.n(Ae),X=a(19442),oe=a(70780);const z=({description:n,installMessage:s,disabled:r,handleCopy:o,pluginName:l})=>e.createElement(Y.u,{"data-testid":`tooltip-${l}`,description:n},e.createElement(P.x,null,e.createElement(X.z,{size:"S",startIcon:e.createElement(oe.Z,null),variant:"secondary",disabled:r,onClick:o},s))),q=({strapiPeerDepVersion:n,strapiAppVersion:s,handleCopy:r,pluginName:o})=>{const{formatMessage:l}=(0,h.Z)(),g=le().validRange(n),c=le().satisfies(s,g),d=l({id:"admin.pages.MarketPlacePage.plugin.copy",defaultMessage:"Copy install command"});if(s){if(!g)return e.createElement(z,{installMessage:d,pluginName:o,description:l({id:"admin.pages.MarketPlacePage.plugin.version.null",defaultMessage:'Unable to verify compatibility with your Strapi version: "{strapiAppVersion}"'},{strapiAppVersion:s}),handleCopy:r});if(!c)return e.createElement(z,{installMessage:d,pluginName:o,description:l({id:"admin.pages.MarketPlacePage.plugin.version",defaultMessage:'Update your Strapi version: "{strapiAppVersion}" to: "{versionRange}"'},{strapiAppVersion:s,versionRange:g}),disabled:!0})}return e.createElement(X.z,{size:"S",startIcon:e.createElement(oe.Z,null),variant:"secondary",onClick:r},d)};z.defaultProps={disabled:!1,handleCopy:null},z.propTypes={description:t().string.isRequired,installMessage:t().string.isRequired,disabled:t().bool,handleCopy:t().func,pluginName:t().string.isRequired},q.defaultProps={strapiAppVersion:null,strapiPeerDepVersion:null},q.propTypes={strapiAppVersion:t().string,strapiPeerDepVersion:t().string,handleCopy:t().func.isRequired,pluginName:t().string.isRequired};const $e=q,_=({isInstalled:n,isInDevelopmentMode:s,commandToCopy:r,strapiAppVersion:o,strapiPeerDepVersion:l,pluginName:g})=>{const c=(0,i.lm)(),{formatMessage:d}=(0,h.Z)(),{trackUsage:u}=(0,i.rS)(),m=()=>{navigator.clipboard.writeText(r),u("willInstallPlugin"),c({type:"success",message:{id:"admin.pages.MarketPlacePage.plugin.copy.success"}})};return n?e.createElement(P.x,{paddingLeft:4},e.createElement(Z.J,{as:we.Z,marginRight:2,width:12,height:12,color:"success600"}),e.createElement(O.Z,{variant:"omega",textColor:"success600",fontWeight:"bold"},d({id:"admin.pages.MarketPlacePage.plugin.installed",defaultMessage:"Installed"}))):s?e.createElement($e,{strapiAppVersion:o,strapiPeerDepVersion:l,handleCopy:m,pluginName:g}):null};_.defaultProps={strapiAppVersion:null,strapiPeerDepVersion:null},_.propTypes={isInstalled:t().bool.isRequired,isInDevelopmentMode:t().bool.isRequired,commandToCopy:t().string.isRequired,strapiAppVersion:t().string,strapiPeerDepVersion:t().string,pluginName:t().string.isRequired};const Fe=_;var Ue=a(81984),Ve=a(86820);const We=n=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...n,children:(0,S.jsx)("path",{fill:"#212134",d:"m12 18.26-7.053 3.948 1.575-7.928L.587 8.792l8.027-.952L12 .5l3.386 7.34 8.027.952-5.935 5.488 1.575 7.928L12 18.26Z"})}),ze=We;var Ke=a(52794);const He=(0,N.ZP)(Ue.i)`
  width: ${(0,i.Q1)(12)};
  transform: rotate(90deg);
`,ee=({githubStars:n,npmDownloads:s,npmPackageType:r})=>{const{formatMessage:o}=(0,h.Z)();return e.createElement(f.k,{gap:1},!!n&&e.createElement(e.Fragment,null,e.createElement(Z.J,{as:Ve.Z,height:(0,i.Q1)(12),width:(0,i.Q1)(12),"aria-hidden":!0}),e.createElement(Z.J,{as:ze,height:(0,i.Q1)(12),width:(0,i.Q1)(12),color:"warning500","aria-hidden":!0}),e.createElement("p",{"aria-label":o({id:`admin.pages.MarketPlacePage.${r}.githubStars`,defaultMessage:"This {package} was starred {starsCount} on GitHub"},{starsCount:n,package:r})},e.createElement(O.Z,{variant:"pi",textColor:"neutral800",lineHeight:16},n)),e.createElement(He,{unsetMargin:!1,background:"neutral200"})),e.createElement(Z.J,{as:Ke.Z,height:(0,i.Q1)(12),width:(0,i.Q1)(12),"aria-hidden":!0}),e.createElement("p",{"aria-label":o({id:`admin.pages.MarketPlacePage.${r}.downloads`,defaultMessage:"This {package} has {downloadsCount} weekly downloads"},{downloadsCount:s,package:r})},e.createElement(O.Z,{variant:"pi",textColor:"neutral800",lineHeight:16},s)))};ee.defaultProps={githubStars:0,npmDownloads:0},ee.propTypes={githubStars:t().number,npmDownloads:t().number,npmPackageType:t().string.isRequired};const Qe=ee,Ge=(0,N.ZP)(O.Z)`
  /* stylelint-disable value-no-vendor-prefix, property-no-vendor-prefix */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  /* stylelint-enable value-no-vendor-prefix, property-no-vendor-prefix */
  overflow: hidden;
`,te=({npmPackage:n,isInstalled:s,useYarn:r,isInDevelopmentMode:o,npmPackageType:l,strapiAppVersion:g})=>{const{attributes:c}=n,{formatMessage:d}=(0,h.Z)(),{trackUsage:u}=(0,i.rS)(),m=r?`yarn add ${c.npmPackageName}`:`npm install ${c.npmPackageName}`,v=d({id:"admin.pages.MarketPlacePage.plugin.tooltip.madeByStrapi",defaultMessage:"Made by Strapi"}),b=`https://market.strapi.io/${Ie().plural(l)}/${c.slug}`;return e.createElement(f.k,{direction:"column",justifyContent:"space-between",paddingTop:4,paddingRight:4,paddingBottom:4,paddingLeft:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",height:"100%",alignItems:"normal","data-testid":"npm-package-card"},e.createElement(P.x,null,e.createElement(f.k,{direction:"row",justifyContent:"space-between",alignItems:"flex-start"},e.createElement(P.x,{as:"img",src:c.logo.url,alt:`${c.name} logo`,hasRadius:!0,width:11,height:11}),e.createElement(Qe,{githubStars:c.githubStars,npmDownloads:c.npmDownloads,npmPackageType:l})),e.createElement(P.x,{paddingTop:4},e.createElement(O.Z,{as:"h3",variant:"delta"},e.createElement(f.k,{alignItems:"center"},c.name,c.validated&&!c.madeByStrapi&&e.createElement(Y.u,{description:d({id:"admin.pages.MarketPlacePage.plugin.tooltip.verified",defaultMessage:"Plugin verified by Strapi"})},e.createElement(f.k,null,e.createElement(Z.J,{as:je.Z,marginLeft:2,color:"success600"}))),c.madeByStrapi&&e.createElement(Y.u,{description:v},e.createElement(f.k,null,e.createElement(P.x,{as:"img",src:Ne,alt:v,marginLeft:1,width:6,height:"auto"})))))),e.createElement(P.x,{paddingTop:2},e.createElement(Ge,{as:"p",variant:"omega",textColor:"neutral600"},c.description))),e.createElement(f.k,{gap:2,style:{alignSelf:"flex-end"},paddingTop:6},e.createElement(V.Q,{size:"S",href:b,isExternal:!0,endIcon:e.createElement(ie.Z,null),"aria-label":d({id:"admin.pages.MarketPlacePage.plugin.info.label",defaultMessage:"Learn more about {pluginName}"},{pluginName:c.name}),variant:"tertiary",onClick:()=>u("didPluginLearnMore")},d({id:"admin.pages.MarketPlacePage.plugin.info.text",defaultMessage:"More"})),e.createElement(Fe,{isInstalled:s,isInDevelopmentMode:o,commandToCopy:m,strapiAppVersion:g,strapiPeerDepVersion:c.strapiVersion,pluginName:c.name})))};te.defaultProps={isInDevelopmentMode:!1,strapiAppVersion:null},te.propTypes={npmPackage:t().shape({id:t().string.isRequired,attributes:t().shape({name:t().string.isRequired,description:t().string.isRequired,slug:t().string.isRequired,npmPackageName:t().string.isRequired,npmPackageUrl:t().string.isRequired,repositoryUrl:t().string.isRequired,logo:t().object.isRequired,developerName:t().string.isRequired,validated:t().bool.isRequired,madeByStrapi:t().bool.isRequired,strapiCompatibility:t().oneOf(["v3","v4"]),strapiVersion:t().string,githubStars:t().number,npmDownloads:t().number}).isRequired}).isRequired,isInstalled:t().bool.isRequired,useYarn:t().bool.isRequired,isInDevelopmentMode:t().bool,npmPackageType:t().string.isRequired,strapiAppVersion:t().string};const Je=te;var Ye=a(58252),Xe=a(62372);const qe=(0,N.ZP)(P.x)`
  background: ${({theme:n})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${n.colors.neutral150} 100%)`};
  opacity: 0.33;
`,_e=()=>e.createElement(Xe.M,null,Array(12).fill(null).map((n,s)=>e.createElement(qe,{key:`empty-plugin-card-${s}`,height:"234px",hasRadius:!0}))),ce=({content:n})=>e.createElement(P.x,{position:"relative","data-testid":"marketplace-results"},e.createElement(_e,null),e.createElement(P.x,{position:"absolute",top:11,width:"100%"},e.createElement(f.k,{alignItems:"center",justifyContent:"center",direction:"column"},e.createElement(Z.J,{as:Ye.Z,color:"",width:"160px",height:"88px"}),e.createElement(P.x,{paddingTop:6},e.createElement(O.Z,{variant:"delta",as:"p",textColor:"neutral600"},n)))));ce.propTypes={content:t().string.isRequired};const et=ce,ae=({status:n,npmPackages:s,installedPackageNames:r,useYarn:o,isInDevelopmentMode:l,npmPackageType:g,strapiAppVersion:c,debouncedSearch:d})=>{const{formatMessage:u}=(0,h.Z)();if(n==="error")return e.createElement(f.k,{paddingTop:8},e.createElement(i.Hn,null));if(n==="loading")return e.createElement(f.k,{justifyContent:"center",paddingTop:8},e.createElement(Oe.a,null,"Loading content..."));const m=u({id:"admin.pages.MarketPlacePage.search.empty",defaultMessage:'No result for "{target}"'},{target:d});return s.length===0?e.createElement(et,{content:m}):e.createElement(Be.r,{gap:4,"data-testid":"marketplace-results"},s.map(v=>e.createElement(Le.P,{col:4,s:6,xs:12,style:{height:"100%"},key:v.id},e.createElement(Je,{npmPackage:v,isInstalled:r.includes(v.attributes.npmPackageName),useYarn:o,isInDevelopmentMode:l,npmPackageType:g,strapiAppVersion:c}))))};ae.defaultProps={npmPackages:[],installedPackageNames:[],strapiAppVersion:null,debouncedSearch:""},ae.propTypes={status:t().string.isRequired,npmPackages:t().array,installedPackageNames:t().arrayOf(t().string),useYarn:t().bool.isRequired,isInDevelopmentMode:t().bool.isRequired,npmPackageType:t().string.isRequired,strapiAppVersion:t().string,debouncedSearch:t().string};const de=ae;var ge=a(50614),pe=a(473);const tt=(0,N.ZP)(P.x)`
  font-weight: ${({theme:n})=>n.fontWeights.semiBold};

  span {
    font-size: ${({theme:n})=>n.fontSizes[1]};
  }

  /* Hide the label, every input needs a label. */
  label {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
`,ue=({sortQuery:n,handleSelectChange:s})=>{const{formatMessage:r}=(0,h.Z)(),o={"name:asc":{selected:{id:"admin.pages.MarketPlacePage.sort.alphabetical.selected",defaultMessage:"Sort by alphabetical order"},option:{id:"admin.pages.MarketPlacePage.sort.alphabetical",defaultMessage:"Alphabetical order"}},"submissionDate:desc":{selected:{id:"admin.pages.MarketPlacePage.sort.newest.selected",defaultMessage:"Sort by newest"},option:{id:"admin.pages.MarketPlacePage.sort.newest",defaultMessage:"Newest"}},"githubStars:desc":{selected:{id:"admin.pages.MarketPlacePage.sort.githubStars.selected",defaultMessage:"Sort by GitHub stars"},option:{id:"admin.pages.MarketPlacePage.sort.githubStars",defaultMessage:"Number of GitHub stars"}},"npmDownloads:desc":{selected:{id:"admin.pages.MarketPlacePage.sort.npmDownloads.selected",defaultMessage:"Sort by npm downloads"},option:{id:"admin.pages.MarketPlacePage.sort.npmDownloads",defaultMessage:"Number of downloads"}}};return e.createElement(tt,null,e.createElement(ge.P,{size:"S",id:"sort-by-select",value:n,customizeContent:()=>r(o[n].selected),onChange:l=>{s({sort:l})},label:r({id:"admin.pages.MarketPlacePage.sort.label",defaultMessage:"Sort by"})},Object.entries(o).map(([l,g])=>e.createElement(pe.W,{key:l,value:l},r(g.option)))))};ue.propTypes={sortQuery:t().string.isRequired,handleSelectChange:t().func.isRequired};const at=ue;var nt=a(14020),st=a(15800),rt=a(36002),it=a(3206);const me=({message:n,value:s,onChange:r,possibleFilters:o,onClear:l,customizeContent:g})=>{const c=(d,u)=>`${d} (${u})`;return e.createElement(ge.P,{"data-testid":`${n}-button`,label:n,placeholder:n,size:"M",onChange:r,onClear:l,value:s,customizeContent:g,multi:!0},Object.entries(o).map(([d,u])=>e.createElement(pe.W,{"data-testid":`${d}-${u}`,key:d,value:d},c(d,u))))};me.propTypes={message:t().string.isRequired,value:t().array.isRequired,onChange:t().func.isRequired,possibleFilters:t().object.isRequired,onClear:t().func.isRequired,customizeContent:t().func.isRequired};const fe=me,he=({source:n,onToggle:s,query:r,npmPackageType:o,possibleCategories:l,possibleCollections:g,handleSelectChange:c,handleSelectClear:d})=>{const{formatMessage:u}=(0,h.Z)();return e.createElement(it.J2,{source:n,onDismiss:s,padding:3,spacing:4},e.createElement(ot,{direction:"column",alignItems:"stretch",gap:1},e.createElement(fe,{message:u({id:"admin.pages.MarketPlacePage.filters.collections",defaultMessage:"Collections"}),value:r?.collections||[],onChange:m=>{c({collections:m})},onClear:()=>d("collections"),possibleFilters:g,customizeContent:m=>u({id:"admin.pages.MarketPlacePage.filters.collectionsSelected",defaultMessage:"{count, plural, =0 {No collections} one {# collection} other {# collections}} selected"},{count:m.length})}),o==="plugin"&&e.createElement(fe,{message:u({id:"admin.pages.MarketPlacePage.filters.categories",defaultMessage:"Categories"}),value:r?.categories||[],onChange:m=>{c({categories:m})},onClear:()=>d("categories"),possibleFilters:l,customizeContent:m=>u({id:"admin.pages.MarketPlacePage.filters.categoriesSelected",defaultMessage:"{count, plural, =0 {No categories} one {# category} other {# categories}} selected"},{count:m.length}),name:"categories"})))};he.propTypes={onToggle:t().func.isRequired,source:t().shape({current:t().instanceOf(Element)}).isRequired,query:t().object.isRequired,npmPackageType:t().oneOf(["plugin","provider"]).isRequired,possibleCollections:t().object.isRequired,possibleCategories:t().object.isRequired,handleSelectChange:t().func.isRequired,handleSelectClear:t().func.isRequired};const lt=he,ot=(0,N.ZP)(f.k)`
  /* Hide the label, every input needs a label. */
  label {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
`,ne=({name:n,handleRemove:s})=>e.createElement(P.x,{padding:1},e.createElement(nt.V,{icon:e.createElement(st.Z,null),onClick:s},n)),ct=(0,N.ZP)(X.z)`
  height: ${({theme:n})=>n.sizes.input.S};
`,Pe=({possibleCollections:n,possibleCategories:s,npmPackageType:r,query:o,handleSelectClear:l,handleSelectChange:g})=>{const[c,d]=(0,e.useState)(!1),u=(0,e.useRef)(),{formatMessage:m}=(0,h.Z)(),v=()=>d(p=>!p),b=(p,y)=>{const B={[y]:o[y].filter(w=>w!==p)};g(B)};return e.createElement(e.Fragment,null,e.createElement(P.x,{paddingTop:1,paddingBottom:1},e.createElement(ct,{variant:"tertiary",ref:u,"data-testid":"filters-button",startIcon:e.createElement(rt.Z,null),onClick:v,size:"S"},m({id:"app.utils.filters",defaultMessage:"Filters"})),c&&e.createElement(lt,{onToggle:v,source:u,query:o,handleSelectClear:l,handleSelectChange:g,possibleCollections:n,possibleCategories:s,npmPackageType:r})),o.collections?.map(p=>e.createElement(ne,{name:p,key:p,handleRemove:()=>b(p,"collections")})),r==="plugin"&&o.categories?.map(p=>e.createElement(ne,{name:p,key:p,handleRemove:()=>b(p,"categories")})))};ne.propTypes={name:t().string.isRequired,handleRemove:t().func.isRequired},Pe.propTypes={npmPackageType:t().oneOf(["plugin","provider"]).isRequired,possibleCollections:t().object.isRequired,possibleCategories:t().object.isRequired,query:t().object.isRequired,handleSelectChange:t().func.isRequired,handleSelectClear:t().func.isRequired};const dt=Pe,ve=({pagination:n})=>e.createElement(P.x,{paddingTop:4},e.createElement(f.k,{alignItems:"flex-end",justifyContent:"space-between"},e.createElement(i.v4,{options:["12","24","50","100"],defaultValue:"24"}),e.createElement(i.tU,{pagination:n})));ve.propTypes={pagination:t().shape({page:t().number.isRequired,pageCount:t().number.isRequired,pageSize:t().number.isRequired,total:t().number.isRequired}).isRequired};const gt=ve;var pt=a(9226);const ut=a.p+"9d5d788027e86620c234.svg",mt=()=>{const{formatMessage:n}=(0,h.Z)();return e.createElement(k.A,null,e.createElement(C.o,null,e.createElement(re,{isOnline:!1}),e.createElement(f.k,{width:"100%",direction:"column",alignItems:"center",justifyContent:"center",paddingTop:(0,i.Q1)(120)},e.createElement(P.x,{paddingBottom:2},e.createElement(O.Z,{textColor:"neutral700",variant:"alpha"},n({id:"admin.pages.MarketPlacePage.offline.title",defaultMessage:"You are offline"}))),e.createElement(P.x,{paddingBottom:6},e.createElement(O.Z,{textColor:"neutral700",variant:"epsilon"},n({id:"admin.pages.MarketPlacePage.offline.subtitle",defaultMessage:"You need to be connected to the Internet to access Strapi Market."}))),e.createElement("img",{src:ut,alt:"offline",style:{width:"88px",height:"88px"}}))))};var ft=a(46683),Ee=a(88767),ht=a(80129),K=a.n(ht);const Me="https://market-api.strapi.io",Pt=async(n={})=>{try{const s=K().stringify(K().parse(n)),r=await fetch(`${Me}/plugins?${s}`);if(!r.ok)throw new Error("Failed to fetch marketplace plugins.");return await r.json()}catch(s){console.error(s)}return null},vt=(n,s)=>{const r=(0,i.lm)();return(0,Ee.useQuery)(["list-marketplace-plugins",s],()=>Pt(s),{onSuccess(){n&&n()},onError(){r({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})},Et=async(n={})=>{try{const s=K().stringify(K().parse(n)),r=await fetch(`${Me}/providers?${s}`);if(!r.ok)throw new Error("Failed to fetch marketplace providers.");return await r.json()}catch(s){console.error(s)}return null},Mt=(n,s)=>{const r=(0,i.lm)();return(0,Ee.useQuery)(["list-marketplace-providers",s],()=>Et(s),{onSuccess(){n&&n()},onError(){r({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})};function yt({npmPackageType:n,debouncedSearch:s,query:r,tabQuery:o}){const{notifyStatus:l}=(0,ft.G)(),{formatMessage:g}=(0,h.Z)(),c=g({id:"global.marketplace",defaultMessage:"Marketplace"}),d=()=>{l(g({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:c}))},u={page:r?.page||1,pageSize:r?.pageSize||24},{data:m,status:v}=vt(d,{...o.plugin,pagination:u,search:s}),{data:b,status:p}=Mt(d,{...o.provider,pagination:u,search:s}),y=n==="plugin"?m:b,B=n==="plugin"?v:p,[w,H]=(0,e.useState)({}),[Q,G]=(0,e.useState)({});(0,e.useEffect)(()=>{B==="success"&&H(y.meta.collections),v==="success"&&G(m.meta.categories)},[m?.meta.categories,v,y?.meta.collections,B]);const{pagination:se}=B==="success"?y.meta:{};return{pluginsResponse:m,providersResponse:b,pluginsStatus:v,providersStatus:p,possibleCollections:w,possibleCategories:Q,pagination:se}}const kt=yt,ye=()=>{const{formatMessage:n}=(0,h.Z)(),{trackUsage:s}=(0,i.rS)(),r=(0,e.useRef)(s),o=(0,i.lm)(),[{query:l},g]=(0,i.Kx)(),c=(0,pt.Z)(l?.search,500)||"",{autoReload:d,dependencies:u,useYarn:m,strapiVersion:v}=(0,i.L7)(),b=xe(),p=l?.npmPackageType||"plugin",[y,B]=(0,e.useState)({plugin:p==="plugin"?{...l}:{},provider:p==="provider"?{...l}:{}});(0,i.go)(),(0,e.useEffect)(()=>{r.current("didGoToMarketplace")},[]),(0,e.useEffect)(()=>{d||o({type:"info",message:{id:"admin.pages.MarketPlacePage.production",defaultMessage:"Manage plugins from the development environment"},blockTransition:!0})},[o,d]);const{pluginsResponse:w,providersResponse:H,pluginsStatus:Q,providersStatus:G,possibleCollections:se,possibleCategories:Rt,pagination:ke}=kt({npmPackageType:p,debouncedSearch:c,query:l,tabQuery:y});if(!b)return e.createElement(mt,null);const Ct=L=>{const R=L===0?"plugin":"provider",St=y[R]&&Object.keys(y[R]).length;g(St?{...y[R],search:l?.search||"",npmPackageType:R,page:1}:{npmPackageType:R,collections:[],categories:[],sort:"name:asc",page:1,search:l?.search||""})},be=L=>{g({...L,page:1}),B(R=>({...R,[p]:{...R[p],...L}}))},xt=L=>{g({[L]:[],page:null},"remove"),B(R=>({...R,[p]:{}}))},Re=Object.keys(u);return e.createElement(k.A,null,e.createElement(C.o,null,e.createElement(E.q,{title:n({id:"admin.pages.MarketPlacePage.helmet",defaultMessage:"Marketplace - Plugins"})}),e.createElement(re,{isOnline:b,npmPackageType:p}),e.createElement(T.D,null,e.createElement(x.v,{label:n({id:"admin.pages.MarketPlacePage.tab-group.label",defaultMessage:"Plugins and Providers for Strapi"}),id:"tabs",variant:"simple",initialSelectedTabIndex:["plugin","provider"].indexOf(p),onTabChange:Ct},e.createElement(f.k,{justifyContent:"space-between",paddingBottom:4},e.createElement(D.m,null,e.createElement(D.O,null,n({id:"admin.pages.MarketPlacePage.plugins",defaultMessage:"Plugins"})," ",Q==="success"?`(${w.meta.pagination.total})`:"..."),e.createElement(D.O,null,n({id:"admin.pages.MarketPlacePage.providers",defaultMessage:"Providers"})," ",G==="success"?`(${H.meta.pagination.total})`:"...")),e.createElement(P.x,{width:"25%"},e.createElement(F.w,{name:"searchbar",onClear:()=>g({search:"",page:1}),value:l?.search,onChange:L=>g({search:L.target.value,page:1}),clearLabel:n({id:"admin.pages.MarketPlacePage.search.clear",defaultMessage:"Clear the search"}),placeholder:n({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search"})},n({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search"})))),e.createElement(f.k,{paddingBottom:4,gap:2},e.createElement(at,{sortQuery:l?.sort||"name:asc",handleSelectChange:be}),e.createElement(dt,{npmPackageType:p,possibleCollections:se,possibleCategories:Rt,query:l||{},handleSelectChange:be,handleSelectClear:xt})),e.createElement(I.n,null,e.createElement(I.x,null,e.createElement(de,{npmPackages:w?.data,status:Q,installedPackageNames:Re,useYarn:m,isInDevelopmentMode:d,npmPackageType:"plugin",strapiAppVersion:v,debouncedSearch:c})),e.createElement(I.x,null,e.createElement(de,{npmPackages:H?.data,status:G,installedPackageNames:Re,useYarn:m,isInDevelopmentMode:d,npmPackageType:"provider",debouncedSearch:c})))),ke&&e.createElement(gt,{pagination:ke}),e.createElement(P.x,{paddingTop:8},e.createElement(De,null)))))},bt=()=>e.createElement(i.O4,{permissions:Ce.Z.marketplace.main},e.createElement(ye,null))},62372:(A,M,a)=>{a.d(M,{M:()=>E});var e=a(45697),h=a(1565);const E=h.ZP.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  grid-gap: ${({theme:i})=>i.spaces[4]};
`;E.propTypes={children:e.node.isRequired}},45349:(A,M,a)=>{a.d(M,{A:()=>x});var e=a(85893),h=a(67294),E=a(45697),i=a(1565),k=a(50781);const C=(0,i.ZP)(k.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:f})=>f?"auto 1fr":"1fr"};
`,T=(0,i.ZP)(k.x)`
  overflow-x: hidden;
`,x=({sideNav:f,children:D})=>(0,e.jsxs)(C,{hasSideNav:!!f,children:[f,(0,e.jsx)(T,{paddingBottom:10,children:D})]});x.defaultProps={sideNav:void 0},x.propTypes={children:E.node.isRequired,sideNav:E.node}},86820:(A,M,a)=>{a.d(M,{Z:()=>E});var e=a(85893);const h=i=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...i,children:(0,e.jsx)("path",{fill:"#161614",d:"M12 0C5.373 0 0 5.501 0 12.288c0 5.43 3.438 10.035 8.206 11.66.6.114.82-.266.82-.59 0-.294-.01-1.262-.016-2.289-3.338.744-4.043-1.45-4.043-1.45-.546-1.42-1.332-1.797-1.332-1.797-1.089-.763.082-.747.082-.747 1.205.086 1.84 1.266 1.84 1.266 1.07 1.878 2.807 1.335 3.491 1.021.108-.794.42-1.336.762-1.643-2.665-.31-5.467-1.364-5.467-6.073 0-1.341.469-2.437 1.236-3.298-.124-.31-.535-1.56.117-3.252 0 0 1.007-.33 3.3 1.26A11.25 11.25 0 0 1 12 5.942c1.02.005 2.047.141 3.006.414 2.29-1.59 3.297-1.26 3.297-1.26.653 1.693.242 2.943.118 3.252.77.86 1.235 1.957 1.235 3.298 0 4.72-2.808 5.76-5.48 6.063.43.382.814 1.13.814 2.276 0 1.644-.014 2.967-.014 3.372 0 .327.216.71.825.59C20.566 22.32 24 17.715 24 12.288 24 5.501 18.627 0 12 0Z"})}),E=h},80994:(A,M,a)=>{a.d(M,{Q:()=>D});var e=a(85893),h=a(67294),E=a(1565),i=a(92577),k=a(21817),C=a(63507),T=a(11047),x=a(75515);const f=(0,E.ZP)(k.G)`
  text-decoration: none;

  &[aria-disabled='true'] {
    ${i.sg}
    &:active {
      ${i.sg}
    }
  }

  &:hover {
    ${i.yP}
  }

  &:active {
    ${i.tB}
  }

  ${i.PD}
`,D=h.forwardRef(({variant:P="default",startIcon:F,endIcon:I,disabled:U=!1,children:t,size:$="S",as:V=C.f,...S},J)=>{const W=$==="S"?2:"10px",j=4;return(0,e.jsxs)(f,{ref:J,"aria-disabled":U,size:$,variant:P,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:W,paddingLeft:j,paddingRight:j,paddingTop:W,pointerEvents:U?"none":void 0,...S,as:V||C.f,children:[F&&(0,e.jsx)(T.k,{"aria-hidden":!0,children:F}),(0,e.jsx)(x.Z,{variant:$==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:t}),I&&(0,e.jsx)(T.k,{"aria-hidden":!0,children:I})]})});D.displayName="LinkButton"}}]);
