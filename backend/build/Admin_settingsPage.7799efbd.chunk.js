(self.webpackChunklab_nckh=self.webpackChunklab_nckh||[]).push([[5895],{62053:(D,v,t)=>{"use strict";t.r(v),t.d(v,{SettingsPage:()=>At,default:()=>Ze});var e=t(67294),i=t(79946),p=t(16550),M=t(45349),r=t(86896),y=t(64593),f=t(48474),R=t(19631),P=t(15861),C=t(64687),O=t.n(C),A=t(88767),L=t(57713),I=t(79371),E=t(19442),U=t(26789),g=t(75878),h=t(77270),B=t(9370),j=t(61585),K=t(51503),G=t(8675),$=t(91393),q=t(87751),ot=t(45697),s=t.n(ot),z=t(50781);const H=750,J=100,Y=["image/jpeg","image/png","image/svg+xml"];var _=t(71801),at=t(58488),et=t(37527),st=t(21345),it=t(12978),V=t(61378),jt=t(60881),zt=t(18189),lt=t(18172);const xt={localImage:void 0},Ft=(o=xt,n)=>(0,lt.ZP)(o,a=>{switch(n.type){case"SET_LOCAL_IMAGE":{a.localImage=n.value;break}default:return a}}),rt=({onChangeLogo:o,customLogo:n,goTo:a,Component:l,modalTitle:d,next:S,prev:u,currentStep:x})=>{const[{localImage:m},c]=(0,e.useReducer)(Ft,xt),{formatMessage:F}=(0,r.Z)(),T=W=>{c({type:"SET_LOCAL_IMAGE",value:W})},Z=()=>{a(null)};return x?e.createElement(jt.P,{labelledBy:"modal",onClose:Z},e.createElement(zt.x,null,e.createElement(h.Z,{fontWeight:"bold",as:"h2",id:"modal"},F(d))),e.createElement(l,{setLocalImage:T,goTo:a,next:S,prev:u,onClose:Z,asset:m||n,onChangeLogo:o})):null};rt.defaultProps={Component:void 0,currentStep:void 0,customLogo:void 0,modalTitle:void 0,next:null,prev:null},rt.propTypes={Component:s().elementType,currentStep:s().string,customLogo:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}),goTo:s().func.isRequired,modalTitle:s().shape({id:s().string,defaultMessage:s().string}),next:s().string,onChangeLogo:s().func.isRequired,prev:s().string};const Zt=rt,Lt={currentStep:void 0},Wt=(o=Lt,n)=>(0,lt.ZP)(o,a=>{switch(n.type){case"GO_TO":{a.currentStep=n.to;break}default:return a}});var Kt=t(20107),dt=t(61738),$t=t(81984),ct=t(54375),Nt=t(1565),Gt=t(65093),Ht=t(32156),Vt=t(80907),Xt=t(8595),ut=t(45124),Qt=t(38828);const Jt={id:"Settings.application.customization.modal.upload.error-format",defaultMessage:"Wrong format uploaded (accepted formats only: jpeg, jpg, png, svg)."},yt={id:"Settings.application.customization.modal.upload.error-size",defaultMessage:"The file uploaded is too large (max dimension: {dimension}x{dimension}, max file size: {size}KB)"},Yt=o=>new Promise(n=>{const a=new FileReader;a.onload=()=>{const l=new Image;l.onload=function(){n({width:l.width,height:l.height})},l.src=a.result},a.readAsDataURL(o)}),bt=(o,n)=>({ext:o.name.split(".").pop(),size:o.size/1e3,name:o.name,url:URL.createObjectURL(o),rawFile:o,width:n.width,height:n.height}),St=async o=>{let n;if(!Y.includes(o.type))throw n=new Error("File format"),n.displayMessage=Jt,n;const l=await Yt(o);if(!(l.width<=H&&l.height<=H))throw n=new Error("File sizing"),n.displayMessage=yt,n;const S=bt(o,l);if(!(S.size<=J))throw n=new Error("File sizing"),n.displayMessage=yt,n;return S},wt=(0,Nt.default)(Gt._)`
  opacity: 0;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,mt=({setLocalImage:o,goTo:n,next:a,onClose:l})=>{const{formatMessage:d}=(0,r.Z)(),[S,u]=(0,e.useState)(!1),[x,m]=(0,e.useState)(void 0),c=(0,e.useRef)(null),F=()=>u(!0),T=()=>u(!1),Z=X=>{X.preventDefault(),c.current.click()},W=async()=>{T();const X=c.current.files[0];if(X)try{const Q=await St(X);o(Q),n(a)}catch(Q){if(Q.displayMessage)m(d(Q.displayMessage,{size:J,dimension:H})),c.current.focus();else throw Q}},N=()=>S?"primary500":x?"danger600":"neutral300";return e.createElement(e.Fragment,null,e.createElement("form",null,e.createElement(z.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(Ht.g,{name:"logo-upload",error:x},e.createElement("label",{htmlFor:"logo-upload"},e.createElement(g.k,{direction:"column",alignItems:"stretch",gap:2},e.createElement(g.k,{paddingTop:9,paddingBottom:7,hasRadius:!0,justifyContent:"center",direction:"column",background:S?"primary100":"neutral100",borderColor:N(),borderStyle:"dashed",borderWidth:"1px",position:"relative",onDragEnter:F,onDragLeave:T},e.createElement(Vt.J,{color:"primary600",width:`${60/16}rem`,height:`${60/16}rem`,as:Qt.Z,"aria-hidden":!0}),e.createElement(z.x,{paddingTop:3,paddingBottom:5},e.createElement(h.Z,{variant:"delta",as:"span"},d({id:"Settings.application.customization.modal.upload.drag-drop",defaultMessage:"Drag and Drop here or"}))),e.createElement(wt,{accept:Y,cursor:"pointer",as:"input",type:"file",name:"files",tabIndex:-1,zIndex:1,onChange:W,ref:c,id:"logo-upload"}),e.createElement(E.z,{type:"button",onClick:Z},d({id:"Settings.application.customization.modal.upload.cta.browse",defaultMessage:"Browse files"})),e.createElement(z.x,{paddingTop:6},e.createElement(h.Z,{variant:"pi",textColor:"neutral600"},d({id:"Settings.application.customization.modal.upload.file-validation",defaultMessage:"Max dimension: {dimension}x{dimension}, Max size: {size}KB"},{size:J,dimension:H})))),e.createElement(Xt.c,null)))))),e.createElement(ut.m,{startActions:e.createElement(E.z,{onClick:l,variant:"tertiary"},d({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"}))}))};mt.defaultProps={next:null},mt.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};const kt=mt;var qt=t(28469);const _t=async o=>{try{const{get:n}=(0,i.getFetchClient)(),a=await n(o,{responseType:"blob",timeout:8e3});return new File([a.data],a.config.url,{type:a.headers["content-type"]})}catch(n){throw n.displayMessage={id:"Settings.application.customization.modal.upload.error-network",defaultMessage:"Network error"},n}},gt=({goTo:o,next:n,onClose:a,setLocalImage:l})=>{const{formatMessage:d}=(0,r.Z)(),[S,u]=(0,e.useState)(""),[x,m]=(0,e.useState)(null),c=T=>{u(T.target.value)},F=async()=>{try{const T=await _t(S),Z=await St(T);l(Z),o(n)}catch(T){if(T.displayMessage)m(d(T.displayMessage,{size:J,dimension:H}));else throw T}};return e.createElement("form",{onSubmit:T=>{T.preventDefault(),F()}},e.createElement(z.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(qt.o,{label:d({id:"Settings.application.customization.modal.upload.from-url.input-label",defaultMessage:"URL"}),error:x,onChange:c,value:S,name:"logo-url"})),e.createElement(ut.m,{startActions:e.createElement(E.z,{onClick:a,variant:"tertiary"},d({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(E.z,{type:"submit"},d({id:"Settings.application.customization.modal.upload.next",defaultMessage:"Next"}))}))};gt.defaultProps={next:null},gt.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};const te=gt,pt=({setLocalImage:o,goTo:n,next:a,onClose:l})=>{const{formatMessage:d}=(0,r.Z)();return e.createElement(Kt.v,{label:d({id:"Settings.application.customization.modal.tab.label",defaultMessage:"How do you want to upload your assets?"}),variant:"simple"},e.createElement(z.x,{paddingLeft:8,paddingRight:8},e.createElement(dt.m,null,e.createElement(dt.O,null,d({id:"Settings.application.customization.modal.upload.from-computer",defaultMessage:"From computer"})),e.createElement(dt.O,null,d({id:"Settings.application.customization.modal.upload.from-url",defaultMessage:"From url"}))),e.createElement($t.i,null)),e.createElement(ct.n,null,e.createElement(ct.x,null,e.createElement(kt,{onClose:l,setLocalImage:o,goTo:n,next:a})),e.createElement(ct.x,null,e.createElement(te,{onClose:l,setLocalImage:o,goTo:n,next:a}))))};pt.defaultProps={next:null},pt.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};const ee=pt;var ne=t(46038),oe=t(5390),ae=t(11255),se=t(71029),ie=t(91457),Rt=t(81896),le=t(50192);const Tt=({asset:o})=>{const{formatMessage:n}=(0,r.Z)();return e.createElement(ne.Z,null,e.createElement(oe.O,null,e.createElement(ae.H,{size:"S",src:o.url})),e.createElement(se.e,null,e.createElement(ie.a,null,e.createElement(Rt.l,null,o.name),e.createElement(Rt._,null,`${o.ext.toUpperCase()} - ${o.width}\u2715${o.height}`)),e.createElement(le.E,null,n({id:"Settings.application.customization.modal.pending.card-badge",defaultMessage:"image"}))))};Tt.propTypes={asset:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}).isRequired};const re=Tt,ht=({onClose:o,asset:n,prev:a,next:l,goTo:d,setLocalImage:S,onChangeLogo:u})=>{const{formatMessage:x}=(0,r.Z)(),m=()=>{S(void 0),d(a)},c=()=>{u(n),d(l)};return e.createElement(e.Fragment,null,e.createElement(z.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(g.k,{justifyContent:"space-between",paddingBottom:6},e.createElement(g.k,{direction:"column",alignItems:"flex-start"},e.createElement(h.Z,{variant:"pi",fontWeight:"bold"},x({id:"Settings.application.customization.modal.pending.title",defaultMessage:"Logo ready to upload"})),e.createElement(h.Z,{variant:"pi",textColor:"neutral500"},x({id:"Settings.application.customization.modal.pending.subtitle",defaultMessage:"Manage the chosen logo before uploading it"}))),e.createElement(E.z,{onClick:m,variant:"secondary"},x({id:"Settings.application.customization.modal.pending.choose-another",defaultMessage:"Choose another logo"}))),e.createElement(z.x,{maxWidth:(0,i.pxToRem)(180)},n.url?e.createElement(re,{asset:n}):null)),e.createElement(ut.m,{startActions:e.createElement(E.z,{onClick:o,variant:"tertiary"},x({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(E.z,{onClick:c},x({id:"Settings.application.customization.modal.pending.upload",defaultMessage:"Upload logo"}))}))};ht.defaultProps={next:null,prev:null},ht.propTypes={goTo:s().func.isRequired,asset:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}).isRequired,next:s().string,onClose:s().func.isRequired,onChangeLogo:s().func.isRequired,prev:s().string,setLocalImage:s().func.isRequired};const de={upload:{Component:ee,modalTitle:{id:"Settings.application.customization.modal.upload",defaultMessage:"Upload logo"},next:"pending",prev:null},pending:{Component:ht,modalTitle:{id:"Settings.application.customization.modal.pending",defaultMessage:"Pending logo"},next:null,prev:"upload"}},Et=({canUpdate:o,customLogo:n,defaultLogo:a,hint:l,label:d,onChangeLogo:S,onResetLogo:u})=>{const[{currentStep:x},m]=(0,e.useReducer)(Wt,Lt),{Component:c,next:F,prev:T,modalTitle:Z}=de[x]||{},{formatMessage:W}=(0,r.Z)(),N=X=>{m({type:"GO_TO",to:X})};return e.createElement(e.Fragment,null,e.createElement(_.F,{label:d,selectedSlide:0,hint:l,previousLabel:"",nextLabel:"",onNext:()=>{},onPrevious:()=>{},secondaryLabel:n?.name||"logo.png",actions:e.createElement(at.b,null,e.createElement(et.h,{disabled:!o,onClick:()=>N(n?"pending":"upload"),label:W({id:"Settings.application.customization.carousel.change-action",defaultMessage:"Change logo"}),icon:e.createElement(it.Z,null)}),n&&e.createElement(et.h,{disabled:!o,onClick:u,label:W({id:"Settings.application.customization.carousel.reset-action",defaultMessage:"Reset logo"}),icon:e.createElement(V.Z,null)}))},e.createElement(st.q,{label:W({id:"Settings.application.customization.carousel-slide.label",defaultMessage:"Logo slide"})},e.createElement(z.x,{maxHeight:"40%",maxWidth:"40%",as:"img",src:n?.url||a,alt:W({id:"Settings.application.customization.carousel.title",defaultMessage:"Logo"})}))),e.createElement(Zt,{Component:c,currentStep:x,onChangeLogo:S,customLogo:n,goTo:N,next:F,prev:T,modalTitle:Z}))};Et.defaultProps={canUpdate:!1,customLogo:null,hint:null},Et.propTypes={canUpdate:s().bool,customLogo:s().shape({url:s().string,name:s().string}),label:s().string.isRequired,hint:s().string,defaultLogo:s().string.isRequired,onChangeLogo:s().func.isRequired,onResetLogo:s().func.isRequired};const Ot=Et,ft={menuLogo:{display:null,submit:{rawFile:null,isReset:!1}},authLogo:{display:null,submit:{rawFile:null,isReset:!1}}},ce=(o=ft,n)=>(0,lt.ZP)(o,a=>{switch(n.type){case"SET_CUSTOM_MENU_LOGO":{a.menuLogo.display=n.value,a.menuLogo.submit.rawFile=n.value.rawFile;break}case"SET_CUSTOM_AUTH_LOGO":{a.authLogo.display=n.value,a.authLogo.submit.rawFile=n.value.rawFile;break}case"RESET_CUSTOM_MENU_LOGO":{a.menuLogo.display=null,a.menuLogo.submit={rawFile:null,isReset:!0};break}case"RESET_CUSTOM_AUTH_LOGO":{a.authLogo.display=null,a.authLogo.submit={rawFile:null,isReset:!0};break}default:return a}});var ue=t(82492),me=t.n(ue);const ge=(o,n)=>me()(o,{menuLogo:{display:n.menuLogo},authLogo:{display:n.authLogo}}),vt=(0,e.forwardRef)(({canUpdate:o,projectSettingsStored:n},a)=>{const{formatMessage:l}=(0,r.Z)(),{trackUsage:d}=(0,i.useTracking)(),{logos:{menu:S,auth:u}}=(0,f.um)(),[{menuLogo:x,authLogo:m},c]=(0,e.useReducer)(ce,ft,()=>ge(ft,n)),F=N=>{c({type:"SET_CUSTOM_MENU_LOGO",value:N})},T=()=>{d("didClickResetLogo",{logo:"menu"}),c({type:"RESET_CUSTOM_MENU_LOGO"})},Z=N=>{c({type:"SET_CUSTOM_AUTH_LOGO",value:N})},W=()=>{d("didClickResetLogo",{logo:"auth"}),c({type:"RESET_CUSTOM_AUTH_LOGO"})};return(0,e.useImperativeHandle)(a,()=>({getValues:()=>({menuLogo:x.submit,authLogo:m.submit})})),e.createElement(z.x,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(h.Z,{variant:"delta",as:"h3"},l({id:"Settings.application.customization",defaultMessage:"Customization"})),e.createElement(h.Z,{variant:"pi",textColor:"neutral600"},l({id:"Settings.application.customization.size-details",defaultMessage:"Max dimension: {dimension}\xD7{dimension}, Max file size: {size}KB"},{dimension:H,size:J})),e.createElement(B.r,{paddingTop:4,gap:4},e.createElement(j.P,{col:6,s:12},e.createElement(Ot,{canUpdate:o,customLogo:x.display,defaultLogo:S.default,hint:l({id:"Settings.application.customization.menu-logo.carousel-hint",defaultMessage:"Replace the logo in the main navigation"}),label:l({id:"Settings.application.customization.carousel.menu-logo.title",defaultMessage:"Menu logo"}),onChangeLogo:F,onResetLogo:T})),e.createElement(j.P,{col:6,s:12},e.createElement(Ot,{canUpdate:o,customLogo:m.display,defaultLogo:u.default,hint:l({id:"Settings.application.customization.auth-logo.carousel-hint",defaultMessage:"Replace the logo in the authentication pages"}),label:l({id:"Settings.application.customization.carousel.auth-logo.title",defaultMessage:"Auth logo"}),onChangeLogo:Z,onResetLogo:W}))))});vt.defaultProps={canUpdate:!1,projectSettingsStored:null},vt.propTypes={canUpdate:s().bool,projectSettingsStored:s().shape({menuLogo:s().shape({url:s().string,name:s().string})})};const pe=vt;var he=t(68718),Ee=t.n(he);const Pt=o=>Ee()(o,(n,a,l)=>{a&&a.url?n[l]={...a,url:(0,i.prefixFileUrlWithBackendUrl)(a.url)}:n[l]=a},{}),fe=async()=>{const{get:o}=(0,i.getFetchClient)(),{data:n}=await o("/admin/project-settings");return Pt(n)},ve=async o=>{const{post:n}=(0,i.getFetchClient)(),{data:a}=await n("/admin/project-settings",o,{headers:{"Content-Type":"multipart/form-data"}});return Pt(a)},Me=o=>{const n=new FormData;return Object.entries(o).forEach(([a,l])=>{l&&l.rawFile instanceof File&&n.append(a,l.rawFile),l&&l.isReset&&n.append(a,null)}),n};var Ce=function(){return window&&window.strapi&&window.strapi.isEE?t(78413).Z:t(69767).Z}(),xe=function(){var n=(0,e.useRef)(),a=(0,i.useNotification)(),l=(0,i.useTracking)(),d=l.trackUsage,S=(0,r.Z)(),u=S.formatMessage,x=(0,A.useQueryClient)();(0,i.useFocusWhenNavigate)();var m=(0,i.useAppInfo)(),c=m.latestStrapiReleaseTag,F=m.shouldUpdateStrapi,T=m.strapiVersion,Z=(0,f.um)(),W=Z.updateProjectSettings,N=(0,i.useRBAC)(q.Z.settings["project-settings"]),X=N.allowedActions,Q=X.canRead,Mt=X.canUpdate,We=Q&&Mt,Ke=(0,A.useQuery)("project-settings",fe,{enabled:Q}),Ut=Ke.data,$e=(0,A.useMutation)(function(Ct){return ve(Ct)},{onSuccess:function(nt){return(0,P.Z)(O().mark(function tt(){var b,w;return O().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return b=nt.menuLogo,w=nt.authLogo,k.next=3,x.invalidateQueries("project-settings",{refetchActive:!0});case 3:W({menuLogo:b?.url,authLogo:w?.url});case 4:case"end":return k.stop()}},tt)}))()}}),Ne=function(nt){if(nt.preventDefault(),!!Mt){var tt=n.current.getValues(),b=Me(tt);$e.mutate(b,{onSuccess:function(){var Bt=tt.menuLogo,k=tt.authLogo;Bt.rawFile&&d("didChangeLogo",{logo:"menu"}),k.rawFile&&d("didChangeLogo",{logo:"auth"}),a({type:"success",message:u({id:"app",defaultMessage:"Saved"})})},onError:function(){a({type:"warning",message:{id:"notification.error",defaultMessage:"An error occurred"}})}})}};return e.createElement(M.A,null,e.createElement(i.SettingsPageTitle,{name:"Application"}),e.createElement(L.o,null,e.createElement("form",{onSubmit:Ne},e.createElement(I.T,{title:u({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:u({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"}),primaryAction:We&&e.createElement(E.z,{type:"submit",startIcon:e.createElement(G.Z,null)},u({id:"global.save",defaultMessage:"Save"}))}),e.createElement(U.D,null,e.createElement(g.k,{direction:"column",alignItems:"stretch",gap:6},e.createElement(g.k,{direction:"column",alignItems:"stretch",gap:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(h.Z,{variant:"delta",as:"h3"},u({id:"global.details",defaultMessage:"Details"})),e.createElement(B.r,{gap:5,as:"dl"},e.createElement(j.P,{col:6,s:12},e.createElement(h.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},u({id:"Settings.application.strapiVersion",defaultMessage:"strapi version"})),e.createElement(g.k,{gap:3,direction:"column",alignItems:"start",as:"dd"},e.createElement(h.Z,null,"v",T),F&&e.createElement(K.r,{href:"https://github.com/strapi/strapi/releases/tag/".concat(c),isExternal:!0,endIcon:e.createElement($.Z,null)},u({id:"Settings.application.link-upgrade",defaultMessage:"Upgrade your admin panel"})))),e.createElement(j.P,{col:6,s:12},e.createElement(h.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},u({id:"Settings.application.edition-title",defaultMessage:"current plan"})),e.createElement(g.k,{gap:3,direction:"column",alignItems:"start",as:"dd"},e.createElement(h.Z,null,u({id:"Settings.application.ee-or-ce",defaultMessage:"{communityEdition, select, true {Community Edition} other {Enterprise Edition}}"},{communityEdition:m.communityEdition})),e.createElement(K.r,{href:"https://strapi.io/pricing-self-hosted",isExternal:!0,endIcon:e.createElement($.Z,null)},u({id:"Settings.application.link-pricing",defaultMessage:"See all pricing plans"})))),e.createElement(j.P,{col:6,s:12},e.createElement(h.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},u({id:"Settings.application.node-version",defaultMessage:"node version"})),e.createElement(h.Z,{as:"dd"},m.nodeVersion)),e.createElement(Ce,null))),Q&&Ut&&e.createElement(pe,{canUpdate:Mt,ref:n,projectSettingsStored:Ut}))))))};const Le=xe;var ye=t(94654),Se=t.n(ye);const Re=o=>Se()(o,a=>a.links).map(a=>(0,R.ot)(a.Component,a.to,a.exact||!1)),Te=o=>o.filter(n=>!n.links.every(a=>a.isDisplayed===!1));var It=t(42982);const Oe=[{async Component(){return await t.e(3455).then(t.bind(t,98906))},to:"/settings/roles",exact:!0},{async Component(){return await t.e(2544).then(t.bind(t,23341))},to:"/settings/roles/duplicate/:id",exact:!0},{async Component(){return await t.e(2544).then(t.bind(t,23341))},to:"/settings/roles/new",exact:!0},{async Component(){return await t.e(2544).then(t.bind(t,92100))},to:"/settings/roles/:id",exact:!0},{async Component(){return await t.e(5199).then(t.bind(t,37735))},to:"/settings/users",exact:!0},{async Component(){return await t.e(4263).then(t.bind(t,22282))},to:"/settings/users/:id",exact:!0},{async Component(){return await t.e(5162).then(t.bind(t,3672))},to:"/settings/webhooks/create",exact:!0},{async Component(){return await t.e(5162).then(t.bind(t,42122))},to:"/settings/webhooks/:id",exact:!0},{async Component(){return await t.e(4121).then(t.bind(t,62872))},to:"/settings/webhooks",exact:!0},{async Component(){return await t.e(8056).then(t.bind(t,87427))},to:"/settings/api-tokens",exact:!0},{async Component(){return await Promise.all([t.e(1991),t.e(7692),t.e(4299)]).then(t.bind(t,9683))},to:"/settings/api-tokens/create",exact:!0},{async Component(){return await Promise.all([t.e(1991),t.e(7692),t.e(92)]).then(t.bind(t,28465))},to:"/settings/api-tokens/:id",exact:!0},{async Component(){return await Promise.all([t.e(1991),t.e(3219),t.e(4816)]).then(t.bind(t,39987))},to:"/settings/transfer-tokens/create",exact:!0},{async Component(){return await t.e(9600).then(t.bind(t,70798))},to:"/settings/transfer-tokens",exact:!0},{async Component(){return await Promise.all([t.e(1991),t.e(3219),t.e(2492)]).then(t.bind(t,9452))},to:"/settings/transfer-tokens/:id",exact:!0}];var Pe=function(){return window&&window.strapi&&window.strapi.isEE?t(5420).Z:t(35301).Z}();const Ie=[].concat((0,It.Z)(Pe),(0,It.Z)(Oe));var De=t(73727),Ae=t(53192),Ue=t(60984),Be=t(34446),je=t(29489),ze=t(52305);const Dt=({menu:o})=>{const{formatMessage:n}=(0,r.Z)(),{trackUsage:a}=(0,i.useTracking)(),{pathname:l}=(0,p.TH)(),S=Te(o).map(m=>({...m,title:m.intlLabel,links:m.links.map(c=>({...c,title:c.intlLabel,name:c.id}))})),u=n({id:"global.settings",defaultMessage:"Settings"}),x=(m=null)=>{a("willNavigate",{from:l,to:m})};return e.createElement(Ae.m,{ariaLabel:u},e.createElement(Ue.p,{label:u}),e.createElement(Be.Z,null,S.map(m=>e.createElement(je.D,{key:m.id,label:n(m.intlLabel)},m.links.map(c=>e.createElement(ze.E,{as:De.NavLink,withBullet:c.hasNotification,to:c.to,onClick:()=>x(c.to),key:c.id},n(c.intlLabel)))))))};Dt.propTypes={menu:s().array.isRequired};const Fe=Dt;function At(){const{settingId:o}=(0,p.UO)(),{settings:n}=(0,i.useStrapiApp)(),{formatMessage:a}=(0,r.Z)(),{isLoading:l,menu:d}=(0,f.Te)(),S=(0,e.useMemo)(()=>(0,R.WW)(Ie.map(({to:m,Component:c,exact:F})=>(0,R.ot)(c,m,F))),[]),u=Re(n);if(l)return e.createElement(i.LoadingIndicatorPage,null);if(!o)return e.createElement(p.l_,{to:"/settings/application-infos"});const x=a({id:"global.settings",defaultMessage:"Settings"});return e.createElement(M.A,{sideNav:e.createElement(Fe,{menu:d})},e.createElement(y.q,{title:x}),e.createElement(p.rs,null,e.createElement(p.AW,{path:"/settings/application-infos",component:Le,exact:!0}),S,u))}const Ze=(0,e.memo)(At)},69767:(D,v,t)=>{"use strict";t.d(v,{Z:()=>i});const i=()=>null},35301:(D,v,t)=>{"use strict";t.d(v,{Z:()=>i});const i=[]},78413:(D,v,t)=>{"use strict";t.d(v,{Z:()=>U});var e=t(67294),i=t(86896),p=t(61585),M=t(77270),r=t(75878),y=t(74273),f=t(80907),R=t(36182),P=t(91330),C=t(91393),O=t(79946),A=t(69483);const L="https://cloud.strapi.io/profile/billing",I="https://strapi.io/billing/request-seats",U=()=>{const{formatMessage:g}=(0,i.Z)(),{license:h}=(0,A.q5)(),{licenseLimitStatus:B,enforcementUserCount:j,permittedSeats:K,isHostedOnStrapiCloud:G}=h?.data??{};return K?e.createElement(p.P,{col:6,s:12},e.createElement(M.Z,{variant:"sigma",textColor:"neutral600"},g({id:"Settings.application.admin-seats",defaultMessage:"Admin seats"})),e.createElement(r.k,{gap:2},e.createElement(r.k,null,e.createElement(M.Z,{as:"p"},g({id:"Settings.application.ee.admin-seats.count",defaultMessage:"<text>{enforcementUserCount}</text>/{permittedSeats}"},{permittedSeats:K,enforcementUserCount:j,text:$=>e.createElement(M.Z,{fontWeight:"semiBold",textColor:j>K?"danger500":null},$)}))),B==="OVER_LIMIT"&&e.createElement(y.u,{description:g({id:"Settings.application.ee.admin-seats.at-limit-tooltip",defaultMessage:"At limit: add seats to invite more users"})},e.createElement(f.J,{width:`${(0,O.pxToRem)(14)}rem`,height:`${(0,O.pxToRem)(14)}rem`,color:"danger500",as:P.Z}))),e.createElement(R.r,{href:G?L:I,isExternal:!0,endIcon:e.createElement(C.Z,null)},g({id:"Settings.application.ee.admin-seats.add-seats",defaultMessage:"{isHostedOnStrapiCloud, select, true {Add seats} other {Contact sales}}"},{isHostedOnStrapiCloud:G}))):null}},5420:(D,v,t)=>{"use strict";t.d(v,{Z:()=>i});const e=[];window.strapi.features.isEnabled(window.strapi.features.SSO)&&e.push({async Component(){return await t.e(302).then(t.bind(t,40316))},to:"/settings/single-sign-on",exact:!0}),window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS)&&e.push({async Component(){return await Promise.all([t.e(7027),t.e(8155)]).then(t.bind(t,97259))},to:"/settings/review-workflows",exact:!0}),window.strapi.features.isEnabled(window.strapi.features.AUDIT_LOGS)&&e.push({async Component(){return await t.e(2812).then(t.bind(t,35915))},to:"/settings/audit-logs",exact:!0});const i=e},94654:(D,v,t)=>{var e=t(21078),i=t(35161);function p(M,r){return e(i(M,r),1)}D.exports=p},35161:(D,v,t)=>{var e=t(29932),i=t(67206),p=t(69199),M=t(1469);function r(y,f){var R=M(y)?e:p;return R(y,i(f,3))}D.exports=r},36182:(D,v,t)=>{"use strict";t.d(v,{r:()=>P});var e=t(85893),i=t(67294),p=t(91393),M=t(1565),r=t(15585),y=t(63507),f=t(75515);const R=(0,M.default)(y.f)`
  display: inline-flex;
  align-items: center;
  text-decoration: none;
  gap: ${({theme:C})=>C.spaces[2]};
  pointer-events: ${({disabled:C})=>C?"none":void 0};

  svg {
    font-size: ${10/16}rem;

    path {
      fill: ${({disabled:C,theme:O})=>C?O.colors.neutral600:O.colors.primary600};
    }
  }

  &:hover {
    color: ${({theme:C})=>C.colors.primary500};
  }

  &:active {
    color: ${({theme:C})=>C.colors.primary700};
  }

  ${r.BF};
`,P=i.forwardRef(({children:C,href:O,disabled:A=!1,startIcon:L,endIcon:I,isExternal:E=!0,...U},g)=>(0,e.jsxs)(R,{ref:g,href:O,disabled:A,isExternal:E,...U,children:[L,(0,e.jsx)(f.Z,{textColor:A?"neutral600":"primary600",children:C}),I,O&&!I&&E&&(0,e.jsx)(p.Z,{})]}));P.displayName="Link"},53192:(D,v,t)=>{"use strict";t.d(v,{m:()=>y});var e=t(85893),i=t(1565),p=t(11276);const M=`${232/16}rem`,r=(0,i.default)(p.r)`
  width: ${M};
  background: ${({theme:f})=>f.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:f})=>f.colors.neutral200};
  z-index: 1;
`,y=({ariaLabel:f,...R})=>(0,e.jsx)(r,{"aria-label":f,as:"nav",...R})},60984:(D,v,t)=>{"use strict";t.d(v,{p:()=>U});var e=t(85893),i=t(67294),p=t(34759),M=t(1565),r=t(7801),y=t(2504);const f=g=>{const h=(0,i.useRef)();return(0,i.useEffect)(()=>{h.current=g}),h.current};var R=t(70004),P=t(41580),C=t(8509),O=t(49123),A=t(11047),L=t(75515),I=t(12028);const E=(0,M.default)(R.i)`
  width: ${24/16}rem;
  background-color: ${({theme:g})=>g.colors.neutral200};
`,U=({as:g="h2",label:h,searchLabel:B="",searchable:j=!1,onChange:K=()=>{},value:G="",onClear:$=()=>{},onSubmit:q=()=>{},id:ot})=>{const[s,z]=(0,i.useState)(!1),H=f(s),J=(0,y.M)(ot),Y=(0,i.useRef)(void 0),_=(0,i.useRef)(void 0);(0,i.useEffect)(()=>{s&&Y.current&&Y.current.focus(),H&&!s&&_.current&&_.current.focus()},[s,H]);const at=()=>{z(V=>!V)},et=V=>{$(V),Y.current.focus()},st=V=>{V.relatedTarget?.id!==J&&z(!1)},it=V=>{V.key===r.y.ESCAPE&&z(!1)};return s?(0,e.jsxs)(P.x,{paddingLeft:4,paddingTop:5,paddingBottom:2,paddingRight:4,children:[(0,e.jsx)(C.U,{children:(0,e.jsx)(O.w,{name:"searchbar",value:G,onChange:K,placeholder:"e.g: strapi-plugin-abcd",onKeyDown:it,ref:Y,onBlur:st,onClear:et,onSubmit:q,clearLabel:"Clear",size:"S",children:B})}),(0,e.jsx)(P.x,{paddingLeft:2,paddingTop:4,children:(0,e.jsx)(E,{})})]}):(0,e.jsxs)(P.x,{paddingLeft:6,paddingTop:6,paddingBottom:2,paddingRight:4,children:[(0,e.jsxs)(A.k,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,e.jsx)(L.Z,{variant:"beta",as:g,children:h}),j&&(0,e.jsx)(I.h,{ref:_,onClick:at,label:B,icon:(0,e.jsx)(p.Z,{})})]}),(0,e.jsx)(P.x,{paddingTop:4,children:(0,e.jsx)(E,{})})]})}},52305:(D,v,t)=>{"use strict";t.d(v,{E:()=>A});var e=t(85893),i=t(67294),p=t(22534),M=t(1565),r=t(41580),y=t(75515),f=t(11047),R=t(63507);const P=(0,M.default)(r.x)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:L})=>L.colors.neutral800};
  svg > * {
    fill: ${({theme:L})=>L.colors.neutral600};
  }

  &.active {
    ${({theme:L})=>`
      background-color: ${L.colors.primary100};
      border-right: 2px solid ${L.colors.primary600};
      svg > * {
        fill: ${L.colors.primary700};
      }
      ${y.Z} {
        color: ${L.colors.primary700};
        font-weight: 500;
      }
      `}
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,C=(0,M.default)(p.Z)`
  width: ${12/16}rem;
  height: ${4/16}rem;
  * {
    fill: ${({theme:L,$active:I})=>I?L.colors.primary600:L.colors.neutral600};
  }
`,O=M.default.div`
  svg {
    height: ${12/16}rem;
    width: ${12/16}rem;
  }
`,A=i.forwardRef(({children:L,icon:I=null,withBullet:E=!1,as:U=R.f,isSubSectionChild:g=!1,...h},B)=>(0,e.jsxs)(P,{as:U,icon:I,background:"neutral100",paddingLeft:g?9:7,paddingBottom:2,paddingTop:2,ref:B,...h,children:[(0,e.jsxs)(f.k,{children:[I?(0,e.jsx)(O,{children:I}):(0,e.jsx)(C,{}),(0,e.jsx)(r.x,{paddingLeft:2,children:(0,e.jsx)(y.Z,{as:"span",children:L})})]}),E&&(0,e.jsx)(r.x,{as:f.k,paddingRight:4,children:(0,e.jsx)(C,{$active:!0})})]}))},29489:(D,v,t)=>{"use strict";t.d(v,{D:()=>I});var e=t(85893),i=t(67294),p=t(1565),M=t(21514),r=t(11047),y=t(41580),f=t(75515);const R=(0,p.default)(r.k)`
  border: none;
  padding: 0;
  background: transparent;
`,P=p.default.div`
  display: flex;
  align-items: center;
  transform: rotateX(${({rotated:E})=>E?"0deg":"180deg"});
`,C=({collapsable:E=!1,label:U,onClick:g=()=>{},ariaExpanded:h,ariaControls:B})=>E?(0,e.jsxs)(R,{as:"button",onClick:g,"aria-expanded":h,"aria-controls":B,textAlign:"left",children:[(0,e.jsx)(y.x,{paddingRight:1,children:(0,e.jsx)(f.Z,{variant:"sigma",textColor:"neutral600",children:U})}),E&&(0,e.jsx)(P,{rotated:h,children:(0,e.jsx)(M.Z,{"aria-hidden":!0})})]}):(0,e.jsx)(R,{children:(0,e.jsx)(y.x,{paddingRight:1,children:(0,e.jsx)(f.Z,{variant:"sigma",textColor:"neutral600",children:U})})});var O=t(2504),A=t(30190);const L=(0,p.default)(y.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:E})=>E.colors.neutral500};
    }
  }
`,I=({collapsable:E=!1,label:U,badgeLabel:g,children:h,id:B})=>{const[j,K]=(0,i.useState)(!0),G=(0,O.M)(B);return(0,e.jsxs)(r.k,{direction:"column",alignItems:"stretch",gap:1,children:[(0,e.jsx)(L,{paddingLeft:6,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,e.jsxs)(y.x,{position:"relative",paddingRight:g?6:0,children:[(0,e.jsx)(C,{onClick:()=>{K($=>!$)},ariaExpanded:j,ariaControls:G,collapsable:E,label:U}),g&&(0,e.jsx)(A.C,{backgroundColor:"neutral150",textColor:"neutral600",position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",children:g})]})}),(!E||j)&&(0,e.jsx)("ol",{id:G,children:i.Children.map(h,($,q)=>(0,e.jsx)("li",{children:$},q))})]})}},34446:(D,v,t)=>{"use strict";t.d(v,{Z:()=>r});var e=t(85893),i=t(67294),p=t(41580),M=t(11047);const r=({children:y,spacing:f=2,horizontal:R=!1,...P})=>(0,e.jsx)(p.x,{paddingTop:2,paddingBottom:4,children:(0,e.jsx)(M.k,{as:"ol",gap:f,direction:R?"row":"column",alignItems:R?"center":"stretch",...P,children:i.Children.map(y,(C,O)=>(0,e.jsx)("li",{children:C},O))})})}}]);
