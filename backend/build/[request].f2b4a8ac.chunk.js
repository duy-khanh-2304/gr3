(self.webpackChunklab_nckh=self.webpackChunklab_nckh||[]).push([[6750],{44840:(S,T,y)=>{"use strict";y.d(T,{Z:()=>l});var s=y(8081),w=y.n(s),L=y(23645),x=y.n(L),a=x()(w());a.push([S.id,`.srd-diagram {
  height: 80vh;
  overflow: hidden;
}

/* .srd-default-link path {
  stroke: #000;
} */

.erc-header-title p {
  width: 100%;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-size: 1.3rem;
  font-weight: 400;
  line-height: normal;
  color: rgb(120, 126, 143);
  margin: 0px;
  overflow: hidden;
}

.erc-header-title h1 {
  position: relative;
  width: -webkit-fit-content;
  width: -moz-fit-content;
  width: fit-content;
  max-width: 100%;
  margin-bottom: 0;
  padding-right: 18px;
  font-size: 2.4rem;
  line-height: normal;
  font-weight: 600;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
`,""]);const l=a},45473:(S,T,y)=>{"use strict";y.d(T,{Z:()=>l});var s=y(8081),w=y.n(s),L=y(23645),x=y.n(L),a=x()(w());a.push([S.id,`.srd-diagram {
  position: relative;
  flex-grow: 1;
  display: flex;
  cursor: move;
  overflow: hidden;
}
.srd-diagram__selector {
  position: absolute;
  background-color: rgba(0, 192, 255, 0.2);
  border: solid 2px #00c0ff;
}
.srd-link-layer {
  position: absolute;
  height: 100%;
  width: 100%;
  transform-origin: 0 0;
  overflow: visible !important;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.srd-node-layer {
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  position: absolute;
  pointer-events: none;
  transform-origin: 0 0;
  width: 100%;
  height: 100%;
}
.srd-node {
  position: absolute;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  cursor: move;
  pointer-events: all;
}
.srd-node--selected > * {
  border-color: #00c0ff !important;
}
.srd-port {
  width: 15px;
  height: 15px;
  background: rgba(255, 255, 255, 0.1);
}
.srd-port:hover,
.srd-port.selected {
  background: #c0ff00;
}
.srd-default-node {
  background-color: #1e1e1e;
  border-radius: 5px;
  font-family: sans-serif;
  color: white;
  border: solid 2px black;
  overflow: visible;
  font-size: 11px;
}
.srd-default-node__title {
  background: rgba(0, 0, 0, 0.3);
  display: flex;
  white-space: nowrap;
}
.srd-default-node__title > * {
  align-self: center;
}
.srd-default-node__title .fa {
  padding: 5px;
  opacity: 0.2;
  cursor: pointer;
}
.srd-default-node__title .fa:hover {
  opacity: 1;
}
.srd-default-node__name {
  flex-grow: 1;
  padding: 5px 5px;
}
.srd-default-node__ports {
  display: flex;
  background-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2));
}
.srd-default-node__in,
.srd-default-node__out {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}
.srd-default-port {
  display: flex;
  margin-top: 1px;
}
.srd-default-port > * {
  align-self: center;
}
.srd-default-port__name {
  padding: 0 5px;
}
.srd-default-port--out {
  justify-content: flex-end;
}
.srd-default-port--out .srd-default-port__name {
  justify-content: flex-end;
  text-align: right;
}
.srd-default-label {
  background: rgba(70, 70, 70, 0.8);
  border: 1px solid #333;
  border-radius: 4px;
  color: #fff;
  display: inline-block;
  font-size: smaller;
  padding: 5px;
}
@keyframes dash {
  from {
    stroke-dashoffset: 24;
  }
  to {
    stroke-dashoffset: 0;
  }
}
.srd-default-link path {
  fill: none;
  pointer-events: all;
}
.srd-default-link--path-selected {
  stroke: #00c0ff !important;
  stroke-dasharray: 10, 2;
  animation: dash 1s linear infinite;
}
.srd-default-link__label {
  pointer-events: none;
}
.srd-default-link__label > div {
  display: inline-block;
  position: absolute;
}
.srd-default-link__point {
  fill: rgba(255, 255, 255, 0.5);
}
.srd-default-link--point-selected {
  fill: #00c0ff;
}
`,""]);const l=a},70681:(S,T,y)=>{S.exports={graphlib:y(70574),layout:y(98123),debug:y(27570),util:{time:y(11138).time,notime:y(11138).notime},version:y(88177)}},92188:(S,T,y)=>{"use strict";var s=y(38436),w=y(74079);S.exports={run:L,undo:a};function L(l){var g=l.graph().acyclicer==="greedy"?w(l,u(l)):x(l);s.forEach(g,function(o){var r=l.edge(o);l.removeEdge(o),r.forwardName=o.name,r.reversed=!0,l.setEdge(o.w,o.v,r,s.uniqueId("rev"))});function u(o){return function(r){return o.edge(r).weight}}}function x(l){var g=[],u={},o={};function r(t){s.has(o,t)||(o[t]=!0,u[t]=!0,s.forEach(l.outEdges(t),function(e){s.has(u,e.w)?g.push(e):r(e.w)}),delete u[t])}return s.forEach(l.nodes(),r),g}function a(l){s.forEach(l.edges(),function(g){var u=l.edge(g);if(u.reversed){l.removeEdge(g);var o=u.forwardName;delete u.reversed,delete u.forwardName,l.setEdge(g.w,g.v,u,o)}})}},61133:(S,T,y)=>{var s=y(38436),w=y(11138);S.exports=L;function L(a){function l(g){var u=a.children(g),o=a.node(g);if(u.length&&s.forEach(u,l),s.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var r=o.minRank,t=o.maxRank+1;r<t;++r)x(a,"borderLeft","_bl",g,o,r),x(a,"borderRight","_br",g,o,r)}}s.forEach(a.children(),l)}function x(a,l,g,u,o,r){var t={width:0,height:0,rank:r,borderType:l},e=o[l][r-1],n=w.addDummyNode(a,"border",t,g);o[l][r]=n,a.setParent(n,u),e&&a.setEdge(e,n,{weight:1})}},53258:(S,T,y)=>{"use strict";var s=y(38436);S.exports={adjust:w,undo:L};function w(r){var t=r.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&x(r)}function L(r){var t=r.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&l(r),(t==="lr"||t==="rl")&&(u(r),x(r))}function x(r){s.forEach(r.nodes(),function(t){a(r.node(t))}),s.forEach(r.edges(),function(t){a(r.edge(t))})}function a(r){var t=r.width;r.width=r.height,r.height=t}function l(r){s.forEach(r.nodes(),function(t){g(r.node(t))}),s.forEach(r.edges(),function(t){var e=r.edge(t);s.forEach(e.points,g),s.has(e,"y")&&g(e)})}function g(r){r.y=-r.y}function u(r){s.forEach(r.nodes(),function(t){o(r.node(t))}),s.forEach(r.edges(),function(t){var e=r.edge(t);s.forEach(e.points,o),s.has(e,"x")&&o(e)})}function o(r){var t=r.x;r.x=r.y,r.y=t}},77822:S=>{S.exports=T;function T(){var w={};w._next=w._prev=w,this._sentinel=w}T.prototype.dequeue=function(){var w=this._sentinel,L=w._prev;if(L!==w)return y(L),L},T.prototype.enqueue=function(w){var L=this._sentinel;w._prev&&w._next&&y(w),w._next=L._next,L._next._prev=w,L._next=w,w._prev=L},T.prototype.toString=function(){for(var w=[],L=this._sentinel,x=L._prev;x!==L;)w.push(JSON.stringify(x,s)),x=x._prev;return"["+w.join(", ")+"]"};function y(w){w._prev._next=w._next,w._next._prev=w._prev,delete w._next,delete w._prev}function s(w,L){if(w!=="_next"&&w!=="_prev")return L}},27570:(S,T,y)=>{var s=y(38436),w=y(11138),L=y(70574).Graph;S.exports={debugOrdering:x};function x(a){var l=w.buildLayerMatrix(a),g=new L({compound:!0,multigraph:!0}).setGraph({});return s.forEach(a.nodes(),function(u){g.setNode(u,{label:u}),g.setParent(u,"layer"+a.node(u).rank)}),s.forEach(a.edges(),function(u){g.setEdge(u.v,u.w,{},u.name)}),s.forEach(l,function(u,o){var r="layer"+o;g.setNode(r,{rank:"same"}),s.reduce(u,function(t,e){return g.setEdge(t,e,{style:"invis"}),e})}),g}},70574:(S,T,y)=>{var s;try{s=y(28282)}catch{}s||(s=window.graphlib),S.exports=s},74079:(S,T,y)=>{var s=y(38436),w=y(70574).Graph,L=y(77822);S.exports=a;var x=s.constant(1);function a(r,t){if(r.nodeCount()<=1)return[];var e=u(r,t||x),n=l(e.graph,e.buckets,e.zeroIdx);return s.flatten(s.map(n,function(i){return r.outEdges(i.v,i.w)}),!0)}function l(r,t,e){for(var n=[],i=t[t.length-1],f=t[0],v;r.nodeCount();){for(;v=f.dequeue();)g(r,t,e,v);for(;v=i.dequeue();)g(r,t,e,v);if(r.nodeCount()){for(var c=t.length-2;c>0;--c)if(v=t[c].dequeue(),v){n=n.concat(g(r,t,e,v,!0));break}}}return n}function g(r,t,e,n,i){var f=i?[]:void 0;return s.forEach(r.inEdges(n.v),function(v){var c=r.edge(v),h=r.node(v.v);i&&f.push({v:v.v,w:v.w}),h.out-=c,o(t,e,h)}),s.forEach(r.outEdges(n.v),function(v){var c=r.edge(v),h=v.w,p=r.node(h);p.in-=c,o(t,e,p)}),r.removeNode(n.v),f}function u(r,t){var e=new w,n=0,i=0;s.forEach(r.nodes(),function(c){e.setNode(c,{v:c,in:0,out:0})}),s.forEach(r.edges(),function(c){var h=e.edge(c.v,c.w)||0,p=t(c),d=h+p;e.setEdge(c.v,c.w,d),i=Math.max(i,e.node(c.v).out+=p),n=Math.max(n,e.node(c.w).in+=p)});var f=s.range(i+n+3).map(function(){return new L}),v=n+1;return s.forEach(e.nodes(),function(c){o(f,v,e.node(c))}),{graph:e,buckets:f,zeroIdx:v}}function o(r,t,e){e.out?e.in?r[e.out-e.in+t].enqueue(e):r[r.length-1].enqueue(e):r[0].enqueue(e)}},98123:(S,T,y)=>{"use strict";var s=y(38436),w=y(92188),L=y(45995),x=y(78093),a=y(11138).normalizeRanks,l=y(24219),g=y(11138).removeEmptyRanks,u=y(72981),o=y(61133),r=y(53258),t=y(53408),e=y(17873),n=y(11138),i=y(70574).Graph;S.exports=f;function f(D,R){var W=R&&R.debugTiming?n.time:n.notime;W("layout",function(){var B=W("  buildLayoutGraph",function(){return A(D)});W("  runLayout",function(){v(B,W)}),W("  updateInputGraph",function(){c(D,B)})})}function v(D,R){R("    makeSpaceForEdgeLabels",function(){b(D)}),R("    removeSelfEdges",function(){Z(D)}),R("    acyclic",function(){w.run(D)}),R("    nestingGraph.run",function(){u.run(D)}),R("    rank",function(){x(n.asNonCompoundGraph(D))}),R("    injectEdgeLabelProxies",function(){N(D)}),R("    removeEmptyRanks",function(){g(D)}),R("    nestingGraph.cleanup",function(){u.cleanup(D)}),R("    normalizeRanks",function(){a(D)}),R("    assignRankMinMax",function(){I(D)}),R("    removeEdgeLabelProxies",function(){C(D)}),R("    normalize.run",function(){L.run(D)}),R("    parentDummyChains",function(){l(D)}),R("    addBorderSegments",function(){o(D)}),R("    order",function(){t(D)}),R("    insertSelfEdges",function(){ht(D)}),R("    adjustCoordinateSystem",function(){r.adjust(D)}),R("    position",function(){e(D)}),R("    positionSelfEdges",function(){ct(D)}),R("    removeBorderNodes",function(){$(D)}),R("    normalize.undo",function(){L.undo(D)}),R("    fixupEdgeLabelCoords",function(){j(D)}),R("    undoCoordinateSystem",function(){r.undo(D)}),R("    translateGraph",function(){k(D)}),R("    assignNodeIntersects",function(){F(D)}),R("    reversePoints",function(){G(D)}),R("    acyclic.undo",function(){w.undo(D)})}function c(D,R){s.forEach(D.nodes(),function(W){var B=D.node(W),Y=R.node(W);B&&(B.x=Y.x,B.y=Y.y,R.children(W).length&&(B.width=Y.width,B.height=Y.height))}),s.forEach(D.edges(),function(W){var B=D.edge(W),Y=R.edge(W);B.points=Y.points,s.has(Y,"x")&&(B.x=Y.x,B.y=Y.y)}),D.graph().width=R.graph().width,D.graph().height=R.graph().height}var h=["nodesep","edgesep","ranksep","marginx","marginy"],p={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},d=["acyclicer","ranker","rankdir","align"],P=["width","height"],m={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],M={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},O=["labelpos"];function A(D){var R=new i({multigraph:!0,compound:!0}),W=Mt(D.graph());return R.setGraph(s.merge({},p,Ot(W,h),s.pick(W,d))),s.forEach(D.nodes(),function(B){var Y=Mt(D.node(B));R.setNode(B,s.defaults(Ot(Y,P),m)),R.setParent(B,D.parent(B))}),s.forEach(D.edges(),function(B){var Y=Mt(D.edge(B));R.setEdge(B,s.merge({},M,Ot(Y,E),s.pick(Y,O)))}),R}function b(D){var R=D.graph();R.ranksep/=2,s.forEach(D.edges(),function(W){var B=D.edge(W);B.minlen*=2,B.labelpos.toLowerCase()!=="c"&&(R.rankdir==="TB"||R.rankdir==="BT"?B.width+=B.labeloffset:B.height+=B.labeloffset)})}function N(D){s.forEach(D.edges(),function(R){var W=D.edge(R);if(W.width&&W.height){var B=D.node(R.v),Y=D.node(R.w),J={rank:(Y.rank-B.rank)/2+B.rank,e:R};n.addDummyNode(D,"edge-proxy",J,"_ep")}})}function I(D){var R=0;s.forEach(D.nodes(),function(W){var B=D.node(W);B.borderTop&&(B.minRank=D.node(B.borderTop).rank,B.maxRank=D.node(B.borderBottom).rank,R=s.max(R,B.maxRank))}),D.graph().maxRank=R}function C(D){s.forEach(D.nodes(),function(R){var W=D.node(R);W.dummy==="edge-proxy"&&(D.edge(W.e).labelRank=W.rank,D.removeNode(R))})}function k(D){var R=Number.POSITIVE_INFINITY,W=0,B=Number.POSITIVE_INFINITY,Y=0,J=D.graph(),et=J.marginx||0,pt=J.marginy||0;function Ft(Et){var ft=Et.x,X=Et.y,H=Et.width,z=Et.height;R=Math.min(R,ft-H/2),W=Math.max(W,ft+H/2),B=Math.min(B,X-z/2),Y=Math.max(Y,X+z/2)}s.forEach(D.nodes(),function(Et){Ft(D.node(Et))}),s.forEach(D.edges(),function(Et){var ft=D.edge(Et);s.has(ft,"x")&&Ft(ft)}),R-=et,B-=pt,s.forEach(D.nodes(),function(Et){var ft=D.node(Et);ft.x-=R,ft.y-=B}),s.forEach(D.edges(),function(Et){var ft=D.edge(Et);s.forEach(ft.points,function(X){X.x-=R,X.y-=B}),s.has(ft,"x")&&(ft.x-=R),s.has(ft,"y")&&(ft.y-=B)}),J.width=W-R+et,J.height=Y-B+pt}function F(D){s.forEach(D.edges(),function(R){var W=D.edge(R),B=D.node(R.v),Y=D.node(R.w),J,et;W.points?(J=W.points[0],et=W.points[W.points.length-1]):(W.points=[],J=Y,et=B),W.points.unshift(n.intersectRect(B,J)),W.points.push(n.intersectRect(Y,et))})}function j(D){s.forEach(D.edges(),function(R){var W=D.edge(R);if(s.has(W,"x"))switch((W.labelpos==="l"||W.labelpos==="r")&&(W.width-=W.labeloffset),W.labelpos){case"l":W.x-=W.width/2+W.labeloffset;break;case"r":W.x+=W.width/2+W.labeloffset;break}})}function G(D){s.forEach(D.edges(),function(R){var W=D.edge(R);W.reversed&&W.points.reverse()})}function $(D){s.forEach(D.nodes(),function(R){if(D.children(R).length){var W=D.node(R),B=D.node(W.borderTop),Y=D.node(W.borderBottom),J=D.node(s.last(W.borderLeft)),et=D.node(s.last(W.borderRight));W.width=Math.abs(et.x-J.x),W.height=Math.abs(Y.y-B.y),W.x=J.x+W.width/2,W.y=B.y+W.height/2}}),s.forEach(D.nodes(),function(R){D.node(R).dummy==="border"&&D.removeNode(R)})}function Z(D){s.forEach(D.edges(),function(R){if(R.v===R.w){var W=D.node(R.v);W.selfEdges||(W.selfEdges=[]),W.selfEdges.push({e:R,label:D.edge(R)}),D.removeEdge(R)}})}function ht(D){var R=n.buildLayerMatrix(D);s.forEach(R,function(W){var B=0;s.forEach(W,function(Y,J){var et=D.node(Y);et.order=J+B,s.forEach(et.selfEdges,function(pt){n.addDummyNode(D,"selfedge",{width:pt.label.width,height:pt.label.height,rank:et.rank,order:J+ ++B,e:pt.e,label:pt.label},"_se")}),delete et.selfEdges})})}function ct(D){s.forEach(D.nodes(),function(R){var W=D.node(R);if(W.dummy==="selfedge"){var B=D.node(W.e.v),Y=B.x+B.width/2,J=B.y,et=W.x-Y,pt=B.height/2;D.setEdge(W.e,W.label),D.removeNode(R),W.label.points=[{x:Y+2*et/3,y:J-pt},{x:Y+5*et/6,y:J-pt},{x:Y+et,y:J},{x:Y+5*et/6,y:J+pt},{x:Y+2*et/3,y:J+pt}],W.label.x=W.x,W.label.y=W.y}})}function Ot(D,R){return s.mapValues(s.pick(D,R),Number)}function Mt(D){var R={};return s.forEach(D,function(W,B){R[B.toLowerCase()]=W}),R}},38436:(S,T,y)=>{var s;try{s={cloneDeep:y(50361),constant:y(75703),defaults:y(91747),each:y(66073),filter:y(63105),find:y(13311),flatten:y(85564),forEach:y(84486),forIn:y(62620),has:y(18721),isUndefined:y(52353),last:y(10928),map:y(35161),mapValues:y(66604),max:y(6162),merge:y(82492),min:y(53632),minBy:y(22762),now:y(7771),pick:y(78718),range:y(96026),reduce:y(54061),sortBy:y(89734),uniqueId:y(73955),values:y(52628),zipObject:y(7287)}}catch{}s||(s=window._),S.exports=s},72981:(S,T,y)=>{var s=y(38436),w=y(11138);S.exports={run:L,cleanup:g};function L(u){var o=w.addDummyNode(u,"root",{},"_root"),r=a(u),t=s.max(s.values(r))-1,e=2*t+1;u.graph().nestingRoot=o,s.forEach(u.edges(),function(i){u.edge(i).minlen*=e});var n=l(u)+1;s.forEach(u.children(),function(i){x(u,o,e,n,t,r,i)}),u.graph().nodeRankFactor=e}function x(u,o,r,t,e,n,i){var f=u.children(i);if(!f.length){i!==o&&u.setEdge(o,i,{weight:0,minlen:r});return}var v=w.addBorderNode(u,"_bt"),c=w.addBorderNode(u,"_bb"),h=u.node(i);u.setParent(v,i),h.borderTop=v,u.setParent(c,i),h.borderBottom=c,s.forEach(f,function(p){x(u,o,r,t,e,n,p);var d=u.node(p),P=d.borderTop?d.borderTop:p,m=d.borderBottom?d.borderBottom:p,E=d.borderTop?t:2*t,M=P!==m?1:e-n[i]+1;u.setEdge(v,P,{weight:E,minlen:M,nestingEdge:!0}),u.setEdge(m,c,{weight:E,minlen:M,nestingEdge:!0})}),u.parent(i)||u.setEdge(o,v,{weight:0,minlen:e+n[i]})}function a(u){var o={};function r(t,e){var n=u.children(t);n&&n.length&&s.forEach(n,function(i){r(i,e+1)}),o[t]=e}return s.forEach(u.children(),function(t){r(t,1)}),o}function l(u){return s.reduce(u.edges(),function(o,r){return o+u.edge(r).weight},0)}function g(u){var o=u.graph();u.removeNode(o.nestingRoot),delete o.nestingRoot,s.forEach(u.edges(),function(r){var t=u.edge(r);t.nestingEdge&&u.removeEdge(r)})}},45995:(S,T,y)=>{"use strict";var s=y(38436),w=y(11138);S.exports={run:L,undo:a};function L(l){l.graph().dummyChains=[],s.forEach(l.edges(),function(g){x(l,g)})}function x(l,g){var u=g.v,o=l.node(u).rank,r=g.w,t=l.node(r).rank,e=g.name,n=l.edge(g),i=n.labelRank;if(t!==o+1){l.removeEdge(g);var f,v,c;for(c=0,++o;o<t;++c,++o)n.points=[],v={width:0,height:0,edgeLabel:n,edgeObj:g,rank:o},f=w.addDummyNode(l,"edge",v,"_d"),o===i&&(v.width=n.width,v.height=n.height,v.dummy="edge-label",v.labelpos=n.labelpos),l.setEdge(u,f,{weight:n.weight},e),c===0&&l.graph().dummyChains.push(f),u=f;l.setEdge(u,r,{weight:n.weight},e)}}function a(l){s.forEach(l.graph().dummyChains,function(g){var u=l.node(g),o=u.edgeLabel,r;for(l.setEdge(u.edgeObj,o);u.dummy;)r=l.successors(g)[0],l.removeNode(g),o.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(o.x=u.x,o.y=u.y,o.width=u.width,o.height=u.height),g=r,u=l.node(g)})}},55093:(S,T,y)=>{var s=y(38436);S.exports=w;function w(L,x,a){var l={},g;s.forEach(a,function(u){for(var o=L.parent(u),r,t;o;){if(r=L.parent(o),r?(t=l[r],l[r]=o):(t=g,g=o),t&&t!==o){x.setEdge(t,o);return}o=r}})}},35439:(S,T,y)=>{var s=y(38436);S.exports=w;function w(L,x){return s.map(x,function(a){var l=L.inEdges(a);if(l.length){var g=s.reduce(l,function(u,o){var r=L.edge(o),t=L.node(o.v);return{sum:u.sum+r.weight*t.order,weight:u.weight+r.weight}},{sum:0,weight:0});return{v:a,barycenter:g.sum/g.weight,weight:g.weight}}else return{v:a}})}},23128:(S,T,y)=>{var s=y(38436),w=y(70574).Graph;S.exports=L;function L(a,l,g){var u=x(a),o=new w({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(r){return a.node(r)});return s.forEach(a.nodes(),function(r){var t=a.node(r),e=a.parent(r);(t.rank===l||t.minRank<=l&&l<=t.maxRank)&&(o.setNode(r),o.setParent(r,e||u),s.forEach(a[g](r),function(n){var i=n.v===r?n.w:n.v,f=o.edge(i,r),v=s.isUndefined(f)?0:f.weight;o.setEdge(i,r,{weight:a.edge(n).weight+v})}),s.has(t,"minRank")&&o.setNode(r,{borderLeft:t.borderLeft[l],borderRight:t.borderRight[l]}))}),o}function x(a){for(var l;a.hasNode(l=s.uniqueId("_root")););return l}},56630:(S,T,y)=>{"use strict";var s=y(38436);S.exports=w;function w(x,a){for(var l=0,g=1;g<a.length;++g)l+=L(x,a[g-1],a[g]);return l}function L(x,a,l){for(var g=s.zipObject(l,s.map(l,function(n,i){return i})),u=s.flatten(s.map(a,function(n){return s.sortBy(s.map(x.outEdges(n),function(i){return{pos:g[i.w],weight:x.edge(i).weight}}),"pos")}),!0),o=1;o<l.length;)o<<=1;var r=2*o-1;o-=1;var t=s.map(new Array(r),function(){return 0}),e=0;return s.forEach(u.forEach(function(n){var i=n.pos+o;t[i]+=n.weight;for(var f=0;i>0;)i%2&&(f+=t[i+1]),i=i-1>>1,t[i]+=n.weight;e+=n.weight*f})),e}},53408:(S,T,y)=>{"use strict";var s=y(38436),w=y(2588),L=y(56630),x=y(61026),a=y(23128),l=y(55093),g=y(70574).Graph,u=y(11138);S.exports=o;function o(n){var i=u.maxRank(n),f=r(n,s.range(1,i+1),"inEdges"),v=r(n,s.range(i-1,-1,-1),"outEdges"),c=w(n);e(n,c);for(var h=Number.POSITIVE_INFINITY,p,d=0,P=0;P<4;++d,++P){t(d%2?f:v,d%4>=2),c=u.buildLayerMatrix(n);var m=L(n,c);m<h&&(P=0,p=s.cloneDeep(c),h=m)}e(n,p)}function r(n,i,f){return s.map(i,function(v){return a(n,v,f)})}function t(n,i){var f=new g;s.forEach(n,function(v){var c=v.graph().root,h=x(v,c,f,i);s.forEach(h.vs,function(p,d){v.node(p).order=d}),l(v,f,h.vs)})}function e(n,i){s.forEach(i,function(f){s.forEach(f,function(v,c){n.node(v).order=c})})}},2588:(S,T,y)=>{"use strict";var s=y(38436);S.exports=w;function w(L){var x={},a=s.filter(L.nodes(),function(r){return!L.children(r).length}),l=s.max(s.map(a,function(r){return L.node(r).rank})),g=s.map(s.range(l+1),function(){return[]});function u(r){if(!s.has(x,r)){x[r]=!0;var t=L.node(r);g[t.rank].push(r),s.forEach(L.successors(r),u)}}var o=s.sortBy(a,function(r){return L.node(r).rank});return s.forEach(o,u),g}},83678:(S,T,y)=>{"use strict";var s=y(38436);S.exports=w;function w(a,l){var g={};s.forEach(a,function(o,r){var t=g[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:r};s.isUndefined(o.barycenter)||(t.barycenter=o.barycenter,t.weight=o.weight)}),s.forEach(l.edges(),function(o){var r=g[o.v],t=g[o.w];!s.isUndefined(r)&&!s.isUndefined(t)&&(t.indegree++,r.out.push(g[o.w]))});var u=s.filter(g,function(o){return!o.indegree});return L(u)}function L(a){var l=[];function g(r){return function(t){t.merged||(s.isUndefined(t.barycenter)||s.isUndefined(r.barycenter)||t.barycenter>=r.barycenter)&&x(r,t)}}function u(r){return function(t){t.in.push(r),--t.indegree===0&&a.push(t)}}for(;a.length;){var o=a.pop();l.push(o),s.forEach(o.in.reverse(),g(o)),s.forEach(o.out,u(o))}return s.map(s.filter(l,function(r){return!r.merged}),function(r){return s.pick(r,["vs","i","barycenter","weight"])})}function x(a,l){var g=0,u=0;a.weight&&(g+=a.barycenter*a.weight,u+=a.weight),l.weight&&(g+=l.barycenter*l.weight,u+=l.weight),a.vs=l.vs.concat(a.vs),a.barycenter=g/u,a.weight=u,a.i=Math.min(l.i,a.i),l.merged=!0}},61026:(S,T,y)=>{var s=y(38436),w=y(35439),L=y(83678),x=y(87304);S.exports=a;function a(u,o,r,t){var e=u.children(o),n=u.node(o),i=n?n.borderLeft:void 0,f=n?n.borderRight:void 0,v={};i&&(e=s.filter(e,function(m){return m!==i&&m!==f}));var c=w(u,e);s.forEach(c,function(m){if(u.children(m.v).length){var E=a(u,m.v,r,t);v[m.v]=E,s.has(E,"barycenter")&&g(m,E)}});var h=L(c,r);l(h,v);var p=x(h,t);if(i&&(p.vs=s.flatten([i,p.vs,f],!0),u.predecessors(i).length)){var d=u.node(u.predecessors(i)[0]),P=u.node(u.predecessors(f)[0]);s.has(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+d.order+P.order)/(p.weight+2),p.weight+=2}return p}function l(u,o){s.forEach(u,function(r){r.vs=s.flatten(r.vs.map(function(t){return o[t]?o[t].vs:t}),!0)})}function g(u,o){s.isUndefined(u.barycenter)?(u.barycenter=o.barycenter,u.weight=o.weight):(u.barycenter=(u.barycenter*u.weight+o.barycenter*o.weight)/(u.weight+o.weight),u.weight+=o.weight)}},87304:(S,T,y)=>{var s=y(38436),w=y(11138);S.exports=L;function L(l,g){var u=w.partition(l,function(v){return s.has(v,"barycenter")}),o=u.lhs,r=s.sortBy(u.rhs,function(v){return-v.i}),t=[],e=0,n=0,i=0;o.sort(a(!!g)),i=x(t,r,i),s.forEach(o,function(v){i+=v.vs.length,t.push(v.vs),e+=v.barycenter*v.weight,n+=v.weight,i=x(t,r,i)});var f={vs:s.flatten(t,!0)};return n&&(f.barycenter=e/n,f.weight=n),f}function x(l,g,u){for(var o;g.length&&(o=s.last(g)).i<=u;)g.pop(),l.push(o.vs),u++;return u}function a(l){return function(g,u){return g.barycenter<u.barycenter?-1:g.barycenter>u.barycenter?1:l?u.i-g.i:g.i-u.i}}},24219:(S,T,y)=>{var s=y(38436);S.exports=w;function w(a){var l=x(a);s.forEach(a.graph().dummyChains,function(g){for(var u=a.node(g),o=u.edgeObj,r=L(a,l,o.v,o.w),t=r.path,e=r.lca,n=0,i=t[n],f=!0;g!==o.w;){if(u=a.node(g),f){for(;(i=t[n])!==e&&a.node(i).maxRank<u.rank;)n++;i===e&&(f=!1)}if(!f){for(;n<t.length-1&&a.node(i=t[n+1]).minRank<=u.rank;)n++;i=t[n]}a.setParent(g,i),g=a.successors(g)[0]}})}function L(a,l,g,u){var o=[],r=[],t=Math.min(l[g].low,l[u].low),e=Math.max(l[g].lim,l[u].lim),n,i;n=g;do n=a.parent(n),o.push(n);while(n&&(l[n].low>t||e>l[n].lim));for(i=n,n=u;(n=a.parent(n))!==i;)r.push(n);return{path:o.concat(r.reverse()),lca:i}}function x(a){var l={},g=0;function u(o){var r=g;s.forEach(a.children(o),u),l[o]={low:r,lim:g++}}return s.forEach(a.children(),u),l}},3573:(S,T,y)=>{"use strict";var s=y(38436),w=y(70574).Graph,L=y(11138);S.exports={positionX:f,findType1Conflicts:x,findType2Conflicts:a,addConflict:g,hasConflict:u,verticalAlignment:o,horizontalCompaction:r,alignCoordinates:n,findSmallestWidthAlignment:e,balance:i};function x(h,p){var d={};function P(m,E){var M=0,O=0,A=m.length,b=s.last(E);return s.forEach(E,function(N,I){var C=l(h,N),k=C?h.node(C).order:A;(C||N===b)&&(s.forEach(E.slice(O,I+1),function(F){s.forEach(h.predecessors(F),function(j){var G=h.node(j),$=G.order;($<M||k<$)&&!(G.dummy&&h.node(F).dummy)&&g(d,j,F)})}),O=I+1,M=k)}),E}return s.reduce(p,P),d}function a(h,p){var d={};function P(E,M,O,A,b){var N;s.forEach(s.range(M,O),function(I){N=E[I],h.node(N).dummy&&s.forEach(h.predecessors(N),function(C){var k=h.node(C);k.dummy&&(k.order<A||k.order>b)&&g(d,C,N)})})}function m(E,M){var O=-1,A,b=0;return s.forEach(M,function(N,I){if(h.node(N).dummy==="border"){var C=h.predecessors(N);C.length&&(A=h.node(C[0]).order,P(M,b,I,O,A),b=I,O=A)}P(M,b,M.length,A,E.length)}),M}return s.reduce(p,m),d}function l(h,p){if(h.node(p).dummy)return s.find(h.predecessors(p),function(d){return h.node(d).dummy})}function g(h,p,d){if(p>d){var P=p;p=d,d=P}var m=h[p];m||(h[p]=m={}),m[d]=!0}function u(h,p,d){if(p>d){var P=p;p=d,d=P}return s.has(h[p],d)}function o(h,p,d,P){var m={},E={},M={};return s.forEach(p,function(O){s.forEach(O,function(A,b){m[A]=A,E[A]=A,M[A]=b})}),s.forEach(p,function(O){var A=-1;s.forEach(O,function(b){var N=P(b);if(N.length){N=s.sortBy(N,function(j){return M[j]});for(var I=(N.length-1)/2,C=Math.floor(I),k=Math.ceil(I);C<=k;++C){var F=N[C];E[b]===b&&A<M[F]&&!u(d,b,F)&&(E[F]=b,E[b]=m[b]=m[F],A=M[F])}}})}),{root:m,align:E}}function r(h,p,d,P,m){var E={},M=t(h,p,d,m),O=m?"borderLeft":"borderRight";function A(I,C){for(var k=M.nodes(),F=k.pop(),j={};F;)j[F]?I(F):(j[F]=!0,k.push(F),k=k.concat(C(F))),F=k.pop()}function b(I){E[I]=M.inEdges(I).reduce(function(C,k){return Math.max(C,E[k.v]+M.edge(k))},0)}function N(I){var C=M.outEdges(I).reduce(function(F,j){return Math.min(F,E[j.w]-M.edge(j))},Number.POSITIVE_INFINITY),k=h.node(I);C!==Number.POSITIVE_INFINITY&&k.borderType!==O&&(E[I]=Math.max(E[I],C))}return A(b,M.predecessors.bind(M)),A(N,M.successors.bind(M)),s.forEach(P,function(I){E[I]=E[d[I]]}),E}function t(h,p,d,P){var m=new w,E=h.graph(),M=v(E.nodesep,E.edgesep,P);return s.forEach(p,function(O){var A;s.forEach(O,function(b){var N=d[b];if(m.setNode(N),A){var I=d[A],C=m.edge(I,N);m.setEdge(I,N,Math.max(M(h,b,A),C||0))}A=b})}),m}function e(h,p){return s.minBy(s.values(p),function(d){var P=Number.NEGATIVE_INFINITY,m=Number.POSITIVE_INFINITY;return s.forIn(d,function(E,M){var O=c(h,M)/2;P=Math.max(E+O,P),m=Math.min(E-O,m)}),P-m})}function n(h,p){var d=s.values(p),P=s.min(d),m=s.max(d);s.forEach(["u","d"],function(E){s.forEach(["l","r"],function(M){var O=E+M,A=h[O],b;if(A!==p){var N=s.values(A);b=M==="l"?P-s.min(N):m-s.max(N),b&&(h[O]=s.mapValues(A,function(I){return I+b}))}})})}function i(h,p){return s.mapValues(h.ul,function(d,P){if(p)return h[p.toLowerCase()][P];var m=s.sortBy(s.map(h,P));return(m[1]+m[2])/2})}function f(h){var p=L.buildLayerMatrix(h),d=s.merge(x(h,p),a(h,p)),P={},m;s.forEach(["u","d"],function(M){m=M==="u"?p:s.values(p).reverse(),s.forEach(["l","r"],function(O){O==="r"&&(m=s.map(m,function(I){return s.values(I).reverse()}));var A=(M==="u"?h.predecessors:h.successors).bind(h),b=o(h,m,d,A),N=r(h,m,b.root,b.align,O==="r");O==="r"&&(N=s.mapValues(N,function(I){return-I})),P[M+O]=N})});var E=e(h,P);return n(P,E),i(P,h.graph().align)}function v(h,p,d){return function(P,m,E){var M=P.node(m),O=P.node(E),A=0,b;if(A+=M.width/2,s.has(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":b=-M.width/2;break;case"r":b=M.width/2;break}if(b&&(A+=d?b:-b),b=0,A+=(M.dummy?p:h)/2,A+=(O.dummy?p:h)/2,A+=O.width/2,s.has(O,"labelpos"))switch(O.labelpos.toLowerCase()){case"l":b=O.width/2;break;case"r":b=-O.width/2;break}return b&&(A+=d?b:-b),b=0,A}}function c(h,p){return h.node(p).width}},17873:(S,T,y)=>{"use strict";var s=y(38436),w=y(11138),L=y(3573).positionX;S.exports=x;function x(l){l=w.asNonCompoundGraph(l),a(l),s.forEach(L(l),function(g,u){l.node(u).x=g})}function a(l){var g=w.buildLayerMatrix(l),u=l.graph().ranksep,o=0;s.forEach(g,function(r){var t=s.max(s.map(r,function(e){return l.node(e).height}));s.forEach(r,function(e){l.node(e).y=o+t/2}),o+=t+u})}},20300:(S,T,y)=>{"use strict";var s=y(38436),w=y(70574).Graph,L=y(76681).slack;S.exports=x;function x(u){var o=new w({directed:!1}),r=u.nodes()[0],t=u.nodeCount();o.setNode(r,{});for(var e,n;a(o,u)<t;)e=l(o,u),n=o.hasNode(e.v)?L(u,e):-L(u,e),g(o,u,n);return o}function a(u,o){function r(t){s.forEach(o.nodeEdges(t),function(e){var n=e.v,i=t===n?e.w:n;!u.hasNode(i)&&!L(o,e)&&(u.setNode(i,{}),u.setEdge(t,i,{}),r(i))})}return s.forEach(u.nodes(),r),u.nodeCount()}function l(u,o){return s.minBy(o.edges(),function(r){if(u.hasNode(r.v)!==u.hasNode(r.w))return L(o,r)})}function g(u,o,r){s.forEach(u.nodes(),function(t){o.node(t).rank+=r})}},78093:(S,T,y)=>{"use strict";var s=y(76681),w=s.longestPath,L=y(20300),x=y(42472);S.exports=a;function a(o){switch(o.graph().ranker){case"network-simplex":u(o);break;case"tight-tree":g(o);break;case"longest-path":l(o);break;default:u(o)}}var l=w;function g(o){w(o),L(o)}function u(o){x(o)}},42472:(S,T,y)=>{"use strict";var s=y(38436),w=y(20300),L=y(76681).slack,x=y(76681).longestPath,a=y(70574).alg.preorder,l=y(70574).alg.postorder,g=y(11138).simplify;S.exports=u,u.initLowLimValues=e,u.initCutValues=o,u.calcCutValue=t,u.leaveEdge=i,u.enterEdge=f,u.exchangeEdges=v;function u(d){d=g(d),x(d);var P=w(d);e(P),o(P,d);for(var m,E;m=i(P);)E=f(P,d,m),v(P,d,m,E)}function o(d,P){var m=l(d,d.nodes());m=m.slice(0,m.length-1),s.forEach(m,function(E){r(d,P,E)})}function r(d,P,m){var E=d.node(m),M=E.parent;d.edge(m,M).cutvalue=t(d,P,m)}function t(d,P,m){var E=d.node(m),M=E.parent,O=!0,A=P.edge(m,M),b=0;return A||(O=!1,A=P.edge(M,m)),b=A.weight,s.forEach(P.nodeEdges(m),function(N){var I=N.v===m,C=I?N.w:N.v;if(C!==M){var k=I===O,F=P.edge(N).weight;if(b+=k?F:-F,h(d,m,C)){var j=d.edge(m,C).cutvalue;b+=k?-j:j}}}),b}function e(d,P){arguments.length<2&&(P=d.nodes()[0]),n(d,{},1,P)}function n(d,P,m,E,M){var O=m,A=d.node(E);return P[E]=!0,s.forEach(d.neighbors(E),function(b){s.has(P,b)||(m=n(d,P,m,b,E))}),A.low=O,A.lim=m++,M?A.parent=M:delete A.parent,m}function i(d){return s.find(d.edges(),function(P){return d.edge(P).cutvalue<0})}function f(d,P,m){var E=m.v,M=m.w;P.hasEdge(E,M)||(E=m.w,M=m.v);var O=d.node(E),A=d.node(M),b=O,N=!1;O.lim>A.lim&&(b=A,N=!0);var I=s.filter(P.edges(),function(C){return N===p(d,d.node(C.v),b)&&N!==p(d,d.node(C.w),b)});return s.minBy(I,function(C){return L(P,C)})}function v(d,P,m,E){var M=m.v,O=m.w;d.removeEdge(M,O),d.setEdge(E.v,E.w,{}),e(d),o(d,P),c(d,P)}function c(d,P){var m=s.find(d.nodes(),function(M){return!P.node(M).parent}),E=a(d,m);E=E.slice(1),s.forEach(E,function(M){var O=d.node(M).parent,A=P.edge(M,O),b=!1;A||(A=P.edge(O,M),b=!0),P.node(M).rank=P.node(O).rank+(b?A.minlen:-A.minlen)})}function h(d,P,m){return d.hasEdge(P,m)}function p(d,P,m){return m.low<=P.lim&&P.lim<=m.lim}},76681:(S,T,y)=>{"use strict";var s=y(38436);S.exports={longestPath:w,slack:L};function w(x){var a={};function l(g){var u=x.node(g);if(s.has(a,g))return u.rank;a[g]=!0;var o=s.min(s.map(x.outEdges(g),function(r){return l(r.w)-x.edge(r).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),u.rank=o}s.forEach(x.sources(),l)}function L(x,a){return x.node(a.w).rank-x.node(a.v).rank-x.edge(a).minlen}},11138:(S,T,y)=>{"use strict";var s=y(38436),w=y(70574).Graph;S.exports={addDummyNode:L,simplify:x,asNonCompoundGraph:a,successorWeights:l,predecessorWeights:g,intersectRect:u,buildLayerMatrix:o,normalizeRanks:r,removeEmptyRanks:t,addBorderNode:e,maxRank:n,partition:i,time:f,notime:v};function L(c,h,p,d){var P;do P=s.uniqueId(d);while(c.hasNode(P));return p.dummy=h,c.setNode(P,p),P}function x(c){var h=new w().setGraph(c.graph());return s.forEach(c.nodes(),function(p){h.setNode(p,c.node(p))}),s.forEach(c.edges(),function(p){var d=h.edge(p.v,p.w)||{weight:0,minlen:1},P=c.edge(p);h.setEdge(p.v,p.w,{weight:d.weight+P.weight,minlen:Math.max(d.minlen,P.minlen)})}),h}function a(c){var h=new w({multigraph:c.isMultigraph()}).setGraph(c.graph());return s.forEach(c.nodes(),function(p){c.children(p).length||h.setNode(p,c.node(p))}),s.forEach(c.edges(),function(p){h.setEdge(p,c.edge(p))}),h}function l(c){var h=s.map(c.nodes(),function(p){var d={};return s.forEach(c.outEdges(p),function(P){d[P.w]=(d[P.w]||0)+c.edge(P).weight}),d});return s.zipObject(c.nodes(),h)}function g(c){var h=s.map(c.nodes(),function(p){var d={};return s.forEach(c.inEdges(p),function(P){d[P.v]=(d[P.v]||0)+c.edge(P).weight}),d});return s.zipObject(c.nodes(),h)}function u(c,h){var p=c.x,d=c.y,P=h.x-p,m=h.y-d,E=c.width/2,M=c.height/2;if(!P&&!m)throw new Error("Not possible to find intersection inside of the rectangle");var O,A;return Math.abs(m)*E>Math.abs(P)*M?(m<0&&(M=-M),O=M*P/m,A=M):(P<0&&(E=-E),O=E,A=E*m/P),{x:p+O,y:d+A}}function o(c){var h=s.map(s.range(n(c)+1),function(){return[]});return s.forEach(c.nodes(),function(p){var d=c.node(p),P=d.rank;s.isUndefined(P)||(h[P][d.order]=p)}),h}function r(c){var h=s.min(s.map(c.nodes(),function(p){return c.node(p).rank}));s.forEach(c.nodes(),function(p){var d=c.node(p);s.has(d,"rank")&&(d.rank-=h)})}function t(c){var h=s.min(s.map(c.nodes(),function(m){return c.node(m).rank})),p=[];s.forEach(c.nodes(),function(m){var E=c.node(m).rank-h;p[E]||(p[E]=[]),p[E].push(m)});var d=0,P=c.graph().nodeRankFactor;s.forEach(p,function(m,E){s.isUndefined(m)&&E%P!==0?--d:d&&s.forEach(m,function(M){c.node(M).rank+=d})})}function e(c,h,p,d){var P={width:0,height:0};return arguments.length>=4&&(P.rank=p,P.order=d),L(c,"border",P,h)}function n(c){return s.max(s.map(c.nodes(),function(h){var p=c.node(h).rank;if(!s.isUndefined(p))return p}))}function i(c,h){var p={lhs:[],rhs:[]};return s.forEach(c,function(d){h(d)?p.lhs.push(d):p.rhs.push(d)}),p}function f(c,h){var p=s.now();try{return h()}finally{console.log(c+" time: "+(s.now()-p)+"ms")}}function v(c,h){return h()}},88177:S=>{S.exports="0.8.5"},36112:(S,T,y)=>{"use strict";y.r(T),y.d(T,{default:()=>ft});var s=y(67294),w=y(16550),L=y(79946),x=y(35133),a=y.n(x),l=y(1565),g=y(86896),u=y(53979),o=y(49066),r=y(41580),t=y(29728);const n=X=>`${a()}.${X}`;var i=y(54597),f=y(70681),v=y.n(f);function c(X){var H=new(v()).graphlib.Graph({multigraph:!0,compound:!0});H.setGraph({align:"DR",rankdir:"RL",ranker:"longest-path",marginx:25,marginy:25}),H.setDefaultEdgeLabel(function(){return{}}),_.forEach(X.getNodes(),z=>{H.setNode(z.getID(),{width:z.width,height:z.height})}),_.forEach(X.getLinks(),z=>{z.getSourcePort()&&z.getTargetPort()&&H.setEdge({v:z.getSourcePort().getNode().getID(),w:z.getTargetPort().getNode().getID(),name:z.getID()})}),v().layout(H),H.nodes().forEach(z=>{const ot=H.node(z);X.getNode(z).setPosition(ot.x-ot.width/2,ot.y-ot.height/2)}),H.edges().forEach(z=>{const ot=H.edge(z),mt=X.getLink(z.name),tt=[mt.getFirstPoint()];for(let at=1;at<ot.points.length-1;at++)tt.push(new i.PointModel(mt,{x:ot.points[at].x,y:ot.points[at].y}));mt.setPoints(tt.concat(mt.getLastPoint()))})}async function h(){return await(0,L.request)(`/${a()}/er-data`)}async function p(){return await(0,L.request)(`/${a()}/tr-data`)}var d=y(96486);function P(X,H){const z=new i.DiagramEngine;z.registerNodeFactory(new i.DefaultNodeFactory),z.registerLinkFactory(new i.DefaultLinkFactory),z.registerPortFactory(new i.DefaultPortFactory),z.registerLabelFactory(new i.DefaultLabelFactory);const ot=new i.DiagramModel,mt=[],tt={},at=[];for(const Pt in X){const yt=X[Pt],dt=yt.modelType==="component"?"rgb(255, 200, 0)":yt.kind==="collectionType"?"rgb(0,126,255)":"rgb(85, 171, 0)",U=new i.DefaultNodeModel(yt.key,dt),K={},st=Object.keys(yt.attributes);K.id=U.addInPort("id");for(const V of st){const nt=yt.attributes[V],Q=nt.type==="relation",vt=nt.type==="component",ut=nt.type==="dynamiczone";Q||vt||ut?K[V]=U.addOutPort(V):K[V]=U.addInPort(V)}U.setPosition(0,0),mt.push(U),tt[yt.key]={node:U,ports:K}}for(const Pt in X){const yt=X[Pt],{node:dt,ports:U}=tt[yt.key],K=Object.keys(yt.attributes);for(const st of K){const V=yt.attributes[st],nt=V.type==="relation",Q=V.type==="component"&&V?.component,vt=V.type==="dynamiczone"&&V?.components,ut=V?.target;if(nt&&H.relations&&ut&&tt[ut]){const it=U[st].link(tt[ut].ports.id);it.setColor("#999"),at.push(it)}else if(Q&&tt[Q]&&H.components){const it=U[st].link(tt[Q].ports.id);it.setColor("#ffc800"),at.push(it)}else if(vt&&Array.isArray(vt)&&H.dynamiczones){for(const lt of vt)if(tt[lt]){const q=U[st].link(tt[lt].ports.id);q.setColor("#ff6400"),at.push(q)}}}tt[yt.key]={node:dt,ports:U}}return ot.addAll(...mt,...at),z.setDiagramModel(ot),{engine:z,model:ot}}function m(X,H){const z=new i.DiagramEngine;z.registerNodeFactory(new i.DefaultNodeFactory),z.registerLinkFactory(new i.DefaultLinkFactory),z.registerPortFactory(new i.DefaultPortFactory),z.registerLabelFactory(new i.DefaultLabelFactory);const ot=new i.DiagramModel,mt=[],tt={},at=[],Pt=dt=>X?.find(U=>U.key===dt)?.name,yt=dt=>X?.find(U=>U.name===dt)?.key;for(const dt in X){const U=X[dt],K=U.name.endsWith("_components")?"#ff6400":U.name.startsWith("components_")?"#ffc800":"rgb(0,126,255)",st=new i.DefaultNodeModel(U.name,K),V={},nt=Object.keys(U.attributes);for(const Q of nt)U.attributes[Q].type==="relation"?V[Q]=st.addOutPort(`*${Q}`):V[Q]=st.addInPort(Q);st.setPosition(0,0),mt.push(st),tt[U.name]={node:st,ports:V}}for(const dt in X){const U=X[dt],{ports:K}=tt[U.name],st=U.foreignKeys??[],V=Object.keys(U.attributes);for(const nt of V){const Q=U.attributes[nt],vt=Q.type==="relation",ut=Q.joinTable;if(vt&&!ut){const lt=Pt(Q.target),it=tt[lt];if(!it)continue;const q=K[nt],rt=it.ports.id,Ct=q.link(rt);Ct.setColor("#00FF00"),at.push(Ct)}else if(vt&&ut){const{joinColumn:lt,inverseJoinColumn:it,name:q,on:rt,orderBy:Ct}=ut;if(!lt)continue;if(!it){console.log("inverseJoinColumn missing22",ut);continue}const Nt=tt[q];if(!Nt||!rt)continue;console.log({mn:U.name,attr:nt,name:q,fieldData:Q,on:rt,joinColumn:lt,inverseJoinColumn:it,reference:Nt});const Dt=K[nt],At=Nt.ports.id,Lt=Dt.link(At);Lt.setColor("#FF00FF"),at.push(Lt);const wt=Nt.ports[it.name],St=tt[Pt(Q.target)]?.ports.id;wt.in=!1,St.in=!0,console.log({outPort:Dt,out2Port:wt,inPort:At,in2Port:St});const kt=wt.link(St);kt.setColor("#00FFFF"),at.push(kt)}}}return ot.addAll(...mt,...at),z.setDiagramModel(ot),{engine:z,model:ot}}var E=y(93379),M=y.n(E),O=y(7795),A=y.n(O),b=y(90569),N=y.n(b),I=y(3565),C=y.n(I),k=y(19216),F=y.n(k),j=y(44589),G=y.n(j),$=y(45473),Z={};Z.styleTagTransform=G(),Z.setAttributes=C(),Z.insert=N().bind(null,"head"),Z.domAPI=A(),Z.insertStyleElement=F();var ht=M()($.Z,Z);const ct=$.Z&&$.Z.locals?$.Z.locals:void 0;var Ot=y(44840),Mt={};Mt.styleTagTransform=G(),Mt.setAttributes=C(),Mt.insert=N().bind(null,"head"),Mt.domAPI=A(),Mt.insertStyleElement=F();var D=M()(Ot.Z,Mt);const R=Ot.Z&&Ot.Z.locals?Ot.Z.locals:void 0,W=l.default.span`
  width: 12px;
  height: 3px;
  vertical-align: middle;
  display: inline-block;
  margin: 0 8px 0 4px;
  border-radius: 1px;

  background-color: ${X=>X.color?X.color:"#999"};
`,B=l.default.span`
  svg {
    width: 1em;
    height: 1em;
    vertical-align: middle;

    > g,
    path {
      fill: none
    }
  }
`;function Y(X){return s.createElement(B,null,s.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...X},s.createElement("g",{fill:"none",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s.createElement("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),s.createElement("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),s.createElement("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}))))}function J(X){return s.createElement(B,null,s.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...X},s.createElement("g",{fill:"none",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s.createElement("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),s.createElement("path",{d:"M3.27 6.96L12 12.01l8.73-5.05"}),s.createElement("path",{d:"M12 22.08V12"}))))}function et(X,H){const z=new URL(window.location);H?z.searchParams.set(X,H):z.searchParams.delete(X),window.history.pushState({},"",z)}const pt=()=>{const X=new URL(window.location),[H,z]=(0,s.useState)(X.searchParams.get("type")),[ot,mt]=(0,s.useState)(),[tt,at]=(0,s.useState)(),[Pt,yt]=(0,s.useState)(),[dt,U]=(0,s.useState)(),[K,st]=(0,s.useState)(!0),[V,nt]=(0,s.useState)(!0),[Q,vt]=(0,s.useState)(!0),{formatMessage:ut}=(0,g.Z)(),lt=ut({id:n("name"),defaultMessage:"Entity Relationship Chart"}),it=ut({id:n("description"),defaultMessage:"Displays Entity Relationship Diagram of all Strapi models, fields and relations."});return(0,s.useEffect)(()=>{async function q(){try{H===void 0&&!tt?at(await h()):H==="database"&&!Pt&&yt(await p())}catch(rt){U(rt)}}q()},[H,at,yt,U]),(0,s.useEffect)(()=>{mt(null),setTimeout(()=>{if(H===void 0&&tt){const{engine:q,model:rt}=P(tt,{relations:K,components:V,dynamiczones:Q});mt(q),c(rt),q.repaintCanvas()}else if(H==="database"&&Pt){const{engine:q,model:rt}=m(Pt,{relations:K,components:V,dynamiczones:Q});mt(q),c(rt),q.repaintCanvas()}},0)},[H,tt,Pt,K,V,Q]),(0,s.useEffect)(()=>{et("type",H)},[H]),s.createElement("main",null,s.createElement(u.T,{title:lt,subtitle:it,primaryAction:H===void 0?s.createElement(t.z,{startIcon:s.createElement(Y,null),onClick:()=>z("database")},"Switch to Database view"):s.createElement(t.z,{startIcon:s.createElement(J,null),onClick:()=>z()},"Switch to API view")}),s.createElement(o.D,null,dt&&s.createElement(r.x,{padding:7,background:"neutral0",hasRadius:!0},s.createElement("h2",null,dt.toString()),s.createElement("pre",null,s.createElement("code",null,dt.stack))),!dt&&s.createElement(s.Fragment,null,s.createElement(r.x,{padding:1},s.createElement("label",null,s.createElement("input",{type:"checkbox",checked:K,onChange:q=>st(q.target.checked)})," relations",s.createElement(W,null)),s.createElement("label",null,s.createElement("input",{type:"checkbox",checked:V,onChange:q=>nt(q.target.checked)})," components",s.createElement(W,{color:"#ffc800"})),s.createElement("label",null,s.createElement("input",{type:"checkbox",checked:Q,onChange:q=>vt(q.target.checked)})," dynamiczones",s.createElement(W,{color:"#ff6400"}))),s.createElement(r.x,{background:"neutral0",hasRadius:!0,style:{height:"80vh",width:"100%"}},ot&&s.createElement(i.DiagramWidget,{diagramEngine:ot})))))},Ft=(0,s.memo)(pt),ft=()=>s.createElement("div",null,s.createElement(w.rs,null,s.createElement(w.AW,{path:`/plugins/${a()}`,component:Ft,exact:!0}),s.createElement(w.AW,{component:L.NotFound})))},54597:(S,T,y)=>{(function(w,L){S.exports=L(y(96486),y(67294))})(window,function(s,w){return function(L){var x={};function a(l){if(x[l])return x[l].exports;var g=x[l]={i:l,l:!1,exports:{}};return L[l].call(g.exports,g,g.exports,a),g.l=!0,g.exports}return a.m=L,a.c=x,a.d=function(l,g,u){a.o(l,g)||Object.defineProperty(l,g,{configurable:!1,enumerable:!0,get:u})},a.r=function(l){Object.defineProperty(l,"__esModule",{value:!0})},a.n=function(l){var g=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(g,"a",g),g},a.o=function(l,g){return Object.prototype.hasOwnProperty.call(l,g)},a.p="",a(a.s=45)}([function(L,x){L.exports=s},function(L,x){L.exports=w},function(L,x){var a={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4};L.exports=a},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),g=this&&this.__assign||Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=function(r){l(t,r);function t(e,n){var i=r.call(this,n)||this;return i.className=e,i}return t.prototype.bem=function(e){return(this.props.baseClass||this.className)+e+" "},t.prototype.getClassName=function(){return(this.props.baseClass||this.className)+" "+(this.props.className?this.props.className+" ":"")},t.prototype.getProps=function(){return g({},this.props.extraProps||{},{className:this.getClassName()})},t}(u.Component);x.BaseWidget=o},function(L,x){function a(e){for(var n=[[e.x,e.y]];e.parent;)e=e.parent,n.push([e.x,e.y]);return n.reverse()}x.backtrace=a;function l(e,n){var i=a(e),f=a(n);return i.concat(f.reverse())}x.biBacktrace=l;function g(e){var n,i=0,f,v,c,h;for(n=1;n<e.length;++n)f=e[n-1],v=e[n],c=f[0]-v[0],h=f[1]-v[1],i+=Math.sqrt(c*c+h*h);return i}x.pathLength=g;function u(e,n,i,f){var v=Math.abs,c=[],h,p,d,P,m,E;for(d=v(i-e),P=v(f-n),h=e<i?1:-1,p=n<f?1:-1,m=d-P;c.push([e,n]),!(e===i&&n===f);)E=2*m,E>-P&&(m=m-P,e=e+h),E<d&&(m=m+d,n=n+p);return c}x.interpolate=u;function o(e){var n=[],i=e.length,f,v,c,h,p,d;if(i<2)return n;for(p=0;p<i-1;++p)for(f=e[p],v=e[p+1],c=u(f[0],f[1],v[0],v[1]),h=c.length,d=0;d<h-1;++d)n.push(c[d]);return n.push(e[i-1]),n}x.expandPath=o;function r(e,n){var i=n.length,f=n[0][0],v=n[0][1],c=n[i-1][0],h=n[i-1][1],p,d,P,m,E,M,O,A,b,N,I;for(p=f,d=v,E=[[p,d]],M=2;M<i;++M){for(A=n[M],P=A[0],m=A[1],b=u(p,d,P,m),I=!1,O=1;O<b.length;++O)if(N=b[O],!e.isWalkableAt(N[0],N[1])){I=!0;break}I&&(lastValidCoord=n[M-1],E.push(lastValidCoord),p=lastValidCoord[0],d=lastValidCoord[1])}return E.push([c,h]),E}x.smoothenPath=r;function t(e){if(e.length<3)return e;var n=[],i=e[0][0],f=e[0][1],v=e[1][0],c=e[1][1],h=v-i,p=c-f,d,P,m,E,M,O;for(M=Math.sqrt(h*h+p*p),h/=M,p/=M,n.push([i,f]),O=2;O<e.length;O++)d=v,P=c,m=h,E=p,v=e[O][0],c=e[O][1],h=v-d,p=c-P,M=Math.sqrt(h*h+p*p),h/=M,p/=M,(h!==m||p!==E)&&n.push([d,P]);return n.push([v,c]),n}x.compressPath=t},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(6),u=function(o){l(r,o);function r(t,e){var n=o.call(this)||this;return n.x=e.x,n.y=e.y,n.parent=t,n}return r.prototype.getSelectedEntities=function(){return o.prototype.isSelected.call(this)&&!this.isConnectedToPort()?[this]:[]},r.prototype.isConnectedToPort=function(){return this.parent.getPortForPoint(this)!==null},r.prototype.getLink=function(){return this.getParent()},r.prototype.deSerialize=function(t,e){o.prototype.deSerialize.call(this,t,e),this.x=t.x,this.y=t.y},r.prototype.serialize=function(){return _.merge(o.prototype.serialize.call(this),{x:this.x,y:this.y})},r.prototype.remove=function(){this.parent&&this.parent.removePoint(this),o.prototype.remove.call(this)},r.prototype.updateLocation=function(t){this.x=t.x,this.y=t.y},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.isLocked=function(){return o.prototype.isLocked.call(this)||this.getParent().isLocked()},r}(g.BaseModel);x.PointModel=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(t[f]=e[f])}return t};Object.defineProperty(x,"__esModule",{value:!0});var u=a(13),o=y(96486),r=function(t){l(e,t);function e(n,i){var f=t.call(this,i)||this;return f.type=n,f.selected=!1,f}return e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(n){this.parent=n},e.prototype.getSelectedEntities=function(){return this.isSelected()?[this]:[]},e.prototype.deSerialize=function(n,i){t.prototype.deSerialize.call(this,n,i),this.type=n.type,this.selected=n.selected},e.prototype.serialize=function(){return o.merge(t.prototype.serialize.call(this),{type:this.type,selected:this.selected})},e.prototype.getType=function(){return this.type},e.prototype.getID=function(){return this.id},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(n){n===void 0&&(n=!0),this.selected=n,this.iterateListeners(function(i,f){i.selectionChanged&&i.selectionChanged(g({},f,{isSelected:n}))})},e.prototype.remove=function(){this.iterateListeners(function(n,i){n.entityRemoved&&n.entityRemoved(i)})},e}(u.BaseEntity);x.BaseModel=r},function(L,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var l=a(70),g=a(16),u=a(51),o=function(){function r(){}return r.UID=function(){return r.TESTING?(r.TESTING_UID++,""+r.TESTING_UID):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})},r.closest=function(t,e){return document.body.closest?t.closest(e):l(t,e)},r.generateLinePath=function(t,e){return"M"+t.x+","+t.y+" L "+e.x+","+e.y},r.generateCurvePath=function(t,e,n){n===void 0&&(n=0);var i=Math.abs(t.x-e.x)>Math.abs(t.y-e.y),f=i?n:0,v=i?0:n;return"M"+t.x+","+t.y+" C "+(t.x+f)+","+(t.y+v)+`
    `+(e.x-f)+","+(e.y-v)+" "+e.x+","+e.y},r.generateDynamicPath=function(t){var e=u();return e=e.moveto(t[0][0]*g.ROUTING_SCALING_FACTOR,t[0][1]*g.ROUTING_SCALING_FACTOR),t.slice(1).forEach(function(n){e=e.lineto(n[0]*g.ROUTING_SCALING_FACTOR,n[1]*g.ROUTING_SCALING_FACTOR)}),e.print()},r.TESTING=!1,r.TESTING_UID=0,r}();x.Toolkit=o},function(L,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var l=function(){function g(u){this.type=u}return g.prototype.getType=function(){return this.type},g}();x.AbstractFactory=l},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(6),u=y(96486),o=function(r){l(t,r);function t(e,n){e===void 0&&(e="default");var i=r.call(this,e,n)||this;return i.x=0,i.y=0,i.extras={},i.ports={},i}return t.prototype.setPosition=function(e,n){var i=this.x,f=this.y;u.forEach(this.ports,function(v){u.forEach(v.getLinks(),function(c){var h=c.getPointForPort(v);h.x=h.x+e-i,h.y=h.y+n-f})}),this.x=e,this.y=n},t.prototype.getSelectedEntities=function(){var e=r.prototype.getSelectedEntities.call(this);return this.isSelected()&&u.forEach(this.ports,function(n){e=e.concat(u.map(n.getLinks(),function(i){return i.getPointForPort(n)}))}),e},t.prototype.deSerialize=function(e,n){var i=this;r.prototype.deSerialize.call(this,e,n),this.x=e.x,this.y=e.y,this.extras=e.extras,u.forEach(e.ports,function(f){var v=n.getPortFactory(f.type).getNewInstance();v.deSerialize(f,n),i.addPort(v)})},t.prototype.serialize=function(){return u.merge(r.prototype.serialize.call(this),{x:this.x,y:this.y,extras:this.extras,ports:u.map(this.ports,function(e){return e.serialize()})})},t.prototype.doClone=function(e,n){e===void 0&&(e={}),n.ports={},u.forEach(this.ports,function(i){n.addPort(i.clone(e))})},t.prototype.remove=function(){r.prototype.remove.call(this),u.forEach(this.ports,function(e){u.forEach(e.getLinks(),function(n){n.remove()})})},t.prototype.getPortFromID=function(e){for(var n in this.ports)if(this.ports[n].id===e)return this.ports[n];return null},t.prototype.getPort=function(e){return this.ports[e]},t.prototype.getPorts=function(){return this.ports},t.prototype.removePort=function(e){this.ports[e.name]&&(this.ports[e.name].setParent(null),delete this.ports[e.name])},t.prototype.addPort=function(e){return e.setParent(this),this.ports[e.name]=e,e},t.prototype.updateDimensions=function(e){var n=e.width,i=e.height;this.width=n,this.height=i},t}(g.BaseModel);x.NodeModel=o},function(L,x){L.exports={manhattan:function(a,l){return a+l},euclidean:function(a,l){return Math.sqrt(a*a+l*l)},octile:function(a,l){var g=Math.SQRT2-1;return a<l?g*a+l:g*l+a},chebyshev:function(a,l){return Math.max(a,l)}}},function(L,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var l=function(){function g(u,o){this.mouseX=u,this.mouseY=o,this.ms=new Date().getTime()}return g}();x.BaseAction=l},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(6),u=y(96486),o=function(r){l(t,r);function t(e,n,i,f){var v=r.call(this,n,i)||this;return v.name=e,v.links={},v.maximumLinks=f,v}return t.prototype.deSerialize=function(e,n){r.prototype.deSerialize.call(this,e,n),this.name=e.name,this.maximumLinks=e.maximumLinks},t.prototype.serialize=function(){return u.merge(r.prototype.serialize.call(this),{name:this.name,parentNode:this.parent.id,links:u.map(this.links,function(e){return e.id}),maximumLinks:this.maximumLinks})},t.prototype.doClone=function(e,n){e===void 0&&(e={}),n.links={},n.parentNode=this.getParent().clone(e)},t.prototype.getNode=function(){return this.getParent()},t.prototype.getName=function(){return this.name},t.prototype.getMaximumLinks=function(){return this.maximumLinks},t.prototype.setMaximumLinks=function(e){this.maximumLinks=e},t.prototype.removeLink=function(e){delete this.links[e.getID()]},t.prototype.addLink=function(e){this.links[e.getID()]=e},t.prototype.getLinks=function(){return this.links},t.prototype.createLinkModel=function(){if(u.isFinite(this.maximumLinks)){var e=u.size(this.links);if(this.maximumLinks===1&&e>=1)return u.values(this.links)[0];if(e>=this.maximumLinks)return null}return null},t.prototype.updateCoords=function(e){var n=e.x,i=e.y,f=e.width,v=e.height;this.x=n,this.y=i,this.width=f,this.height=v},t.prototype.canLinkToPort=function(e){return!0},t.prototype.isLocked=function(){return r.prototype.isLocked.call(this)||this.getParent().isLocked()},t}(g.BaseModel);x.PortModel=o},function(L,x,a){"use strict";var l=this&&this.__assign||Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r};Object.defineProperty(x,"__esModule",{value:!0});var g=a(7),u=y(96486),o=function(){function r(t){this.listeners={},this.id=t||g.Toolkit.UID(),this.locked=!1}return r.prototype.getID=function(){return this.id},r.prototype.doClone=function(t,e){t===void 0&&(t={})},r.prototype.clone=function(t){if(t===void 0&&(t={}),t[this.id])return t[this.id];var e=u.clone(this);return e.id=g.Toolkit.UID(),e.clearListeners(),t[this.id]=e,this.doClone(t,e),e},r.prototype.clearListeners=function(){this.listeners={}},r.prototype.deSerialize=function(t,e){this.id=t.id},r.prototype.serialize=function(){return{id:this.id}},r.prototype.iterateListeners=function(t){var e={id:g.Toolkit.UID(),firing:!0,entity:this,stopPropagation:function(){e.firing=!1}};for(var n in this.listeners)if(this.listeners.hasOwnProperty(n)){if(!e.firing)return;t(this.listeners[n],e)}},r.prototype.removeListener=function(t){return this.listeners[t]?(delete this.listeners[t],!0):!1},r.prototype.addListener=function(t){var e=g.Toolkit.UID();return this.listeners[e]=t,e},r.prototype.isLocked=function(){return this.locked},r.prototype.setLocked=function(t){t===void 0&&(t=!0),this.locked=t,this.iterateListeners(function(e,n){e.lockChanged&&e.lockChanged(l({},n,{locked:t}))})},r}();x.BaseEntity=o},function(L,x,a){var l=a(15),g=a(4),u=a(10),o=a(2);function r(t){t=t||{},this.heuristic=t.heuristic||u.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}r.prototype.findPath=function(t,e,n,i,f){var v=this.openList=new l(function(d,P){return d.f-P.f}),c=this.startNode=f.getNodeAt(t,e),h=this.endNode=f.getNodeAt(n,i),p;for(this.grid=f,c.g=0,c.f=0,v.push(c),c.opened=!0;!v.empty();){if(p=v.pop(),p.closed=!0,p===h)return g.expandPath(g.backtrace(h));this._identifySuccessors(p)}return[]},r.prototype._identifySuccessors=function(t){var e=this.grid,n=this.heuristic,i=this.openList,f=this.endNode.x,v=this.endNode.y,c,h,p,d,P,m=t.x,E=t.y,M,O,A,b,N,I,C,k=Math.abs,F=Math.max;for(c=this._findNeighbors(t),d=0,P=c.length;d<P;++d)if(h=c[d],p=this._jump(h[0],h[1],m,E),p){if(M=p[0],O=p[1],C=e.getNodeAt(M,O),C.closed)continue;N=u.octile(k(M-m),k(O-E)),I=t.g+N,(!C.opened||I<C.g)&&(C.g=I,C.h=C.h||n(k(M-f),k(O-v)),C.f=C.g+C.h,C.parent=t,C.opened?i.updateItem(C):(i.push(C),C.opened=!0))}},L.exports=r},function(L,x,a){L.exports=a(66)},function(L,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var l=a(68);x.ROUTING_SCALING_FACTOR=5;var g=new l.JumpPointFinder({heuristic:l.Heuristic.manhattan,diagonalMovement:l.DiagonalMovement.Never}),u=function(){function o(r){this.instance=g,this.diagramEngine=r}return o.prototype.calculateDirectPath=function(r,t){var e=this.diagramEngine.getCanvasMatrix(),n=new l.Grid(e);return g.findPath(this.diagramEngine.translateRoutingX(Math.floor(r.x/x.ROUTING_SCALING_FACTOR)),this.diagramEngine.translateRoutingY(Math.floor(r.y/x.ROUTING_SCALING_FACTOR)),this.diagramEngine.translateRoutingX(Math.floor(t.x/x.ROUTING_SCALING_FACTOR)),this.diagramEngine.translateRoutingY(Math.floor(t.y/x.ROUTING_SCALING_FACTOR)),n)},o.prototype.calculateLinkStartEndCoords=function(r,t){var e=t.findIndex(function(v){return r[v[1]][v[0]]===0}),n=t.length-1-t.slice().reverse().findIndex(function(v){return r[v[1]][v[0]]===0});if(!(e===-1||n===-1)){var i=t.slice(0,e),f=t.slice(n);return{start:{x:t[e][0],y:t[e][1]},end:{x:t[n][0],y:t[n][1]},pathToStart:i,pathToEnd:f}}},o.prototype.calculateDynamicPath=function(r,t,e,n,i){var f=this,v=new l.Grid(r),c=g.findPath(t.x,t.y,e.x,e.y,v),h=n.concat(c,i).map(function(p){return[f.diagramEngine.translateRoutingX(p[0],!0),f.diagramEngine.translateRoutingY(p[1],!0)]});return l.Util.compressPath(h)},o}();x.default=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(6),u=y(96486),o=function(r){l(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.offsetX=0,i.offsetY=0,i}return t.prototype.deSerialize=function(e,n){r.prototype.deSerialize.call(this,e,n),this.offsetX=e.offsetX,this.offsetY=e.offsetY},t.prototype.serialize=function(){return u.merge(r.prototype.serialize.call(this),{offsetX:this.offsetX,offsetY:this.offsetY})},t}(g.BaseModel);x.LabelModel=o},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(17),u=y(96486),o=function(r){l(t,r);function t(){var e=r.call(this,"default")||this;return e.offsetY=-23,e}return t.prototype.setLabel=function(e){this.label=e},t.prototype.deSerialize=function(e,n){r.prototype.deSerialize.call(this,e,n),this.label=e.label},t.prototype.serialize=function(){return u.merge(r.prototype.serialize.call(this),{label:this.label})},t}(g.LabelModel);x.DefaultLabelModel=o},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var v in f)f.hasOwnProperty(v)&&(i[v]=f[v])};return function(i,f){n(i,f);function v(){this.constructor=i}i.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}(),g=this&&this.__assign||Object.assign||function(n){for(var i,f=1,v=arguments.length;f<v;f++){i=arguments[f];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n};Object.defineProperty(x,"__esModule",{value:!0});var u=a(21),o=y(96486),r=a(18),t=a(17),e=function(n){l(i,n);function i(f){f===void 0&&(f="default");var v=n.call(this,f)||this;return v.color="rgba(255,255,255,0.5)",v.width=3,v.curvyness=50,v}return i.prototype.serialize=function(){return o.merge(n.prototype.serialize.call(this),{width:this.width,color:this.color,curvyness:this.curvyness})},i.prototype.deSerialize=function(f,v){n.prototype.deSerialize.call(this,f,v),this.color=f.color,this.width=f.width,this.curvyness=f.curvyness},i.prototype.addLabel=function(f){if(f instanceof t.LabelModel)return n.prototype.addLabel.call(this,f);var v=new r.DefaultLabelModel;return v.setLabel(f),n.prototype.addLabel.call(this,v)},i.prototype.setWidth=function(f){this.width=f,this.iterateListeners(function(v,c){v.widthChanged&&v.widthChanged(g({},c,{width:f}))})},i.prototype.setColor=function(f){this.color=f,this.iterateListeners(function(v,c){v.colorChanged&&v.colorChanged(g({},c,{color:f}))})},i}(u.LinkModel);x.DefaultLinkModel=e},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=y(96486),u=a(12),o=a(19),r=function(t){l(e,t);function e(n,i,f,v){f===void 0&&(f=null);var c=t.call(this,i,"default",v)||this;return c.in=n,c.label=f||i,c}return e.prototype.deSerialize=function(n,i){t.prototype.deSerialize.call(this,n,i),this.in=n.in,this.label=n.label},e.prototype.serialize=function(){return g.merge(t.prototype.serialize.call(this),{in:this.in,label:this.label})},e.prototype.link=function(n){var i=this.createLinkModel();return i.setSourcePort(this),i.setTargetPort(n),i},e.prototype.canLinkToPort=function(n){return n instanceof e?this.in!==n.in:!0},e.prototype.createLinkModel=function(){var n=t.prototype.createLinkModel.call(this);return n||new o.DefaultLinkModel},e}(u.PortModel);x.DefaultPortModel=r},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])};return function(n,i){e(n,i);function f(){this.constructor=n}n.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),g=this&&this.__assign||Object.assign||function(e){for(var n,i=1,f=arguments.length;i<f;i++){n=arguments[i];for(var v in n)Object.prototype.hasOwnProperty.call(n,v)&&(e[v]=n[v])}return e};Object.defineProperty(x,"__esModule",{value:!0});var u=a(6),o=a(5),r=y(96486),t=function(e){l(n,e);function n(i,f){i===void 0&&(i="default");var v=e.call(this,i,f)||this;return v.points=[new o.PointModel(v,{x:0,y:0}),new o.PointModel(v,{x:0,y:0})],v.extras={},v.sourcePort=null,v.targetPort=null,v.labels=[],v}return n.prototype.deSerialize=function(i,f){var v=this;e.prototype.deSerialize.call(this,i,f),this.extras=i.extras,this.points=r.map(i.points||[],function(c){var h=new o.PointModel(v,{x:c.x,y:c.y});return h.deSerialize(c,f),h}),r.forEach(i.labels||[],function(c){var h=f.getLabelFactory(c.type).getNewInstance();h.deSerialize(c,f),v.addLabel(h)}),i.target&&this.setTargetPort(this.getParent().getNode(i.target).getPortFromID(i.targetPort)),i.source&&this.setSourcePort(this.getParent().getNode(i.source).getPortFromID(i.sourcePort))},n.prototype.serialize=function(){return r.merge(e.prototype.serialize.call(this),{source:this.sourcePort?this.sourcePort.getParent().id:null,sourcePort:this.sourcePort?this.sourcePort.id:null,target:this.targetPort?this.targetPort.getParent().id:null,targetPort:this.targetPort?this.targetPort.id:null,points:r.map(this.points,function(i){return i.serialize()}),extras:this.extras,labels:r.map(this.labels,function(i){return i.serialize()})})},n.prototype.doClone=function(i,f){i===void 0&&(i={}),f.setPoints(r.map(this.getPoints(),function(v){return v.clone(i)})),this.sourcePort&&f.setSourcePort(this.sourcePort.clone(i)),this.targetPort&&f.setTargetPort(this.targetPort.clone(i))},n.prototype.remove=function(){this.sourcePort&&this.sourcePort.removeLink(this),this.targetPort&&this.targetPort.removeLink(this),e.prototype.remove.call(this)},n.prototype.isLastPoint=function(i){var f=this.getPointIndex(i);return f===this.points.length-1},n.prototype.getPointIndex=function(i){return this.points.indexOf(i)},n.prototype.getPointModel=function(i){for(var f=0;f<this.points.length;f++)if(this.points[f].id===i)return this.points[f];return null},n.prototype.getPortForPoint=function(i){return this.sourcePort!==null&&this.getFirstPoint().getID()===i.getID()?this.sourcePort:this.targetPort!==null&&this.getLastPoint().getID()===i.getID()?this.targetPort:null},n.prototype.getPointForPort=function(i){return this.sourcePort!==null&&this.sourcePort.getID()===i.getID()?this.getFirstPoint():this.targetPort!==null&&this.targetPort.getID()===i.getID()?this.getLastPoint():null},n.prototype.getFirstPoint=function(){return this.points[0]},n.prototype.getLastPoint=function(){return this.points[this.points.length-1]},n.prototype.setSourcePort=function(i){i!==null&&i.addLink(this),this.sourcePort!==null&&this.sourcePort.removeLink(this),this.sourcePort=i,this.iterateListeners(function(f,v){f.sourcePortChanged&&f.sourcePortChanged(g({},v,{port:i}))})},n.prototype.getSourcePort=function(){return this.sourcePort},n.prototype.getTargetPort=function(){return this.targetPort},n.prototype.setTargetPort=function(i){i!==null&&i.addLink(this),this.targetPort!==null&&this.targetPort.removeLink(this),this.targetPort=i,this.iterateListeners(function(f,v){f.targetPortChanged&&f.targetPortChanged(g({},v,{port:i}))})},n.prototype.point=function(i,f){return this.addPoint(this.generatePoint(i,f))},n.prototype.addLabel=function(i){i.setParent(this),this.labels.push(i)},n.prototype.getPoints=function(){return this.points},n.prototype.setPoints=function(i){var f=this;r.forEach(i,function(v){v.setParent(f)}),this.points=i},n.prototype.removePoint=function(i){this.points.splice(this.getPointIndex(i),1)},n.prototype.removePointsBefore=function(i){this.points.splice(0,this.getPointIndex(i))},n.prototype.removePointsAfter=function(i){this.points.splice(this.getPointIndex(i)+1)},n.prototype.removeMiddlePoints=function(){this.points.length>2&&this.points.splice(0,this.points.length-2)},n.prototype.addPoint=function(i,f){return f===void 0&&(f=1),i.setParent(this),this.points.splice(f,0,i),i},n.prototype.generatePoint=function(i,f){return i===void 0&&(i=0),f===void 0&&(f=0),new o.PointModel(this,{x:i,y:f})},n}(u.BaseModel);x.LinkModel=t},function(L,x,a){var l=a(15),g=a(4),u=a(10),o=a(2);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||u.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||u.manhattan:this.heuristic=t.heuristic||u.octile}r.prototype.findPath=function(t,e,n,i,f){var v=function(Z,ht){return Z.f-ht.f},c=new l(v),h=new l(v),p=f.getNodeAt(t,e),d=f.getNodeAt(n,i),P=this.heuristic,m=this.diagonalMovement,E=this.weight,M=Math.abs,O=Math.SQRT2,A,b,N,I,C,k,F,j,G=1,$=2;for(p.g=0,p.f=0,c.push(p),p.opened=G,d.g=0,d.f=0,h.push(d),d.opened=$;!c.empty()&&!h.empty();){for(A=c.pop(),A.closed=!0,b=f.getNeighbors(A,m),I=0,C=b.length;I<C;++I)if(N=b[I],!N.closed){if(N.opened===$)return g.biBacktrace(A,N);k=N.x,F=N.y,j=A.g+(k-A.x===0||F-A.y===0?1:O),(!N.opened||j<N.g)&&(N.g=j,N.h=N.h||E*P(M(k-n),M(F-i)),N.f=N.g+N.h,N.parent=A,N.opened?c.updateItem(N):(c.push(N),N.opened=G))}for(A=h.pop(),A.closed=!0,b=f.getNeighbors(A,m),I=0,C=b.length;I<C;++I)if(N=b[I],!N.closed){if(N.opened===G)return g.biBacktrace(N,A);k=N.x,F=N.y,j=A.g+(k-A.x===0||F-A.y===0?1:O),(!N.opened||j<N.g)&&(N.g=j,N.h=N.h||E*P(M(k-t),M(F-e)),N.f=N.g+N.h,N.parent=A,N.opened?h.updateItem(N):(h.push(N),N.opened=$))}}return[]},L.exports=r},function(L,x,a){var l=a(15),g=a(4),u=a(10),o=a(2);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||u.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||u.manhattan:this.heuristic=t.heuristic||u.octile}r.prototype.findPath=function(t,e,n,i,f){var v=new l(function(F,j){return F.f-j.f}),c=f.getNodeAt(t,e),h=f.getNodeAt(n,i),p=this.heuristic,d=this.diagonalMovement,P=this.weight,m=Math.abs,E=Math.SQRT2,M,O,A,b,N,I,C,k;for(c.g=0,c.f=0,v.push(c),c.opened=!0;!v.empty();){if(M=v.pop(),M.closed=!0,M===h)return g.backtrace(h);for(O=f.getNeighbors(M,d),b=0,N=O.length;b<N;++b)A=O[b],!A.closed&&(I=A.x,C=A.y,k=M.g+(I-M.x===0||C-M.y===0?1:E),(!A.opened||k<A.g)&&(A.g=k,A.h=A.h||P*p(m(I-n),m(C-i)),A.f=A.g+A.h,A.parent=M,A.opened?v.updateItem(A):(v.push(A),A.opened=!0)))}return[]},L.exports=r},function(L,x){function a(l,g,u){this.x=l,this.y=g,this.walkable=u===void 0?!0:u}L.exports=a},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(t[f]=e[f])}return t};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=a(3),r=function(t){l(e,t);function e(n){var i=t.call(this,"srd-node",n)||this;return i.state={},i}return e.prototype.shouldComponentUpdate=function(){return this.props.diagramEngine.canEntityRepaint(this.props.node)},e.prototype.getClassName=function(){return"node "+t.prototype.getClassName.call(this)+(this.props.node.isSelected()?this.bem("--selected"):"")},e.prototype.render=function(){return u.createElement("div",g({},this.getProps(),{"data-nodeid":this.props.node.id,style:{top:this.props.node.y,left:this.props.node.x}}),this.props.children)},e}(o.BaseWidget);x.NodeWidget=r},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var v in f)f.hasOwnProperty(v)&&(i[v]=f[v])};return function(i,f){n(i,f);function v(){this.constructor=i}i.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}(),g=this&&this.__assign||Object.assign||function(n){for(var i,f=1,v=arguments.length;f<v;f++){i=arguments[f];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=y(96486),r=a(25),t=a(3),e=function(n){l(i,n);function i(f){var v=n.call(this,"srd-node-layer",f)||this;return v.updateNodeDimensions=function(){if(!v.props.diagramEngine.nodesRendered){var c=v.props.diagramEngine.getDiagramModel();o.map(c.getNodes(),function(h){h.updateDimensions(v.props.diagramEngine.getNodeDimensions(h))})}},v.state={},v}return i.prototype.componentDidUpdate=function(){this.updateNodeDimensions(),this.props.diagramEngine.nodesRendered=!0},i.prototype.render=function(){var f=this,v=this.props.diagramEngine.getDiagramModel();return u.createElement("div",g({},this.getProps(),{style:{transform:"translate("+v.getOffsetX()+"px,"+v.getOffsetY()+"px) scale("+v.getZoomLevel()/100+")"}}),o.map(v.getNodes(),function(c){return u.createElement(r.NodeWidget,{diagramEngine:f.props.diagramEngine,key:c.id,node:c},f.props.diagramEngine.generateWidgetForNode(c))}))},i}(t.BaseWidget);x.NodeLayerWidget=e},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(3),u=function(o){l(r,o);function r(t){var e=o.call(this,"srd-link",t)||this;return e.state={},e}return r.prototype.shouldComponentUpdate=function(){return this.props.diagramEngine.canEntityRepaint(this.props.link)},r.prototype.render=function(){return this.props.children},r}(g.BaseWidget);x.LinkWidget=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var v in f)f.hasOwnProperty(v)&&(i[v]=f[v])};return function(i,f){n(i,f);function v(){this.constructor=i}i.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}(),g=this&&this.__assign||Object.assign||function(n){for(var i,f=1,v=arguments.length;f<v;f++){i=arguments[f];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=a(27),r=y(96486),t=a(3),e=function(n){l(i,n);function i(f){var v=n.call(this,"srd-link-layer",f)||this;return v.state={},v}return i.prototype.render=function(){var f=this,v=this.props.diagramEngine.getDiagramModel();return u.createElement("svg",g({},this.getProps(),{style:{transform:"translate("+v.getOffsetX()+"px,"+v.getOffsetY()+"px) scale("+v.getZoomLevel()/100+")"}}),this.props.diagramEngine.canvas&&r.map(v.getLinks(),function(c){if(f.props.diagramEngine.nodesRendered&&!f.props.diagramEngine.linksThatHaveInitiallyRendered[c.id]){if(c.sourcePort!==null)try{var h=f.props.diagramEngine.getPortCenter(c.sourcePort);c.points[0].updateLocation(h);var p=f.props.diagramEngine.getPortCoords(c.sourcePort);c.sourcePort.updateCoords(p),f.props.diagramEngine.linksThatHaveInitiallyRendered[c.id]=!0}catch{}if(c.targetPort!==null)try{var h=f.props.diagramEngine.getPortCenter(c.targetPort);r.last(c.points).updateLocation(h);var p=f.props.diagramEngine.getPortCoords(c.targetPort);c.targetPort.updateCoords(p),f.props.diagramEngine.linksThatHaveInitiallyRendered[c.id]=!0}catch{}}var d=f.props.diagramEngine.generateWidgetForLink(c);if(!d)throw new Error("no link generated for type: "+c.getType());return u.createElement(o.LinkWidget,{key:c.getID(),link:c,diagramEngine:f.props.diagramEngine},u.cloneElement(d,{pointAdded:f.props.pointAdded}))}))},i}(t.BaseWidget);x.LinkLayerWidget=e},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(11),u=function(o){l(r,o);function r(t,e){var n=o.call(this,t,e)||this;return n.mouseX2=t,n.mouseY2=e,n}return r.prototype.getBoxDimensions=function(){return{left:this.mouseX2>this.mouseX?this.mouseX:this.mouseX2,top:this.mouseY2>this.mouseY?this.mouseY:this.mouseY2,width:Math.abs(this.mouseX2-this.mouseX),height:Math.abs(this.mouseY2-this.mouseY),right:this.mouseX2<this.mouseX?this.mouseX:this.mouseX2,bottom:this.mouseY2<this.mouseY?this.mouseY:this.mouseY2}},r.prototype.containsElement=function(t,e,n){var i=n.getZoomLevel()/100,f=this.getBoxDimensions();return t*i+n.getOffsetX()>f.left&&t*i+n.getOffsetX()<f.right&&e*i+n.getOffsetY()>f.top&&e*i+n.getOffsetY()<f.bottom},r}(g.BaseAction);x.SelectingAction=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(11),u=function(o){l(r,o);function r(t,e,n){var i=o.call(this,t,e)||this;i.moved=!1,n.enableRepaintEntities(n.getDiagramModel().getSelectedItems());var f=n.getDiagramModel().getSelectedItems();return f=f.filter(function(v){return!n.isModelLocked(v)}),i.selectionModels=f.map(function(v){return{model:v,initialX:v.x,initialY:v.y}}),i}return r}(g.BaseAction);x.MoveItemsAction=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(11),u=function(o){l(r,o);function r(t,e,n){var i=o.call(this,t,e)||this;return i.initialOffsetX=n.getOffsetX(),i.initialOffsetY=n.getOffsetY(),i}return r}(g.BaseAction);x.MoveCanvasAction=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(8),u=function(o){l(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(g.AbstractFactory);x.AbstractNodeFactory=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(t[f]=e[f])}return t};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=a(3),r=function(t){l(e,t);function e(n){var i=t.call(this,"srd-port",n)||this;return i.state={selected:!1},i}return e.prototype.getClassName=function(){return"port "+t.prototype.getClassName.call(this)+(this.state.selected?this.bem("--selected"):"")},e.prototype.render=function(){var n=this;return u.createElement("div",g({},this.getProps(),{onMouseEnter:function(){n.setState({selected:!0})},onMouseLeave:function(){n.setState({selected:!1})},"data-name":this.props.name,"data-nodeid":this.props.node.getID()}))},e}(o.BaseWidget);x.PortWidget=r},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])};return function(n,i){e(n,i);function f(){this.constructor=n}n.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),g=this&&this.__assign||Object.assign||function(e){for(var n,i=1,f=arguments.length;i<f;i++){n=arguments[i];for(var v in n)Object.prototype.hasOwnProperty.call(n,v)&&(e[v]=n[v])}return e};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=a(33),r=a(3),t=function(e){l(n,e);function n(i){return e.call(this,"srd-default-port",i)||this}return n.prototype.getClassName=function(){return e.prototype.getClassName.call(this)+(this.props.model.in?this.bem("--in"):this.bem("--out"))},n.prototype.render=function(){var i=u.createElement(o.PortWidget,{node:this.props.model.getParent(),name:this.props.model.name}),f=u.createElement("div",{className:"name"},this.props.model.label);return u.createElement("div",g({},this.getProps()),this.props.model.in?i:f,this.props.model.in?f:i)},n}(r.BaseWidget);x.DefaultPortLabel=t},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var v in f)f.hasOwnProperty(v)&&(i[v]=f[v])};return function(i,f){n(i,f);function v(){this.constructor=i}i.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}(),g=this&&this.__assign||Object.assign||function(n){for(var i,f=1,v=arguments.length;f<v;f++){i=arguments[f];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=y(96486),r=a(34),t=a(3),e=function(n){l(i,n);function i(f){var v=n.call(this,"srd-default-node",f)||this;return v.state={},v}return i.prototype.generatePort=function(f){return u.createElement(r.DefaultPortLabel,{model:f,key:f.id})},i.prototype.render=function(){return u.createElement("div",g({},this.getProps(),{style:{background:this.props.node.color}}),u.createElement("div",{className:this.bem("__title")},u.createElement("div",{className:this.bem("__name")},this.props.node.name)),u.createElement("div",{className:this.bem("__ports")},u.createElement("div",{className:this.bem("__in")},o.map(this.props.node.getInPorts(),this.generatePort.bind(this))),u.createElement("div",{className:this.bem("__out")},o.map(this.props.node.getOutPorts(),this.generatePort.bind(this)))))},i}(t.BaseWidget);x.DefaultNodeWidget=e},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(8),u=function(o){l(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(g.AbstractFactory);x.AbstractLinkFactory=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,c){v.__proto__=c}||function(v,c){for(var h in c)c.hasOwnProperty(h)&&(v[h]=c[h])};return function(v,c){f(v,c);function h(){this.constructor=v}v.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),g=this&&this.__assign||Object.assign||function(f){for(var v,c=1,h=arguments.length;c<h;c++){v=arguments[c];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(f[p]=v[p])}return f};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=a(5),r=a(7),t=a(16),e=y(96486),n=a(3),i=function(f){l(v,f);function v(c){var h=f.call(this,"srd-default-link",c)||this;return h.addPointToLink=function(p,d){if(!p.shiftKey&&!h.props.diagramEngine.isModelLocked(h.props.link)&&h.props.link.points.length-1<=h.props.diagramEngine.getMaxNumberPointsPerLink()){var P=new o.PointModel(h.props.link,h.props.diagramEngine.getRelativeMousePoint(p));P.setSelected(!0),h.forceUpdate(),h.props.link.addPoint(P,d),h.props.pointAdded(P,p)}},h.findPathAndRelativePositionToRenderLabel=function(p){for(var d=h.refPaths.map(function(E){return E.getTotalLength()}),P=d.reduce(function(E,M){return E+M},0)*(p/(h.props.link.labels.length+1)),m=0;m<h.refPaths.length;){if(P-d[m]<0)return{path:h.refPaths[m],position:P};P-=d[m],m++}},h.calculateLabelPosition=function(p,d){if(h.refLabels[p.id]){var P=h.findPathAndRelativePositionToRenderLabel(d),m=P.path,E=P.position,M={width:h.refLabels[p.id].offsetWidth,height:h.refLabels[p.id].offsetHeight},O=m.getPointAtLength(E),A={x:O.x-M.width/2+p.offsetX,y:O.y-M.height/2+p.offsetY};h.refLabels[p.id].setAttribute("style","transform: translate("+A.x+"px, "+A.y+"px);")}},h.refLabels={},h.refPaths=[],h.state={selected:!1},c.diagramEngine.isSmartRoutingEnabled()&&(h.pathFinding=new t.default(h.props.diagramEngine)),h}return v.prototype.calculateAllLabelPosition=function(){var c=this;e.forEach(this.props.link.labels,function(h,p){c.calculateLabelPosition(h,p+1)})},v.prototype.componentDidUpdate=function(){this.props.link.labels.length>0&&window.requestAnimationFrame(this.calculateAllLabelPosition.bind(this))},v.prototype.componentDidMount=function(){this.props.link.labels.length>0&&window.requestAnimationFrame(this.calculateAllLabelPosition.bind(this))},v.prototype.generatePoint=function(c){var h=this,p=this.props.link.points[c].x,d=this.props.link.points[c].y;return u.createElement("g",{key:"point-"+this.props.link.points[c].id},u.createElement("circle",{cx:p,cy:d,r:5,className:"point "+this.bem("__point")+(this.props.link.points[c].isSelected()?this.bem("--point-selected"):"")}),u.createElement("circle",{onMouseLeave:function(){h.setState({selected:!1})},onMouseEnter:function(){h.setState({selected:!0})},"data-id":this.props.link.points[c].id,"data-linkid":this.props.link.id,cx:p,cy:d,r:15,opacity:0,className:"point "+this.bem("__point")}))},v.prototype.generateLabel=function(c){var h=this,p=this.props.diagramEngine.canvas;return u.createElement("foreignObject",{key:c.id,className:this.bem("__label"),width:p.offsetWidth,height:p.offsetHeight},u.createElement("div",{ref:function(d){return h.refLabels[c.id]=d}},this.props.diagramEngine.getFactoryForLabel(c).generateReactWidget(this.props.diagramEngine,c)))},v.prototype.generateLink=function(c,h,p){var d=this,P=this.props,m=u.cloneElement(P.diagramEngine.getFactoryForLink(this.props.link).generateLinkSegment(this.props.link,this,this.state.selected||this.props.link.isSelected(),c),{ref:function(M){return M&&d.refPaths.push(M)}}),E=u.cloneElement(m,g({},h,{strokeLinecap:"round",onMouseLeave:function(){d.setState({selected:!1})},onMouseEnter:function(){d.setState({selected:!0})},ref:null,"data-linkid":this.props.link.getID(),strokeOpacity:this.state.selected?.1:0,strokeWidth:20,onContextMenu:function(){d.props.diagramEngine.isModelLocked(d.props.link)||(event.preventDefault(),d.props.link.remove())}}));return u.createElement("g",{key:"link-"+p},m,E)},v.prototype.isSmartRoutingApplicable=function(){var c=this.props,h=c.diagramEngine,p=c.link;return!(!h.isSmartRoutingEnabled()||p.points.length!==2||p.sourcePort===null||p.targetPort===null)},v.prototype.render=function(){var c=this,h=this.props.diagramEngine;if(!h.nodesRendered)return null;var p=this.props.link.points,d=[];if(this.isSmartRoutingApplicable()){var P=this.pathFinding.calculateDirectPath(e.first(p),e.last(p)),m=h.getRoutingMatrix(),E=this.pathFinding.calculateLinkStartEndCoords(m,P);if(E){var M=E.start,O=E.end,A=E.pathToStart,b=E.pathToEnd,N=this.pathFinding.calculateDynamicPath(m,M,O,A,b);d.push(this.generateLink(r.Toolkit.generateDynamicPath(N),{onMouseDown:function(ct){c.addPointToLink(ct,1)}},"0"))}}if(d.length===0)if(p.length===2){var I=Math.abs(p[0].x-p[1].x)>Math.abs(p[0].y-p[1].y),C=I?"x":"y",k=50;Math.abs(p[0][C]-p[1][C])<50&&(k=5);var F=p[0],j=p[1];F[C]>j[C]&&(F=p[1],j=p[0]),d.push(this.generateLink(r.Toolkit.generateCurvePath(F,j,this.props.link.curvyness),{onMouseDown:function(ct){c.addPointToLink(ct,1)}},"0")),this.props.link.targetPort===null&&d.push(this.generatePoint(1))}else{for(var G=function(ct){d.push($.generateLink(r.Toolkit.generateLinePath(p[ct],p[ct+1]),{"data-linkid":$.props.link.id,"data-point":ct,onMouseDown:function(Ot){c.addPointToLink(Ot,ct+1)}},ct))},$=this,Z=0;Z<p.length-1;Z++)G(Z);for(var ht=1;ht<p.length-1;ht++)d.push(this.generatePoint(ht));this.props.link.targetPort===null&&d.push(this.generatePoint(p.length-1))}return this.refPaths=[],u.createElement("g",g({},this.getProps()),d,e.map(this.props.link.labels,function(ct){return c.generateLabel(ct)}))},v.defaultProps={color:"black",width:3,link:null,engine:null,smooth:!1,diagramEngine:null},v}(n.BaseWidget);x.DefaultLinkWidget=i},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])};return function(n,i){e(n,i);function f(){this.constructor=n}n.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(20),u=y(96486),o=a(9),r=a(7),t=function(e){l(n,e);function n(i,f){i===void 0&&(i="Untitled"),f===void 0&&(f="rgb(0,192,255)");var v=e.call(this,"default")||this;return v.name=i,v.color=f,v}return n.prototype.addInPort=function(i){return this.addPort(new g.DefaultPortModel(!0,r.Toolkit.UID(),i))},n.prototype.addOutPort=function(i){return this.addPort(new g.DefaultPortModel(!1,r.Toolkit.UID(),i))},n.prototype.deSerialize=function(i,f){e.prototype.deSerialize.call(this,i,f),this.name=i.name,this.color=i.color},n.prototype.serialize=function(){return u.merge(e.prototype.serialize.call(this),{name:this.name,color:this.color})},n.prototype.getInPorts=function(){return u.filter(this.ports,function(i){return i.in})},n.prototype.getOutPorts=function(){return u.filter(this.ports,function(i){return!i.in})},n}(o.NodeModel);x.DefaultNodeModel=t},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(t[f]=e[f])}return t};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=a(3),r=function(t){l(e,t);function e(n){return t.call(this,"srd-default-label",n)||this}return e.prototype.render=function(){return u.createElement("div",g({},this.getProps()),this.props.model.label)},e}(o.BaseWidget);x.DefaultLabelWidget=r},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(8),u=function(o){l(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(g.AbstractFactory);x.AbstractLabelFactory=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])};return function(n,i){e(n,i);function f(){this.constructor=n}n.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(1),u=a(40),o=a(18),r=a(39),t=function(e){l(n,e);function n(){return e.call(this,"default")||this}return n.prototype.generateReactWidget=function(i,f){return g.createElement(r.DefaultLabelWidget,{model:f})},n.prototype.getNewInstance=function(i){return new o.DefaultLabelModel},n}(u.AbstractLabelFactory);x.DefaultLabelFactory=t},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(8),u=function(o){l(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(g.AbstractFactory);x.AbstractPortFactory=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(20),u=a(42),o=function(r){l(t,r);function t(){return r.call(this,"default")||this}return t.prototype.getNewInstance=function(e){return new g.DefaultPortModel(!0,"unknown")},t}(u.AbstractPortFactory);x.DefaultPortFactory=o},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,c){v.__proto__=c}||function(v,c){for(var h in c)c.hasOwnProperty(h)&&(v[h]=c[h])};return function(v,c){f(v,c);function h(){this.constructor=v}v.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),g=this&&this.__assign||Object.assign||function(f){for(var v,c=1,h=arguments.length;c<h;c++){v=arguments[c];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(f[p]=v[p])}return f};Object.defineProperty(x,"__esModule",{value:!0});var u=a(13),o=y(96486),r=a(21),t=a(9),e=a(12),n=a(5),i=function(f){l(v,f);function v(){var c=f.call(this)||this;return c.links={},c.nodes={},c.offsetX=0,c.offsetY=0,c.zoom=100,c.rendered=!1,c.gridSize=0,c}return v.prototype.setGridSize=function(c){c===void 0&&(c=0),this.gridSize=c,this.iterateListeners(function(h,p){h.gridUpdated&&h.gridUpdated(g({},p,{size:c}))})},v.prototype.getGridPosition=function(c){return this.gridSize===0?c:this.gridSize*Math.floor((c+this.gridSize/2)/this.gridSize)},v.prototype.deSerializeDiagram=function(c,h){var p=this;this.deSerialize(c,h),this.offsetX=c.offsetX,this.offsetY=c.offsetY,this.zoom=c.zoom,this.gridSize=c.gridSize,o.forEach(c.nodes,function(d){var P=h.getNodeFactory(d.type).getNewInstance(d);P.setParent(p),P.deSerialize(d,h),p.addNode(P)}),o.forEach(c.links,function(d){var P=h.getLinkFactory(d.type).getNewInstance();P.setParent(p),P.deSerialize(d,h),p.addLink(P)})},v.prototype.serializeDiagram=function(){return o.merge(this.serialize(),{offsetX:this.offsetX,offsetY:this.offsetY,zoom:this.zoom,gridSize:this.gridSize,links:o.map(this.links,function(c){return c.serialize()}),nodes:o.map(this.nodes,function(c){return c.serialize()})})},v.prototype.clearSelection=function(c){c===void 0&&(c=null),o.forEach(this.getSelectedItems(),function(h){c&&c.getID()===h.getID()||h.setSelected(!1)})},v.prototype.getSelectedItems=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];Array.isArray(c)||(c=[c]);var p=[];return p=p.concat(o.flatMap(this.nodes,function(d){return d.getSelectedEntities()})),p=p.concat(o.flatMap(this.links,function(d){return d.getSelectedEntities()})),p=p.concat(o.flatMap(this.links,function(d){return o.flatMap(d.points,function(P){return P.getSelectedEntities()})})),p=o.uniq(p),c.length>0&&(p=o.filter(o.uniq(p),function(d){return!!(o.includes(c,"node")&&d instanceof t.NodeModel||o.includes(c,"link")&&d instanceof r.LinkModel||o.includes(c,"port")&&d instanceof e.PortModel||o.includes(c,"point")&&d instanceof n.PointModel)})),p},v.prototype.setZoomLevel=function(c){this.zoom=c,this.iterateListeners(function(h,p){h.zoomUpdated&&h.zoomUpdated(g({},p,{zoom:c}))})},v.prototype.setOffset=function(c,h){this.offsetX=c,this.offsetY=h,this.iterateListeners(function(p,d){p.offsetUpdated&&p.offsetUpdated(g({},d,{offsetX:c,offsetY:h}))})},v.prototype.setOffsetX=function(c){var h=this;this.offsetX=c,this.iterateListeners(function(p,d){p.offsetUpdated&&p.offsetUpdated(g({},d,{offsetX:c,offsetY:h.offsetY}))})},v.prototype.setOffsetY=function(c){var h=this;this.offsetY=c,this.iterateListeners(function(p,d){p.offsetUpdated&&p.offsetUpdated(g({},d,{offsetX:h.offsetX,offsetY:h.offsetY}))})},v.prototype.getOffsetY=function(){return this.offsetY},v.prototype.getOffsetX=function(){return this.offsetX},v.prototype.getZoomLevel=function(){return this.zoom},v.prototype.getNode=function(c){return c instanceof t.NodeModel?c:this.nodes[c]?this.nodes[c]:null},v.prototype.getLink=function(c){return c instanceof r.LinkModel?c:this.links[c]?this.links[c]:null},v.prototype.addAll=function(){for(var c=this,h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return o.forEach(h,function(d){d instanceof r.LinkModel?c.addLink(d):d instanceof t.NodeModel&&c.addNode(d)}),h},v.prototype.addLink=function(c){var h=this;return c.addListener({entityRemoved:function(){h.removeLink(c)}}),this.links[c.getID()]=c,this.iterateListeners(function(p,d){p.linksUpdated&&p.linksUpdated(g({},d,{link:c,isCreated:!0}))}),c},v.prototype.addNode=function(c){var h=this;return c.addListener({entityRemoved:function(){h.removeNode(c)}}),this.nodes[c.getID()]=c,this.iterateListeners(function(p,d){p.nodesUpdated&&p.nodesUpdated(g({},d,{node:c,isCreated:!0}))}),c},v.prototype.removeLink=function(c){c=this.getLink(c),delete this.links[c.getID()],this.iterateListeners(function(h,p){h.linksUpdated&&h.linksUpdated(g({},p,{link:c,isCreated:!1}))})},v.prototype.removeNode=function(c){c=this.getNode(c),delete this.nodes[c.getID()],this.iterateListeners(function(h,p){h.nodesUpdated&&h.nodesUpdated(g({},p,{node:c,isCreated:!1}))})},v.prototype.getLinks=function(){return this.links},v.prototype.getNodes=function(){return this.nodes},v}(u.BaseEntity);x.DiagramModel=i},function(L,x,a){"use strict";function l(g){for(var u in g)x.hasOwnProperty(u)||(x[u]=g[u])}Object.defineProperty(x,"__esModule",{value:!0}),l(a(7)),l(a(13)),l(a(49)),l(a(38)),l(a(20)),l(a(19)),l(a(18)),l(a(48)),l(a(47)),l(a(43)),l(a(41)),l(a(37)),l(a(39)),l(a(35)),l(a(34)),l(a(8)),l(a(40)),l(a(36)),l(a(32)),l(a(42)),l(a(16)),l(a(11)),l(a(31)),l(a(30)),l(a(29)),l(a(6)),l(a(44)),l(a(21)),l(a(9)),l(a(5)),l(a(12)),l(a(17)),l(a(46)),l(a(27)),l(a(25)),l(a(33)),l(a(3)),l(a(28)),l(a(26))},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,E){m.__proto__=E}||function(m,E){for(var M in E)E.hasOwnProperty(M)&&(m[M]=E[M])};return function(m,E){P(m,E);function M(){this.constructor=m}m.prototype=E===null?Object.create(E):(M.prototype=E.prototype,new M)}}(),g=this&&this.__assign||Object.assign||function(P){for(var m,E=1,M=arguments.length;E<M;E++){m=arguments[E];for(var O in m)Object.prototype.hasOwnProperty.call(m,O)&&(P[O]=m[O])}return P};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=y(96486),r=a(28),t=a(26),e=a(7),n=a(31),i=a(30),f=a(29),v=a(9),c=a(5),h=a(12),p=a(3),d=function(P){l(m,P);function m(E){var M=P.call(this,"srd-diagram",E)||this;return M.onKeyUpPointer=null,M.onMouseMove=M.onMouseMove.bind(M),M.onMouseUp=M.onMouseUp.bind(M),M.state={action:null,wasMoved:!1,renderedNodes:!1,windowListener:null,diagramEngineListener:null,document:null},M}return m.prototype.componentWillUnmount=function(){this.props.diagramEngine.removeListener(this.state.diagramEngineListener),this.props.diagramEngine.setCanvas(null),window.removeEventListener("keyup",this.onKeyUpPointer),window.removeEventListener("mouseUp",this.onMouseUp),window.removeEventListener("mouseMove",this.onMouseMove)},m.prototype.componentWillReceiveProps=function(E){var M=this;if(this.props.diagramEngine!==E.diagramEngine){this.props.diagramEngine.removeListener(this.state.diagramEngineListener);var O=E.diagramEngine.addListener({repaintCanvas:function(){return M.forceUpdate()}});this.setState({diagramEngineListener:O})}},m.prototype.componentWillUpdate=function(E){this.props.diagramEngine.diagramModel.id!==E.diagramEngine.diagramModel.id&&(this.setState({renderedNodes:!1}),E.diagramEngine.diagramModel.rendered=!0),E.diagramEngine.diagramModel.rendered||(this.setState({renderedNodes:!1}),E.diagramEngine.diagramModel.rendered=!0)},m.prototype.componentDidUpdate=function(){this.state.renderedNodes||this.setState({renderedNodes:!0})},m.prototype.componentDidMount=function(){var E=this;this.onKeyUpPointer=this.onKeyUp.bind(this),this.setState({document,renderedNodes:!0,diagramEngineListener:this.props.diagramEngine.addListener({repaintCanvas:function(){E.forceUpdate()}})}),window.addEventListener("keyup",this.onKeyUpPointer,!1),window.focus()},m.prototype.getMouseElement=function(E){var M=E.target,O=this.props.diagramEngine.diagramModel,A=e.Toolkit.closest(M,".port[data-name]");if(A){var b=e.Toolkit.closest(M,".node[data-nodeid]");return{model:O.getNode(b.getAttribute("data-nodeid")).getPort(A.getAttribute("data-name")),element:A}}return A=e.Toolkit.closest(M,".point[data-id]"),A?{model:O.getLink(A.getAttribute("data-linkid")).getPointModel(A.getAttribute("data-id")),element:A}:(A=e.Toolkit.closest(M,"[data-linkid]"),A?{model:O.getLink(A.getAttribute("data-linkid")),element:A}:(A=e.Toolkit.closest(M,".node[data-nodeid]"),A?{model:O.getNode(A.getAttribute("data-nodeid")),element:A}:null))},m.prototype.fireAction=function(){this.state.action&&this.props.actionStillFiring&&this.props.actionStillFiring(this.state.action)},m.prototype.stopFiringAction=function(E){this.props.actionStoppedFiring&&!E&&this.props.actionStoppedFiring(this.state.action),this.setState({action:null})},m.prototype.startFiringAction=function(E){var M=!0;this.props.actionStartedFiring&&(M=this.props.actionStartedFiring(E)),M&&this.setState({action:E})},m.prototype.onMouseMove=function(E){var M=this,O=this.props.diagramEngine,A=O.getDiagramModel();if(this.state.action instanceof f.SelectingAction){var b=O.getRelativePoint(E.clientX,E.clientY);o.forEach(A.getNodes(),function(k){M.state.action.containsElement(k.x,k.y,A)&&k.setSelected(!0)}),o.forEach(A.getLinks(),function(k){var F=!0;o.forEach(k.points,function(j){M.state.action.containsElement(j.x,j.y,A)?j.setSelected(!0):F=!1}),F&&k.setSelected(!0)}),this.state.action.mouseX2=b.x,this.state.action.mouseY2=b.y,this.fireAction(),this.setState({action:this.state.action});return}else if(this.state.action instanceof i.MoveItemsAction){var N=E.clientX-this.state.action.mouseX,I=E.clientY-this.state.action.mouseY,C=A.getZoomLevel()/100;o.forEach(this.state.action.selectionModels,function(k){k.model instanceof v.NodeModel||k.model instanceof c.PointModel&&!k.model.isConnectedToPort()?(k.model.x=A.getGridPosition(k.initialX+N/C),k.model.y=A.getGridPosition(k.initialY+I/C),k.model instanceof v.NodeModel&&o.forEach(k.model.getPorts(),function(F){var j=M.props.diagramEngine.getPortCoords(F);F.updateCoords(j)}),O.isSmartRoutingEnabled()&&O.calculateRoutingMatrix()):k.model instanceof c.PointModel&&(k.model.x=k.initialX+A.getGridPosition(N/C),k.model.y=k.initialY+A.getGridPosition(I/C))}),O.isSmartRoutingEnabled()&&O.calculateCanvasMatrix(),this.fireAction(),this.state.wasMoved?this.forceUpdate():this.setState({wasMoved:!0})}else this.state.action instanceof n.MoveCanvasAction&&this.props.allowCanvasTranslation&&(A.setOffset(this.state.action.initialOffsetX+(E.clientX-this.state.action.mouseX),this.state.action.initialOffsetY+(E.clientY-this.state.action.mouseY)),this.fireAction(),this.forceUpdate())},m.prototype.onKeyUp=function(E){var M=this;this.props.deleteKeys.indexOf(E.keyCode)!==-1&&(o.forEach(this.props.diagramEngine.getDiagramModel().getSelectedItems(),function(O){M.props.diagramEngine.isModelLocked(O)||O.remove()}),this.forceUpdate())},m.prototype.onMouseUp=function(E){var M=this,O=this.props.diagramEngine;if(this.state.action instanceof i.MoveItemsAction){var A=this.getMouseElement(E);o.forEach(this.state.action.selectionModels,function(b){if(b.model instanceof c.PointModel&&A&&A.model instanceof h.PortModel&&!O.isModelLocked(A.model)){var N=b.model.getLink();if(N.getTargetPort()!==null)if(N.getTargetPort()!==A.model&&N.getSourcePort()!==A.model){var I=N.getTargetPort(),C=N.clone({});C.setSourcePort(A.model),C.setTargetPort(I),N.setTargetPort(A.model),I.removeLink(N),C.removePointsBefore(C.getPoints()[N.getPointIndex(b.model)]),N.removePointsAfter(b.model),O.getDiagramModel().addLink(C)}else N.getTargetPort()===A.model?N.removePointsAfter(b.model):N.getSourcePort()===A.model&&N.removePointsBefore(b.model);else N.setTargetPort(A.model);delete M.props.diagramEngine.linksThatHaveInitiallyRendered[N.getID()]}}),!this.props.allowLooseLinks&&this.state.wasMoved&&o.forEach(this.state.action.selectionModels,function(b){if(b.model instanceof c.PointModel){var N=b.model,I=N.getLink();(I.getSourcePort()===null||I.getTargetPort()===null)&&I.remove()}}),o.forEach(this.state.action.selectionModels,function(b){if(b.model instanceof c.PointModel){var N=b.model.getLink(),I=N.getSourcePort(),C=N.getTargetPort();I!==null&&C!==null&&(I.canLinkToPort(C)?o.some(o.values(C.getLinks()),function(k){return k!==N&&(k.getSourcePort()===I||k.getTargetPort()===I)})&&N.remove():N.remove())}}),O.clearRepaintEntities(),this.stopFiringAction(!this.state.wasMoved)}else O.clearRepaintEntities(),this.stopFiringAction();this.state.document.removeEventListener("mousemove",this.onMouseMove),this.state.document.removeEventListener("mouseup",this.onMouseUp)},m.prototype.drawSelectionBox=function(){var E=this.state.action.getBoxDimensions();return u.createElement("div",{className:this.bem("__selector"),style:{top:E.top,left:E.left,width:E.width,height:E.height}})},m.prototype.render=function(){var E=this,M=this.props.diagramEngine;M.setMaxNumberPointsPerLink(this.props.maxNumberPointsPerLink),M.setSmartRoutingStatus(this.props.smartRouting);var O=M.getDiagramModel();return u.createElement("div",g({},this.getProps(),{ref:function(A){A&&E.props.diagramEngine.setCanvas(A)},onWheel:function(A){if(E.props.allowCanvasZoom){A.preventDefault(),A.stopPropagation();var b=O.getZoomLevel()/100,N=E.props.inverseZoom?-A.deltaY:A.deltaY;A.ctrlKey&&N%1!==0?N/=3:N/=60,O.getZoomLevel()+N>10&&O.setZoomLevel(O.getZoomLevel()+N);var I=O.getZoomLevel()/100,C=A.currentTarget.getBoundingClientRect(),k=C.width,F=C.height,j=k*I-k*b,G=F*I-F*b,$=A.clientX-C.left,Z=A.clientY-C.top,ht=($-O.getOffsetX())/b/k,ct=(Z-O.getOffsetY())/b/F;O.setOffset(O.getOffsetX()-j*ht,O.getOffsetY()-G*ct),M.enableRepaintEntities([]),E.forceUpdate()}},onMouseDown:function(A){E.setState(g({},E.state,{wasMoved:!1})),M.clearRepaintEntities();var b=E.getMouseElement(A);if(b===null)if(A.shiftKey){var N=M.getRelativePoint(A.clientX,A.clientY);E.startFiringAction(new f.SelectingAction(N.x,N.y))}else O.clearSelection(),E.startFiringAction(new n.MoveCanvasAction(A.clientX,A.clientY,O));else if(b.model instanceof h.PortModel)if(E.props.diagramEngine.isModelLocked(b.model))O.clearSelection();else{var N=M.getRelativeMousePoint(A),I=b.model,C=I.createLinkModel();C.setSourcePort(I),C&&(C.removeMiddlePoints(),C.getSourcePort()!==I&&C.setSourcePort(I),C.setTargetPort(null),C.getFirstPoint().updateLocation(N),C.getLastPoint().updateLocation(N),O.clearSelection(),C.getLastPoint().setSelected(!0),O.addLink(C),E.startFiringAction(new i.MoveItemsAction(A.clientX,A.clientY,M)))}else!A.shiftKey&&!b.model.isSelected()&&O.clearSelection(),b.model.setSelected(!0),E.startFiringAction(new i.MoveItemsAction(A.clientX,A.clientY,M));E.state.document.addEventListener("mousemove",E.onMouseMove),E.state.document.addEventListener("mouseup",E.onMouseUp)}}),this.state.renderedNodes&&u.createElement(r.LinkLayerWidget,{diagramEngine:M,pointAdded:function(A,b){E.state.document.addEventListener("mousemove",E.onMouseMove),E.state.document.addEventListener("mouseup",E.onMouseUp),b.stopPropagation(),O.clearSelection(A),E.setState({action:new i.MoveItemsAction(b.clientX,b.clientY,M)})}}),u.createElement(t.NodeLayerWidget,{diagramEngine:M}),this.state.action instanceof f.SelectingAction&&this.drawSelectionBox())},m.defaultProps={diagramEngine:null,allowLooseLinks:!0,allowCanvasTranslation:!0,allowCanvasZoom:!0,inverseZoom:!1,maxNumberPointsPerLink:1/0,smartRouting:!1,deleteKeys:[46,8]},m}(p.BaseWidget);x.DiagramWidget=d},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])};return function(n,i){e(n,i);function f(){this.constructor=n}n.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(38),u=a(1),o=a(35),r=a(32),t=function(e){l(n,e);function n(){return e.call(this,"default")||this}return n.prototype.generateReactWidget=function(i,f){return u.createElement(o.DefaultNodeWidget,{node:f,diagramEngine:i})},n.prototype.getNewInstance=function(i){return new g.DefaultNodeModel},n}(r.AbstractNodeFactory);x.DefaultNodeFactory=t},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])};return function(n,i){e(n,i);function f(){this.constructor=n}n.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(1),u=a(37),o=a(36),r=a(19),t=function(e){l(n,e);function n(){return e.call(this,"default")||this}return n.prototype.generateReactWidget=function(i,f){return g.createElement(u.DefaultLinkWidget,{link:f,diagramEngine:i})},n.prototype.getNewInstance=function(i){return new r.DefaultLinkModel},n.prototype.generateLinkSegment=function(i,f,v,c){return g.createElement("path",{className:v?f.bem("--path-selected"):"",strokeWidth:i.width,stroke:i.color,d:c})},n}(o.AbstractLinkFactory);x.DefaultLinkFactory=t},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var P in d)d.hasOwnProperty(P)&&(p[P]=d[P])};return function(p,d){h(p,d);function P(){this.constructor=p}p.prototype=d===null?Object.create(d):(P.prototype=d.prototype,new P)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(13),u=a(44),o=y(96486),r=a(9),t=a(5),e=a(45),n=a(16),i=a(43),f=a(41),v=a(7),c=function(h){l(p,h);function p(){var d=h.call(this)||this;return d.canvasMatrix=[],d.routingMatrix=[],d.hAdjustmentFactor=0,d.vAdjustmentFactor=0,d.calculateMatrixDimensions=function(){var P=o.values(d.diagramModel.nodes).map(function(F){return{x:F.x,width:F.width,y:F.y,height:F.height}}),m=o.values(d.diagramModel.links),E=o.flatMap(m.map(function(F){return[F.sourcePort,F.targetPort]})).filter(function(F){return F!==null}).map(function(F){return{x:F.x,width:F.width,y:F.y,height:F.height}}),M=o.flatMap(m.map(function(F){return F.points})).map(function(F){return{x:F.x,width:0,y:F.y,height:0}}),O=d.canvas,A=Math.floor(Math.min(o.minBy(o.concat(P,E,M),function(F){return F.x}).x,0)/n.ROUTING_SCALING_FACTOR)*n.ROUTING_SCALING_FACTOR,b=o.maxBy(o.concat(P,E,M),function(F){return F.x+F.width}),N=Math.max(b.x+b.width,O.offsetWidth),I=Math.floor(Math.min(o.minBy(o.concat(P,E,M),function(F){return F.y}).y,0)/n.ROUTING_SCALING_FACTOR)*n.ROUTING_SCALING_FACTOR,C=o.maxBy(o.concat(P,E,M),function(F){return F.y+F.height}),k=Math.max(C.y+C.height,O.offsetHeight);return{width:Math.ceil(Math.abs(A)+N),hAdjustmentFactor:Math.abs(A)/n.ROUTING_SCALING_FACTOR+1,height:Math.ceil(Math.abs(I)+k),vAdjustmentFactor:Math.abs(I)/n.ROUTING_SCALING_FACTOR+1}},d.markNodes=function(P){o.values(d.diagramModel.nodes).forEach(function(m){for(var E=Math.floor(m.x/n.ROUTING_SCALING_FACTOR),M=Math.ceil((m.x+m.width)/n.ROUTING_SCALING_FACTOR),O=Math.floor(m.y/n.ROUTING_SCALING_FACTOR),A=Math.ceil((m.y+m.height)/n.ROUTING_SCALING_FACTOR),b=E-1;b<=M+1;b++)for(var N=O-1;N<A+1;N++)d.markMatrixPoint(P,d.translateRoutingX(b),d.translateRoutingY(N))})},d.markPorts=function(P){var m=o.flatMap(o.values(d.diagramModel.links).map(function(E){return[].concat(E.sourcePort,E.targetPort)}));m.filter(function(E){return E!==null}).forEach(function(E){for(var M=Math.floor(E.x/n.ROUTING_SCALING_FACTOR),O=Math.ceil((E.x+E.width)/n.ROUTING_SCALING_FACTOR),A=Math.floor(E.y/n.ROUTING_SCALING_FACTOR),b=Math.ceil((E.y+E.height)/n.ROUTING_SCALING_FACTOR),N=M-1;N<=O+1;N++)for(var I=A-1;I<b+1;I++)d.markMatrixPoint(P,d.translateRoutingX(N),d.translateRoutingY(I))})},d.markMatrixPoint=function(P,m,E){P[E]!==void 0&&P[E][m]!==void 0&&(P[E][m]=1)},d.diagramModel=new u.DiagramModel,d.nodeFactories={},d.linkFactories={},d.portFactories={},d.labelFactories={},d.canvas=null,d.paintableWidgets=null,d.linksThatHaveInitiallyRendered={},v.Toolkit.TESTING&&(v.Toolkit.TESTING_UID=0,window&&(window.diagram_instance=d)),d}p.prototype.installDefaultFactories=function(){this.registerNodeFactory(new e.DefaultNodeFactory),this.registerLinkFactory(new e.DefaultLinkFactory),this.registerPortFactory(new i.DefaultPortFactory),this.registerLabelFactory(new f.DefaultLabelFactory)},p.prototype.repaintCanvas=function(){this.iterateListeners(function(d){d.repaintCanvas&&d.repaintCanvas()})},p.prototype.clearRepaintEntities=function(){this.paintableWidgets=null},p.prototype.enableRepaintEntities=function(d){var P=this;this.paintableWidgets={},d.forEach(function(m){m instanceof r.NodeModel&&o.forEach(m.getPorts(),function(E){o.forEach(E.getLinks(),function(M){P.paintableWidgets[M.getID()]=!0})}),m instanceof t.PointModel&&(P.paintableWidgets[m.getLink().getID()]=!0),P.paintableWidgets[m.getID()]=!0})},p.prototype.isModelLocked=function(d){return this.diagramModel.isLocked()?!0:d.isLocked()},p.prototype.recalculatePortsVisually=function(){this.nodesRendered=!1,this.linksThatHaveInitiallyRendered={}},p.prototype.canEntityRepaint=function(d){return this.paintableWidgets===null?!0:this.paintableWidgets[d.getID()]!==void 0},p.prototype.setCanvas=function(d){this.canvas=d},p.prototype.setDiagramModel=function(d){this.diagramModel=d,this.recalculatePortsVisually()},p.prototype.getDiagramModel=function(){return this.diagramModel};//!-------------- FACTORIES ------------
return p.prototype.getNodeFactories=function(){return this.nodeFactories},p.prototype.getLinkFactories=function(){return this.linkFactories},p.prototype.getLabelFactories=function(){return this.labelFactories},p.prototype.registerLabelFactory=function(d){this.labelFactories[d.getType()]=d,this.iterateListeners(function(P){P.labelFactoriesUpdated&&P.labelFactoriesUpdated()})},p.prototype.registerPortFactory=function(d){this.portFactories[d.getType()]=d,this.iterateListeners(function(P){P.portFactoriesUpdated&&P.portFactoriesUpdated()})},p.prototype.registerNodeFactory=function(d){this.nodeFactories[d.getType()]=d,this.iterateListeners(function(P){P.nodeFactoriesUpdated&&P.nodeFactoriesUpdated()})},p.prototype.registerLinkFactory=function(d){this.linkFactories[d.getType()]=d,this.iterateListeners(function(P){P.linkFactoriesUpdated&&P.linkFactoriesUpdated()})},p.prototype.getPortFactory=function(d){if(this.portFactories[d])return this.portFactories[d];throw new Error("cannot find factory for port of type: ["+d+"]")},p.prototype.getNodeFactory=function(d){if(this.nodeFactories[d])return this.nodeFactories[d];throw new Error("cannot find factory for node of type: ["+d+"]")},p.prototype.getLinkFactory=function(d){if(this.linkFactories[d])return this.linkFactories[d];throw new Error("cannot find factory for link of type: ["+d+"]")},p.prototype.getLabelFactory=function(d){if(this.labelFactories[d])return this.labelFactories[d];throw new Error("cannot find factory for label of type: ["+d+"]")},p.prototype.getFactoryForNode=function(d){return this.getNodeFactory(d.getType())},p.prototype.getFactoryForLink=function(d){return this.getLinkFactory(d.getType())},p.prototype.getFactoryForLabel=function(d){return this.getLabelFactory(d.getType())},p.prototype.generateWidgetForLink=function(d){var P=this.getFactoryForLink(d);if(!P)throw new Error("Cannot find link factory for link: "+d.getType());return P.generateReactWidget(this,d)},p.prototype.generateWidgetForNode=function(d){var P=this.getFactoryForNode(d);if(!P)throw new Error("Cannot find widget factory for node: "+d.getType());return P.generateReactWidget(this,d)},p.prototype.getRelativeMousePoint=function(d){var P=this.getRelativePoint(d.clientX,d.clientY);return{x:(P.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100),y:(P.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)}},p.prototype.getRelativePoint=function(d,P){var m=this.canvas.getBoundingClientRect();return{x:d-m.left,y:P-m.top}},p.prototype.getNodeElement=function(d){var P=this.canvas.querySelector('.node[data-nodeid="'+d.getID()+'"]');if(P===null)throw new Error("Cannot find Node element with nodeID: ["+d.getID()+"]");return P},p.prototype.getNodePortElement=function(d){var P=this.canvas.querySelector('.port[data-name="'+d.getName()+'"][data-nodeid="'+d.getParent().getID()+'"]');if(P===null)throw new Error("Cannot find Node Port element with nodeID: ["+d.getParent().getID()+"] and name: ["+d.getName()+"]");return P},p.prototype.getPortCenter=function(d){var P=this.getNodePortElement(d),m=P.getBoundingClientRect(),E=this.getRelativePoint(m.left,m.top);return{x:P.offsetWidth/2+(E.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100),y:P.offsetHeight/2+(E.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)}},p.prototype.getPortCoords=function(d){var P=this.getNodePortElement(d),m=P.getBoundingClientRect(),E=this.canvas.getBoundingClientRect();return{x:(m.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100)-E.left,y:(m.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)-E.top,width:m.width,height:m.height}},p.prototype.getNodeDimensions=function(d){if(!this.canvas)return{width:0,height:0};var P=this.getNodeElement(d),m=P.getBoundingClientRect();return{width:m.width,height:m.height}},p.prototype.getMaxNumberPointsPerLink=function(){return this.maxNumberPointsPerLink},p.prototype.setMaxNumberPointsPerLink=function(d){this.maxNumberPointsPerLink=d},p.prototype.isSmartRoutingEnabled=function(){return!!this.smartRouting},p.prototype.setSmartRoutingStatus=function(d){this.smartRouting=d},p.prototype.getCanvasMatrix=function(){return this.canvasMatrix.length===0&&this.calculateCanvasMatrix(),this.canvasMatrix},p.prototype.calculateCanvasMatrix=function(){var d=this.calculateMatrixDimensions(),P=d.width,m=d.hAdjustmentFactor,E=d.height,M=d.vAdjustmentFactor;this.hAdjustmentFactor=m,this.vAdjustmentFactor=M;var O=Math.ceil(P/n.ROUTING_SCALING_FACTOR),A=Math.ceil(E/n.ROUTING_SCALING_FACTOR);this.canvasMatrix=o.range(0,A).map(function(){return new Array(O).fill(0)})},p.prototype.getRoutingMatrix=function(){return this.routingMatrix.length===0&&this.calculateRoutingMatrix(),this.routingMatrix},p.prototype.calculateRoutingMatrix=function(){var d=o.cloneDeep(this.getCanvasMatrix());this.markNodes(d),this.markPorts(d),this.routingMatrix=d},p.prototype.translateRoutingX=function(d,P){return P===void 0&&(P=!1),d+this.hAdjustmentFactor*(P?-1:1)},p.prototype.translateRoutingY=function(d,P){return P===void 0&&(P=!1),d+this.vAdjustmentFactor*(P?-1:1)},p.prototype.zoomToFit=function(){var d=this.canvas.clientWidth/this.canvas.scrollWidth,P=this.canvas.clientHeight/this.canvas.scrollHeight,m=d<P?d:P;this.diagramModel.setZoomLevel(this.diagramModel.getZoomLevel()*m),this.diagramModel.setOffset(0,0),this.repaintCanvas()},p}(g.BaseEntity);x.DiagramEngine=c},function(L,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var l=function(){function f(v,c){var h=[],p=!0,d=!1,P=void 0;try{for(var m=v[Symbol.iterator](),E;!(p=(E=m.next()).done)&&(h.push(E.value),!(c&&h.length===c));p=!0);}catch(M){d=!0,P=M}finally{try{!p&&m.return&&m.return()}finally{if(d)throw P}}return h}return function(v,c){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return f(v,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(v){return v*v},u=function(v,c){var h=l(v,2),p=h[0],d=h[1],P=l(c,2),m=P[0],E=P[1];return Math.sqrt(g(p-m)+g(d-E))},o=function(v,c){var h=u(v,c);return h==0?1/0:g(h)/(2*Math.abs(v[1]-c[1]))},r=function(v,c,h){var p=(v[0]-h[0])*(c[1]-h[1])-(c[0]-h[0])*(v[1]-h[1]);if(p==0)return[1/0,1/0];var d=(((v[0]-h[0])*(v[0]+h[0])+(v[1]-h[1])*(v[1]+h[1]))/2*(c[1]-h[1])-((c[0]-h[0])*(c[0]+h[0])+(c[1]-h[1])*(c[1]+h[1]))/2*(v[1]-h[1]))/p,P=(((c[0]-h[0])*(c[0]+h[0])+(c[1]-h[1])*(c[1]+h[1]))/2*(v[0]-h[0])-((v[0]-h[0])*(v[0]+h[0])+(v[1]-h[1])*(v[1]+h[1]))/2*(c[0]-h[0]))/p;return[d,P]},t=function(v,c,h){if(v[1]===c[1])return[(v[0]+c[0])/2,(v[0]+c[0])/2];var p=(v[1]*c[0]-v[0]*c[1]+v[0]*h-c[0]*h+Math.sqrt((v[0]*v[0]+v[1]*v[1]-2*v[0]*c[0]+c[0]*c[0]-2*v[1]*c[1]+c[1]*c[1])*(v[1]*c[1]-v[1]*h-c[1]*h+h*h)))/(v[1]-c[1]),d=(v[1]*c[0]-v[0]*c[1]+v[0]*h-c[0]*h-Math.sqrt((v[0]*v[0]+v[1]*v[1]-2*v[0]*c[0]+c[0]*c[0]-2*v[1]*c[1]+c[1]*c[1])*(v[1]*c[1]-v[1]*h-c[1]*h+h*h)))/(v[1]-c[1]);return p<d?[p,d]:[d,p]},e=function(v,c){var h=arguments.length<=2||arguments[2]===void 0?1e-10:arguments[2],p=c.ps[0]-v.ps[0],d=c.ps[1]-v.ps[1];if(v.m==1/0)return v.hp*(c.m*p-d)<=h&&c.vec[0]*p<=h;if(c.m==1/0)return c.hp*(v.m*p-d)>=-h&&v.vec[0]*p>=-h;var P=c.vec[0]*v.vec[1]-c.vec[1]*v.vec[0];if(P===0)return!1;var m=(d*c.vec[0]-p*c.vec[1])/P,E=(d*v.vec[0]-p*v.vec[1])/P;return m>=-h&&E>=h||m>=h&&E>=-h},n=function(v,c){return v.map(function(h){return{x:h.x*c[0]+h.y*c[2]+c[4],y:h.x*c[1]+h.y*c[3]+c[5]}})},i=function(v,c,h,p){var d=Math.PI/180,P=1e-10,m=Math.cos(h*d),E=Math.sin(h*d),M=[v*(p[0]*m+p[2]*E),v*(p[1]*m+p[3]*E),c*(-p[0]*E+p[2]*m),c*(-p[1]*E+p[3]*m)],O=M[0]*M[0]+M[2]*M[2],A=M[1]*M[1]+M[3]*M[3],b=((M[0]-M[3])*(M[0]-M[3])+(M[2]+M[1])*(M[2]+M[1]))*((M[0]+M[3])*(M[0]+M[3])+(M[2]-M[1])*(M[2]-M[1])),N=(O+A)/2;if(b<P*N)return{rx:Math.sqrt(N),ry:Math.sqrt(N),ax:0,isDegenerate:!1};var I=M[0]*M[1]+M[2]*M[3];b=Math.sqrt(b);var C=N+b/2,k=N-b/2,F=void 0,j=void 0,G=void 0;return F=Math.abs(I)<P&&Math.abs(C-A)<P?90:Math.atan(Math.abs(I)>Math.abs(C-A)?(C-O)/I:I/(C-A))*180/Math.PI,F>=0?(j=Math.sqrt(C),G=Math.sqrt(k)):(F+=90,j=Math.sqrt(k),G=Math.sqrt(C)),{rx:j,ry:G,ax:F,isDegenerate:j<P*G||G<P*j}};x.default={distPointToPoint:u,distPointToParabol:o,circumCenter:r,parabolsCrossX:t,doHalflinesCross:e,matrixTransform:n,transformEllipse:i},L.exports=x.default},function(L,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var l=function(){function o(r,t){var e=[],n=!0,i=!1,f=void 0;try{for(var v=r[Symbol.iterator](),c;!(n=(c=v.next()).done)&&(e.push(c.value),!(t&&e.length===t));n=!0);}catch(h){i=!0,f=h}finally{try{!n&&v.return&&v.return()}finally{if(i)throw f}}return e}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return o(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=a(50),u=function o(r){var t=r||[],e=function(m,E){var M=m.slice(0,m.length);return M.push(E),M},n=function(m,E){var M=l(m,2),O=M[0],A=M[1],b=l(E,2),N=b[0],I=b[1];return O===N&&A===I},i=function(m,E){for(var M=m.length;m.charAt(M-1)==="0";)M=M-1;return m.charAt(M-1)==="."&&(M=M-1),m.substr(0,M)},f=function(m,E){var M=m.toFixed(E);return i(M)},v=function(m){var E=m.command,M=m.params,O=M.map(function(A){return f(A,6)});return E+" "+O.join(" ")},c=function(m,E){var M=m.command,O=m.params;switch(M){case"M":return[O[0],O[1]];case"L":return[O[0],O[1]];case"H":return[O[0],E[1]];case"V":return[E[0],O[0]];case"Z":return null;case"C":return[O[4],O[5]];case"S":return[O[2],O[3]];case"Q":return[O[2],O[3]];case"T":return[O[0],O[1]];case"A":return[O[5],O[6]]}},h=function(m,E,M){var O=m.params,A={V:function(N,I,C){var k=[{x:C[0],y:O[1]}],F=(0,g.matrixTransform)(k,I);return F[0].x===(0,g.matrixTransform)([{x:C[0],y:C[1]}])[0].x?{command:"V",params:[F[0].y]}:{command:"L",params:[F[0].x,F[0].y]}},H:function(N,I,C){var k=[{x:O[0],y:C[1]}],F=(0,g.matrixTransform)(k,I);return F[0].y===(0,g.matrixTransform)([{x:C[0],y:C[1]}])[0].y?{command:"H",params:[F[0].x]}:{command:"L",params:[F[0].x,F[0].y]}},A:function(N,I,C){var k=(0,g.transformEllipse)(O[0],O[1],O[2],I),F=O[4];I[0]*I[3]-I[1]*I[2]<0&&(F=F?"0":"1");var j=[{x:O[5],y:O[6]}],G=(0,g.matrixTransform)(j,I);return k.isDegenerate?{command:"L",params:[G[0].x,G[0].y]}:{command:"A",params:[k.rx,k.ry,k.ax,O[3],F,G[0].x,G[0].y]}},C:function(N,I,C){var k=[{x:O[0],y:O[1]},{x:O[2],y:O[3]},{x:O[4],y:O[5]}],F=(0,g.matrixTransform)(k,I);return{command:"C",params:[F[0].x,F[0].y,F[1].x,F[1].y,F[2].x,F[2].y]}},Z:function(N,I,C){return{command:"Z",params:[]}},default:function(N,I,C){var k=[{x:O[0],y:O[1]}],F=(0,g.matrixTransform)(k,I),j=N.params.slice(0,N.params.length);return j.splice(0,2,F[0].x,F[0].y),{command:N.command,params:j}}};return A[m.command]?A[m.command](m,E,M):A.default(m,E,M)},p=function(m,E){return function(M){var O=typeof M=="object"?m.map(function(A){return M[A]}):arguments;return E.apply(null,O)}},d=function(m){return o(e(t,m))};return{moveto:p(["x","y"],function(P,m){return d({command:"M",params:[P,m]})}),lineto:p(["x","y"],function(P,m){return d({command:"L",params:[P,m]})}),hlineto:p(["x"],function(P){return d({command:"H",params:[P]})}),vlineto:p(["y"],function(P){return d({command:"V",params:[P]})}),closepath:function(){return d({command:"Z",params:[]})},curveto:p(["x1","y1","x2","y2","x","y"],function(P,m,E,M,O,A){return d({command:"C",params:[P,m,E,M,O,A]})}),smoothcurveto:p(["x2","y2","x","y"],function(P,m,E,M){return d({command:"S",params:[P,m,E,M]})}),qcurveto:p(["x1","y1","x","y"],function(P,m,E,M){return d({command:"Q",params:[P,m,E,M]})}),smoothqcurveto:p(["x","y"],function(P,m){return d({command:"T",params:[P,m]})}),arc:p(["rx","ry","xrot","largeArcFlag","sweepFlag","x","y"],function(P,m,E,M,O,A,b){return d({command:"A",params:[P,m,E,M,O,A,b]})}),translate:p(["dx","dy"],function(){var P=arguments.length<=0||arguments[0]===void 0?0:arguments[0],m=arguments.length<=1||arguments[1]===void 0?0:arguments[1];if(P!==0||P!==0){var E=function(){var M=[0,0],O=[1,0,0,1,P,m],A=t.map(function(b){var N=h(b,O,M);return M=c(b,M),N});return{v:o(A)}}();if(typeof E=="object")return E.v}else return o(t)}),rotate:p(["angle","rx","ry"],function(P){var m=arguments.length<=1||arguments[1]===void 0?0:arguments[1],E=arguments.length<=2||arguments[2]===void 0?0:arguments[2];if(P!==0){var M=function(){var O=void 0,A=void 0,b=t;m!==0&&E!==0&&(O=[0,0],A=[1,0,0,1,-m,-E],b=b.map(function(k){var F=h(k,A,O);return O=c(k,O),F}));var N=P*Math.PI/180,I=Math.cos(N),C=Math.sin(N);return O=[0,0],A=[I,C,-C,I,0,0],b=b.map(function(k){var F=h(k,A,O);return O=c(k,O),F}),m!==0&&E!==0&&(O=[0,0],A=[1,0,0,1,m,E],b=b.map(function(k){var F=h(k,A,O);return O=c(k,O),F})),{v:o(b)}}();if(typeof M=="object")return M.v}else return o(t)}),scale:p(["sx","sy"],function(){var P=arguments.length<=0||arguments[0]===void 0?1:arguments[0],m=arguments.length<=1||arguments[1]===void 0?P:arguments[1];return function(){if(P!==1||m!==1){var E=function(){var M=[0,0],O=[P,0,0,m,0,0],A=t.map(function(b){var N=h(b,O,M);return M=c(b,M),N});return{v:o(A)}}();if(typeof E=="object")return E.v}else return o(t)}()}),shearX:p(["angle"],function(){var P=arguments.length<=0||arguments[0]===void 0?0:arguments[0];if(P!==0){var m=function(){var E=[0,0],M=[1,0,Math.tan(P*Math.PI/180),1,0,0],O=t.map(function(A){var b=h(A,M,E);return E=c(A,E),b});return{v:o(O)}}();if(typeof m=="object")return m.v}else return o(t)}),shearY:p(["angle"],function(){var P=arguments.length<=0||arguments[0]===void 0?0:arguments[0];if(P!==0){var m=function(){var E=[0,0],M=[1,Math.tan(P*Math.PI/180),0,1,0,0],O=t.map(function(A){var b=h(A,M,E);return E=c(A,E),b});return{v:o(O)}}();if(typeof m=="object")return m.v}else return o(t)}),print:function(){return t.map(v).join(" ")},toString:function(){return(void 0).print()},points:function(){var m=[],E=[0,0],M=!0,O=!1,A=void 0;try{for(var b=t[Symbol.iterator](),N;!(M=(N=b.next()).done);M=!0){var I=N.value,C=c(I,E);E=C,C&&m.push(C)}}catch(k){O=!0,A=k}finally{try{!M&&b.return&&b.return()}finally{if(O)throw A}}return m},instructions:function(){return t.slice(0,t.length)},connect:function(m){var E=this.points(),M=E[E.length-1],O=m.points()[0],A=void 0;return t[t.length-1].command!=="Z"?(A=m.instructions().slice(1),n(M,O)||A.unshift({command:"L",params:O})):A=m.instructions(),o(this.instructions().concat(A))}}};x.default=function(){return u()},L.exports=x.default},function(L,x,a){var l=a(14),g=a(2);function u(o){l.call(this,o)}u.prototype=new l,u.prototype.constructor=u,u.prototype._jump=function(o,r,t,e){var n=this.grid,i=o-t,f=r-e;if(!n.isWalkableAt(o,r))return null;if(this.trackJumpRecursion===!0&&(n.getNodeAt(o,r).tested=!0),n.getNodeAt(o,r)===this.endNode)return[o,r];if(i!==0&&f!==0){if(n.isWalkableAt(o-i,r+f)&&!n.isWalkableAt(o-i,r)||n.isWalkableAt(o+i,r-f)&&!n.isWalkableAt(o,r-f))return[o,r];if(this._jump(o+i,r,o,r)||this._jump(o,r+f,o,r))return[o,r]}else if(i!==0){if(n.isWalkableAt(o+i,r+1)&&!n.isWalkableAt(o,r+1)||n.isWalkableAt(o+i,r-1)&&!n.isWalkableAt(o,r-1))return[o,r]}else if(n.isWalkableAt(o+1,r+f)&&!n.isWalkableAt(o+1,r)||n.isWalkableAt(o-1,r+f)&&!n.isWalkableAt(o-1,r))return[o,r];return n.isWalkableAt(o+i,r)||n.isWalkableAt(o,r+f)?this._jump(o+i,r+f,o,r):null},u.prototype._findNeighbors=function(o){var r=o.parent,t=o.x,e=o.y,n=this.grid,i,f,v,c,h,p,d=[],P,m,E,M;if(r)i=r.x,f=r.y,h=(t-i)/Math.max(Math.abs(t-i),1),p=(e-f)/Math.max(Math.abs(e-f),1),h!==0&&p!==0?(n.isWalkableAt(t,e+p)&&d.push([t,e+p]),n.isWalkableAt(t+h,e)&&d.push([t+h,e]),(n.isWalkableAt(t,e+p)||n.isWalkableAt(t+h,e))&&d.push([t+h,e+p]),!n.isWalkableAt(t-h,e)&&n.isWalkableAt(t,e+p)&&d.push([t-h,e+p]),!n.isWalkableAt(t,e-p)&&n.isWalkableAt(t+h,e)&&d.push([t+h,e-p])):h===0?n.isWalkableAt(t,e+p)&&(d.push([t,e+p]),n.isWalkableAt(t+1,e)||d.push([t+1,e+p]),n.isWalkableAt(t-1,e)||d.push([t-1,e+p])):n.isWalkableAt(t+h,e)&&(d.push([t+h,e]),n.isWalkableAt(t,e+1)||d.push([t+h,e+1]),n.isWalkableAt(t,e-1)||d.push([t+h,e-1]));else for(P=n.getNeighbors(o,g.IfAtMostOneObstacle),E=0,M=P.length;E<M;++E)m=P[E],d.push([m.x,m.y]);return d},L.exports=u},function(L,x,a){var l=a(14),g=a(2);function u(o){l.call(this,o)}u.prototype=new l,u.prototype.constructor=u,u.prototype._jump=function(o,r,t,e){var n=this.grid,i=o-t,f=r-e;if(!n.isWalkableAt(o,r))return null;if(this.trackJumpRecursion===!0&&(n.getNodeAt(o,r).tested=!0),n.getNodeAt(o,r)===this.endNode)return[o,r];if(i!==0&&f!==0){if(this._jump(o+i,r,o,r)||this._jump(o,r+f,o,r))return[o,r]}else if(i!==0){if(n.isWalkableAt(o,r-1)&&!n.isWalkableAt(o-i,r-1)||n.isWalkableAt(o,r+1)&&!n.isWalkableAt(o-i,r+1))return[o,r]}else if(f!==0&&(n.isWalkableAt(o-1,r)&&!n.isWalkableAt(o-1,r-f)||n.isWalkableAt(o+1,r)&&!n.isWalkableAt(o+1,r-f)))return[o,r];return n.isWalkableAt(o+i,r)&&n.isWalkableAt(o,r+f)?this._jump(o+i,r+f,o,r):null},u.prototype._findNeighbors=function(o){var r=o.parent,t=o.x,e=o.y,n=this.grid,i,f,v,c,h,p,d=[],P,m,E,M;if(r)if(i=r.x,f=r.y,h=(t-i)/Math.max(Math.abs(t-i),1),p=(e-f)/Math.max(Math.abs(e-f),1),h!==0&&p!==0)n.isWalkableAt(t,e+p)&&d.push([t,e+p]),n.isWalkableAt(t+h,e)&&d.push([t+h,e]),n.isWalkableAt(t,e+p)&&n.isWalkableAt(t+h,e)&&d.push([t+h,e+p]);else{var O;if(h!==0){O=n.isWalkableAt(t+h,e);var A=n.isWalkableAt(t,e+1),b=n.isWalkableAt(t,e-1);O&&(d.push([t+h,e]),A&&d.push([t+h,e+1]),b&&d.push([t+h,e-1])),A&&d.push([t,e+1]),b&&d.push([t,e-1])}else if(p!==0){O=n.isWalkableAt(t,e+p);var N=n.isWalkableAt(t+1,e),I=n.isWalkableAt(t-1,e);O&&(d.push([t,e+p]),N&&d.push([t+1,e+p]),I&&d.push([t-1,e+p])),N&&d.push([t+1,e]),I&&d.push([t-1,e])}}else for(P=n.getNeighbors(o,g.OnlyWhenNoObstacles),E=0,M=P.length;E<M;++E)m=P[E],d.push([m.x,m.y]);return d},L.exports=u},function(L,x,a){var l=a(14),g=a(2);function u(o){l.call(this,o)}u.prototype=new l,u.prototype.constructor=u,u.prototype._jump=function(o,r,t,e){var n=this.grid,i=o-t,f=r-e;if(!n.isWalkableAt(o,r))return null;if(this.trackJumpRecursion===!0&&(n.getNodeAt(o,r).tested=!0),n.getNodeAt(o,r)===this.endNode)return[o,r];if(i!==0&&f!==0){if(n.isWalkableAt(o-i,r+f)&&!n.isWalkableAt(o-i,r)||n.isWalkableAt(o+i,r-f)&&!n.isWalkableAt(o,r-f))return[o,r];if(this._jump(o+i,r,o,r)||this._jump(o,r+f,o,r))return[o,r]}else if(i!==0){if(n.isWalkableAt(o+i,r+1)&&!n.isWalkableAt(o,r+1)||n.isWalkableAt(o+i,r-1)&&!n.isWalkableAt(o,r-1))return[o,r]}else if(n.isWalkableAt(o+1,r+f)&&!n.isWalkableAt(o+1,r)||n.isWalkableAt(o-1,r+f)&&!n.isWalkableAt(o-1,r))return[o,r];return this._jump(o+i,r+f,o,r)},u.prototype._findNeighbors=function(o){var r=o.parent,t=o.x,e=o.y,n=this.grid,i,f,v,c,h,p,d=[],P,m,E,M;if(r)i=r.x,f=r.y,h=(t-i)/Math.max(Math.abs(t-i),1),p=(e-f)/Math.max(Math.abs(e-f),1),h!==0&&p!==0?(n.isWalkableAt(t,e+p)&&d.push([t,e+p]),n.isWalkableAt(t+h,e)&&d.push([t+h,e]),n.isWalkableAt(t+h,e+p)&&d.push([t+h,e+p]),n.isWalkableAt(t-h,e)||d.push([t-h,e+p]),n.isWalkableAt(t,e-p)||d.push([t+h,e-p])):h===0?(n.isWalkableAt(t,e+p)&&d.push([t,e+p]),n.isWalkableAt(t+1,e)||d.push([t+1,e+p]),n.isWalkableAt(t-1,e)||d.push([t-1,e+p])):(n.isWalkableAt(t+h,e)&&d.push([t+h,e]),n.isWalkableAt(t,e+1)||d.push([t+h,e+1]),n.isWalkableAt(t,e-1)||d.push([t+h,e-1]));else for(P=n.getNeighbors(o,g.Always),E=0,M=P.length;E<M;++E)m=P[E],d.push([m.x,m.y]);return d},L.exports=u},function(L,x,a){var l=a(14),g=a(2);function u(o){l.call(this,o)}u.prototype=new l,u.prototype.constructor=u,u.prototype._jump=function(o,r,t,e){var n=this.grid,i=o-t,f=r-e;if(!n.isWalkableAt(o,r))return null;if(this.trackJumpRecursion===!0&&(n.getNodeAt(o,r).tested=!0),n.getNodeAt(o,r)===this.endNode)return[o,r];if(i!==0){if(n.isWalkableAt(o,r-1)&&!n.isWalkableAt(o-i,r-1)||n.isWalkableAt(o,r+1)&&!n.isWalkableAt(o-i,r+1))return[o,r]}else if(f!==0){if(n.isWalkableAt(o-1,r)&&!n.isWalkableAt(o-1,r-f)||n.isWalkableAt(o+1,r)&&!n.isWalkableAt(o+1,r-f))return[o,r];if(this._jump(o+1,r,o,r)||this._jump(o-1,r,o,r))return[o,r]}else throw new Error("Only horizontal and vertical movements are allowed");return this._jump(o+i,r+f,o,r)},u.prototype._findNeighbors=function(o){var r=o.parent,t=o.x,e=o.y,n=this.grid,i,f,v,c,h,p,d=[],P,m,E,M;if(r)i=r.x,f=r.y,h=(t-i)/Math.max(Math.abs(t-i),1),p=(e-f)/Math.max(Math.abs(e-f),1),h!==0?(n.isWalkableAt(t,e-1)&&d.push([t,e-1]),n.isWalkableAt(t,e+1)&&d.push([t,e+1]),n.isWalkableAt(t+h,e)&&d.push([t+h,e])):p!==0&&(n.isWalkableAt(t-1,e)&&d.push([t-1,e]),n.isWalkableAt(t+1,e)&&d.push([t+1,e]),n.isWalkableAt(t,e+p)&&d.push([t,e+p]));else for(P=n.getNeighbors(o,g.Never),E=0,M=P.length;E<M;++E)m=P[E],d.push([m.x,m.y]);return d},L.exports=u},function(L,x,a){var l=a(2),g=a(55),u=a(54),o=a(53),r=a(52);function t(e){return e=e||{},e.diagonalMovement===l.Never?new g(e):e.diagonalMovement===l.Always?new u(e):e.diagonalMovement===l.OnlyWhenNoObstacles?new o(e):new r(e)}L.exports=t},function(L,x,a){var l=a(4),g=a(10),u=a(24),o=a(2);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||g.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||g.manhattan:this.heuristic=t.heuristic||g.octile}r.prototype.findPath=function(t,e,n,i,f){var v=0,c=new Date().getTime(),h=function(b,N){return this.heuristic(Math.abs(N.x-b.x),Math.abs(N.y-b.y))}.bind(this),p=function(b,N){return b.x===N.x||b.y===N.y?1:Math.SQRT2},d=function(b,N,I,C,k){if(v++,this.timeLimit>0&&new Date().getTime()-c>this.timeLimit*1e3)return 1/0;var F=N+h(b,m)*this.weight;if(F>I)return F;if(b==m)return C[k]=[b.x,b.y],b;var j,G,$,Z,ht=f.getNeighbors(b,this.diagonalMovement);for($=0,j=1/0;Z=ht[$];++$){if(this.trackRecursion&&(Z.retainCount=Z.retainCount+1||1,Z.tested!==!0&&(Z.tested=!0)),G=d(Z,N+p(b,Z),I,C,k+1),G instanceof u)return C[k]=[b.x,b.y],G;this.trackRecursion&&--Z.retainCount===0&&(Z.tested=!1),G<j&&(j=G)}return j}.bind(this),P=f.getNodeAt(t,e),m=f.getNodeAt(n,i),E=h(P,m),M,O,A;for(M=0;;++M){if(O=[],A=d(P,0,E,O,0),A===1/0)return[];if(A instanceof u)return O;E=A}return[]},L.exports=r},function(L,x,a){var l=a(22);function g(u){l.call(this,u),this.heuristic=function(o,r){return 0}}g.prototype=new l,g.prototype.constructor=g,L.exports=g},function(L,x,a){var l=a(4),g=a(2);function u(o){o=o||{},this.allowDiagonal=o.allowDiagonal,this.dontCrossCorners=o.dontCrossCorners,this.diagonalMovement=o.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=g.OnlyWhenNoObstacles:this.diagonalMovement=g.IfAtMostOneObstacle:this.diagonalMovement=g.Never)}u.prototype.findPath=function(o,r,t,e,n){var i=n.getNodeAt(o,r),f=n.getNodeAt(t,e),v=[],c=[],h,p,d,P=this.diagonalMovement,m=0,E=1,M,O;for(v.push(i),i.opened=!0,i.by=m,c.push(f),f.opened=!0,f.by=E;v.length&&c.length;){for(d=v.shift(),d.closed=!0,h=n.getNeighbors(d,P),M=0,O=h.length;M<O;++M)if(p=h[M],!p.closed){if(p.opened){if(p.by===E)return l.biBacktrace(d,p);continue}v.push(p),p.parent=d,p.opened=!0,p.by=m}for(d=c.shift(),d.closed=!0,h=n.getNeighbors(d,P),M=0,O=h.length;M<O;++M)if(p=h[M],!p.closed){if(p.opened){if(p.by===m)return l.biBacktrace(p,d);continue}c.push(p),p.parent=d,p.opened=!0,p.by=E}}return[]},L.exports=u},function(L,x,a){var l=a(22);function g(u){l.call(this,u);var o=this.heuristic;this.heuristic=function(r,t){return o(r,t)*1e6}}g.prototype=new l,g.prototype.constructor=g,L.exports=g},function(L,x,a){var l=a(23);function g(u){l.call(this,u),this.heuristic=function(o,r){return 0}}g.prototype=new l,g.prototype.constructor=g,L.exports=g},function(L,x,a){var l=a(4),g=a(2);function u(o){o=o||{},this.allowDiagonal=o.allowDiagonal,this.dontCrossCorners=o.dontCrossCorners,this.diagonalMovement=o.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=g.OnlyWhenNoObstacles:this.diagonalMovement=g.IfAtMostOneObstacle:this.diagonalMovement=g.Never)}u.prototype.findPath=function(o,r,t,e,n){var i=[],f=this.diagonalMovement,v=n.getNodeAt(o,r),c=n.getNodeAt(t,e),h,p,d,P,m;for(i.push(v),v.opened=!0;i.length;){if(d=i.shift(),d.closed=!0,d===c)return l.backtrace(c);for(h=n.getNeighbors(d,f),P=0,m=h.length;P<m;++P)p=h[P],!(p.closed||p.opened)&&(i.push(p),p.opened=!0,p.parent=d)}return[]},L.exports=u},function(L,x,a){var l=a(23);function g(u){l.call(this,u);var o=this.heuristic;this.heuristic=function(r,t){return o(r,t)*1e6}}g.prototype=new l,g.prototype.constructor=g,L.exports=g},function(L,x,a){var l=a(24),g=a(2);function u(o,r,t){var e;typeof o!="object"?e=o:(r=o.length,e=o[0].length,t=o),this.width=e,this.height=r,this.nodes=this._buildNodes(e,r,t)}u.prototype._buildNodes=function(o,r,t){var e,n,i=new Array(r);for(e=0;e<r;++e)for(i[e]=new Array(o),n=0;n<o;++n)i[e][n]=new l(n,e);if(t===void 0)return i;if(t.length!==r||t[0].length!==o)throw new Error("Matrix size does not fit");for(e=0;e<r;++e)for(n=0;n<o;++n)t[e][n]&&(i[e][n].walkable=!1);return i},u.prototype.getNodeAt=function(o,r){return this.nodes[r][o]},u.prototype.isWalkableAt=function(o,r){return this.isInside(o,r)&&this.nodes[r][o].walkable},u.prototype.isInside=function(o,r){return o>=0&&o<this.width&&r>=0&&r<this.height},u.prototype.setWalkableAt=function(o,r,t){this.nodes[r][o].walkable=t},u.prototype.getNeighbors=function(o,r){var t=o.x,e=o.y,n=[],i=!1,f=!1,v=!1,c=!1,h=!1,p=!1,d=!1,P=!1,m=this.nodes;if(this.isWalkableAt(t,e-1)&&(n.push(m[e-1][t]),i=!0),this.isWalkableAt(t+1,e)&&(n.push(m[e][t+1]),v=!0),this.isWalkableAt(t,e+1)&&(n.push(m[e+1][t]),h=!0),this.isWalkableAt(t-1,e)&&(n.push(m[e][t-1]),d=!0),r===g.Never)return n;if(r===g.OnlyWhenNoObstacles)f=d&&i,c=i&&v,p=v&&h,P=h&&d;else if(r===g.IfAtMostOneObstacle)f=d||i,c=i||v,p=v||h,P=h||d;else if(r===g.Always)f=!0,c=!0,p=!0,P=!0;else throw new Error("Incorrect value of diagonalMovement");return f&&this.isWalkableAt(t-1,e-1)&&n.push(m[e-1][t-1]),c&&this.isWalkableAt(t+1,e-1)&&n.push(m[e-1][t+1]),p&&this.isWalkableAt(t+1,e+1)&&n.push(m[e+1][t+1]),P&&this.isWalkableAt(t-1,e+1)&&n.push(m[e+1][t-1]),n},u.prototype.clone=function(){var o,r,t=this.width,e=this.height,n=this.nodes,i=new u(t,e),f=new Array(e);for(o=0;o<e;++o)for(f[o]=new Array(t),r=0;r<t;++r)f[o][r]=new l(r,o,n[o][r].walkable);return i.nodes=f,i},L.exports=u},function(L,x){L.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(L,x,a){(function(l){(function(){var g,u,o,r,t,e,n,i,f,v,c,h,p,d,P;o=Math.floor,v=Math.min,u=function(m,E){return m<E?-1:m>E?1:0},f=function(m,E,M,O,A){var b;if(M==null&&(M=0),A==null&&(A=u),M<0)throw new Error("lo must be non-negative");for(O==null&&(O=m.length);M<O;)b=o((M+O)/2),A(E,m[b])<0?O=b:M=b+1;return[].splice.apply(m,[M,M-M].concat(E)),E},e=function(m,E,M){return M==null&&(M=u),m.push(E),d(m,0,m.length-1,M)},t=function(m,E){var M,O;return E==null&&(E=u),M=m.pop(),m.length?(O=m[0],m[0]=M,P(m,0,E)):O=M,O},i=function(m,E,M){var O;return M==null&&(M=u),O=m[0],m[0]=E,P(m,0,M),O},n=function(m,E,M){var O;return M==null&&(M=u),m.length&&M(m[0],E)<0&&(O=[m[0],E],E=O[0],m[0]=O[1],P(m,0,M)),E},r=function(m,E){var M,O,A,b,N,I,C,k;for(E==null&&(E=u),I=function(){k=[];for(var F=0,j=o(m.length/2);0<=j?F<j:F>j;0<=j?F++:F--)k.push(F);return k}.apply(this).reverse(),C=[],O=0,b=I.length;O<b;O++)M=I[O],C.push(P(m,M,E));return C},p=function(m,E,M){var O;if(M==null&&(M=u),O=m.indexOf(E),O!==-1)return d(m,0,O,M),P(m,O,M)},c=function(m,E,M){var O,A,b,N,I;if(M==null&&(M=u),A=m.slice(0,E),!A.length)return A;for(r(A,M),I=m.slice(E),b=0,N=I.length;b<N;b++)O=I[b],n(A,O,M);return A.sort(M).reverse()},h=function(m,E,M){var O,A,b,N,I,C,k,F,j,G;if(M==null&&(M=u),E*10<=m.length){if(N=m.slice(0,E).sort(M),!N.length)return N;for(b=N[N.length-1],F=m.slice(E),I=0,k=F.length;I<k;I++)O=F[I],M(O,b)<0&&(f(N,O,0,null,M),N.pop(),b=N[N.length-1]);return N}for(r(m,M),G=[],A=C=0,j=v(E,m.length);0<=j?C<j:C>j;A=0<=j?++C:--C)G.push(t(m,M));return G},d=function(m,E,M,O){var A,b,N;for(O==null&&(O=u),A=m[M];M>E;){if(N=M-1>>1,b=m[N],O(A,b)<0){m[M]=b,M=N;continue}break}return m[M]=A},P=function(m,E,M){var O,A,b,N,I;for(M==null&&(M=u),A=m.length,I=E,b=m[E],O=2*E+1;O<A;)N=O+1,N<A&&!(M(m[O],m[N])<0)&&(O=N),m[E]=m[O],E=O,O=2*E+1;return m[E]=b,d(m,I,E,M)},g=function(){m.push=e,m.pop=t,m.replace=i,m.pushpop=n,m.heapify=r,m.updateItem=p,m.nlargest=c,m.nsmallest=h;function m(E){this.cmp=E??u,this.nodes=[]}return m.prototype.push=function(E){return e(this.nodes,E,this.cmp)},m.prototype.pop=function(){return t(this.nodes,this.cmp)},m.prototype.peek=function(){return this.nodes[0]},m.prototype.contains=function(E){return this.nodes.indexOf(E)!==-1},m.prototype.replace=function(E){return i(this.nodes,E,this.cmp)},m.prototype.pushpop=function(E){return n(this.nodes,E,this.cmp)},m.prototype.heapify=function(){return r(this.nodes,this.cmp)},m.prototype.updateItem=function(E){return p(this.nodes,E,this.cmp)},m.prototype.clear=function(){return this.nodes=[]},m.prototype.empty=function(){return this.nodes.length===0},m.prototype.size=function(){return this.nodes.length},m.prototype.clone=function(){var E;return E=new m,E.nodes=this.nodes.slice(0),E},m.prototype.toArray=function(){return this.nodes.slice(0)},m.prototype.insert=m.prototype.push,m.prototype.top=m.prototype.peek,m.prototype.front=m.prototype.peek,m.prototype.has=m.prototype.contains,m.prototype.copy=m.prototype.clone,m}(),typeof l<"u"&&l!==null&&l.exports?l.exports=g:window.Heap=g}).call(this)}).call(this,a(65)(L))},function(L,x,a){L.exports={Heap:a(15),Node:a(24),Grid:a(64),Util:a(4),DiagonalMovement:a(2),Heuristic:a(10),AStarFinder:a(23),BestFirstFinder:a(63),BreadthFirstFinder:a(62),DijkstraFinder:a(61),BiAStarFinder:a(22),BiBestFirstFinder:a(60),BiBreadthFirstFinder:a(59),BiDijkstraFinder:a(58),IDAStarFinder:a(57),JumpPointFinder:a(56)}},function(L,x,a){L.exports=a(67)},function(L,x){var a=Element.prototype,l=a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;L.exports=g;function g(u,o){if(l)return l.call(u,o);for(var r=u.parentNode.querySelectorAll(o),t=0;t<r.length;++t)if(r[t]==u)return!0;return!1}},function(L,x,a){var l=a(69);L.exports=function(g,u,o){for(var r=o?g:g.parentNode;r&&r!==document;){if(l(r,u))return r;r=r.parentNode}}}])})},20047:(S,T,y)=>{"use strict";y.r(T),y.d(T,{default:()=>dt});var s=y(67294),w=y(16550),L=y(64195),x=y(88767),a=y(45349),l=y(28897),g=y(86896),u=y(86706),o=y(27361),r=y.n(o),t=y(78718),e=y.n(t),n=y(44908),i=y.n(n),f=y(73955),v=y.n(f),c=y(41054),h=y(79946),p=y(46683),d=y(41580),P=y(29728),m=y(23620),E=y(7681),M=y(53979),O=y(49066),A=y(85893);const b=U=>(0,A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...U,children:(0,A.jsx)("path",{fill:"#212134",d:"M24 13.3a.2.2 0 0 1-.2.2H5.74l8.239 8.239a.2.2 0 0 1 0 .282L12.14 23.86a.2.2 0 0 1-.282 0L.14 12.14a.2.2 0 0 1 0-.282L11.86.14a.2.2 0 0 1 .282 0L13.98 1.98a.2.2 0 0 1 0 .282L5.74 10.5H23.8c.11 0 .2.09.2.2v2.6Z"})}),N=b;var I=y(85018),C=y(74389),k=y(98332);const F=["_blank","_parent","_self","_top"],j=[{input:{intlLabel:{id:(0,l.OB)("form.label.title"),defaultMessage:"Title"},name:"title",type:"text",required:!0},grid:{col:6,s:12}},{input:{intlLabel:{id:(0,l.OB)("form.label.slug"),defaultMessage:"Slug"},name:"slug",type:"uid",contentTypeUID:"plugin::menus.menu",attribute:{targetField:"title"},required:!0},grid:{col:6,s:12}}],G=[{input:{intlLabel:{id:(0,l.OB)("form.label.title"),defaultMessage:"Title"},name:"title",type:"text",placeholder:{id:(0,l.OB)("form.placeholder.untitled"),defaultMessage:"Untitled"},required:!0}},{input:{intlLabel:{id:(0,l.OB)("form.label.url"),defaultMessage:"URL"},name:"url",type:"text"}},{input:{intlLabel:{id:(0,l.OB)("form.label.target"),defaultMessage:"Target"},name:"target",type:"select",options:F.map(U=>({key:U,value:U,metadatas:{intlLabel:{id:(0,l.OB)(`form.label.option.${U}`),defaultMessage:U}}}))},grid:{col:6}}],$={menu:j,menuItem:G};var Z=y(87561),ht=y(89414);const ct=Z.Ry().shape({order:Z.Rx(h.translatedErrors.number).required(h.translatedErrors.required),title:Z.Z_(h.translatedErrors.string).required(h.translatedErrors.required),url:Z.Z_(h.translatedErrors.string).test("is-url",(0,l.OB)("error.url.invalid"),U=>!!(!U||ht.Ks.test(U)||ht.dM.test(U)||ht.jv.test(U)||ht.kR.test(U))).nullable(),target:Z.Z_(h.translatedErrors.string).nullable()}),Mt=Z.Ry().shape({title:Z.Z_(h.translatedErrors.string).nullable().required(h.translatedErrors.required),slug:Z.Z_(h.translatedErrors.string).nullable().required(h.translatedErrors.required),items:Z.IX().of(ct)}),D={title:"",slug:"",items:[]},R="menus-clone-{id}",W="menus-create",B="menus-edit-{id}",Y=({history:U,location:K,match:st})=>{const{id:V}=st.params,{formatMessage:nt}=(0,g.Z)(),{notifyStatus:Q}=(0,p.G)(),vt=(0,h.useNotification)(),{lockApp:ut,unlockApp:lt}=(0,h.useOverlayBlocker)(),it=(0,x.useQueryClient)(),{config:q,schema:rt}=(0,u.v9)(xt=>xt[`${l.aw}_config`]),Ct=r()(q,"layouts.menuItem",{}),Nt=(0,s.useMemo)(()=>(0,l.Vi)($.menuItem,Ct,rt),[Ct]),Dt=Object.values(Nt).flat(),At=!V,Lt=K.pathname.split("/").includes("clone");let wt=nt({id:(0,l.OB)("edit.header.title"),defaultMessage:"Edit menu"}),St=B.replace("{id}",V);At&&(wt=nt({id:(0,l.OB)("create.header.title"),defaultMessage:"Create menu"}),St=W),Lt&&(wt=nt({id:(0,l.OB)("clone.header.title"),defaultMessage:"Clone menu"}),St=R.replace("{id}",V));const kt=(0,l.Bi)(rt.menuItem,["media"]),zt={populate:i()(["items","items.parent",...kt.map(xt=>`items.${xt}`)])},{status:Rt,data:gt}=(0,x.useQuery)(St,()=>l.hi.get(V,zt),{enabled:!At,select:xt=>(0,l.m5)(xt),onSuccess:()=>{Q(nt({id:(0,l.OB)("ui.loaded"),defaultMessage:"Data has been loaded"}))},onError:()=>{vt({type:"warning",message:{id:(0,l.OB)("ui.error"),defaultMessage:"An error occured"}})}}),Bt=(0,x.useMutation)(xt=>{if(Lt){const Wt=e()(xt.data,["title","slug"],{}),bt=xt.data.items.map(It=>({id:It.id,createId:v()("create")})),Tt=xt.data.items.map(It=>{const Ut=bt.find(Vt=>Vt.id===It.id),jt=bt.find(Vt=>Vt.id===It.parent?.id),Yt=Ut?Ut.createId:null,Xt=jt?{id:jt.createId}:null;return{...(0,l.oW)(It),id:Yt,parent:Xt}}),Gt={data:{...Wt,items:Tt}};return l.hi.postAction(Gt)}return At?l.hi.postAction(xt):l.hi.putAction(V,xt)},{refetchActive:!0,onSuccess:async()=>{await it.invalidateQueries(St),vt({type:"success",message:{id:(0,l.OB)("ui.saved"),defaultMessage:"Saved"}})},onError:()=>{vt({type:"warning",message:{id:(0,l.OB)("ui.error"),defaultMessage:"An error occured"}})},onSettled:()=>{lt()}}),Zt=async(xt,{setErrors:Wt})=>{ut();try{const bt=(0,l.oW)(xt),Tt=(0,l.BR)(bt,gt,$.menu,Lt),Gt=r()(bt,"items",[]).map(Ut=>{const jt=(0,l.oW)(Ut),Yt=r()(gt,"items",[]).find(Xt=>Xt.id===jt.id);return(0,l.BR)(jt,Yt,Dt,Lt)}),It=await Bt.mutateAsync({data:{...Tt,items:Gt}});(At||Lt)&&It?.data?.data?.id&&U.push(`/plugins/${l.aw}/edit/${It.data.data.id}`)}catch(bt){lt();const Tt=bt?.response?.data?.error?.details;Tt?Wt(Tt):console.error(bt)}};return s.createElement(C.Ar,{isLoading:!At&&Rt!=="success",title:wt},s.createElement(k.rE,null),s.createElement(c.Formik,{onSubmit:Zt,initialValues:gt??D,validateOnChange:!1,validationSchema:Mt,enableReinitialize:!0},({handleSubmit:xt})=>s.createElement(h.Form,{onSubmit:xt},s.createElement(C.Cp,{isCreatingEntry:At,isCloningEntry:Lt,menu:gt},({dirty:Wt,isSubmitting:bt})=>s.createElement(s.Fragment,null,s.createElement(M.T,{title:wt,navigationAction:s.createElement(m.r,{startIcon:s.createElement(N,null),to:`/plugins/${l.aw}`},nt({id:(0,l.OB)("ui.goBack"),defaultMessage:"Go back"})),primaryAction:s.createElement(P.z,{type:"submit",disabled:!Wt||bt,loading:bt,startIcon:s.createElement(I.default,null),size:"L"},nt({id:(0,l.OB)("ui.save"),defaultMessage:"Save"}))}),s.createElement(O.D,null,s.createElement(d.x,{paddingBottom:10},s.createElement(E.K,{spacing:8},s.createElement(C.$0,null,s.createElement(C.lt,{fields:$.menu,schema:rt.menu})),s.createElement(C.qT,{fields:Nt})))))))))},J=(0,s.memo)(Y);var et=y(96315);const pt="menus-index",Ft=({history:U})=>{const{formatMessage:K}=(0,g.Z)(),{notifyStatus:st}=(0,p.G)(),V=(0,h.useNotification)(),{lockApp:nt,unlockApp:Q}=(0,h.useOverlayBlocker)(),vt=(0,x.useQueryClient)(),[{query:ut}]=(0,h.useQueryParams)(),lt=r()(ut,"pageSize",10),it=r()(ut,"page",1)*lt-lt,q={populate:"*",pagination:{start:it,limit:lt}},{data:rt,refetch:Ct,status:Nt}=(0,x.useQuery)(pt,()=>l.hi.get(null,q),{onSuccess:()=>{st(K({id:(0,l.OB)("ui.loaded"),defaultMessage:"Data has been loaded"}))},onError:()=>{V({type:"warning",message:{id:(0,l.OB)("ui.error"),defaultMessage:"An error occured"}})}});(0,s.useEffect)(()=>{Ct()},[it,lt]);const Dt=(0,x.useMutation)(gt=>l.hi.deleteAction(gt),{onSuccess:async()=>{await vt.invalidateQueries(pt),V({type:"success",message:{id:(0,l.OB)("ui.deleted.menu"),defaultMessage:"Menu has been deleted"}})},onError:gt=>{gt?.response?.data?.data?V({type:"warning",message:gt.response.data.data}):V({type:"warning",message:{id:(0,l.OB)("ui.error"),defaultMessage:"An error occured"}})},onSettled:()=>{Q()}}),At=async gt=>{nt();try{await Dt.mutateAsync(gt)}catch{Q()}},Lt=Nt!=="success",wt=3,St=(rt?.data?.length??0)+1,kt=rt?.meta?.total?Math.ceil(rt.meta.total/rt.meta.limit):1,zt=[{name:"title",key:"title",metadatas:{label:K({id:(0,l.OB)("form.label.title"),defaultMessage:"Title"}),sortable:!0}},{name:"slug",key:"slug",metadatas:{label:K({id:(0,l.OB)("form.label.slug"),defaultMessage:"Slug"}),sortable:!0}},{name:"items",key:"items",metadatas:{label:K({id:(0,l.OB)("form.label.items"),defaultMessage:"Items"}),sortable:!1}}],Rt=({size:gt="L",variant:Bt="default"})=>s.createElement(P.z,{onClick:()=>U.push(`/plugins/${l.aw}/create`),startIcon:s.createElement(et.default,null),variant:Bt,size:gt},K({id:(0,l.OB)("ui.create.menu"),defaultMessage:"Create new menu"}));return s.createElement(C.Ar,{isLoading:Lt,title:K({id:(0,l.OB)("plugin.name"),defaultMessage:l.oy})},s.createElement(M.T,{title:K({id:(0,l.OB)("plugin.name"),defaultMessage:l.oy}),subtitle:K({id:(0,l.OB)("index.header.subtitle"),defaultMessage:"Customize the structure of menus and menu items"}),primaryAction:s.createElement(Rt,null)}),s.createElement(O.D,null,s.createElement(d.x,{paddingBottom:10},rt?.data?.length?s.createElement(s.Fragment,null,s.createElement(h.DynamicTable,{contentType:"menus",isLoading:Lt,headers:zt,rows:rt.data,action:s.createElement(Rt,{size:"S",variant:"secondary"}),onConfirmDelete:At},s.createElement(C.XS,{data:rt.data??[],onClickClone:gt=>U.push(`/plugins/${l.aw}/clone/${gt}`),onClickEdit:gt=>U.push(`/plugins/${l.aw}/edit/${gt}`)})),s.createElement(C.eO,{pagination:{pageCount:kt}})):s.createElement(h.EmptyStateLayout,{content:{id:(0,l.OB)("index.state.empty"),defaultMessage:"No menus found"},action:s.createElement(Rt,{size:"S",variant:"secondary"})}))))},Et=(0,s.memo)(Ft);var ft=y(57713),X=y(79371),H=y(26789),z=y(81391),ot=y(69858),mt=y(52548);const at=()=>{(0,h.useFocusWhenNavigate)();const{formatMessage:U}=(0,g.Z)();return s.createElement(ft.o,{labelledBy:"title"},s.createElement(X.T,{id:"title",title:U({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),s.createElement(H.D,null,s.createElement(z.x,{action:s.createElement(h.LinkButton,{variant:"secondary",endIcon:s.createElement(ot.Z,null),to:`/plugins/${l.aw}`},U({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:U({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:s.createElement(mt.Z,{width:"10rem"}),shadow:"tableShadow"})))},Pt=new L.S({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),dt=()=>s.createElement(x.QueryClientProvider,{client:Pt},s.createElement(a.A,null,s.createElement(w.rs,null,s.createElement(w.AW,{path:`/plugins/${l.aw}`,component:Et,exact:!0}),s.createElement(w.AW,{path:`/plugins/${l.aw}/create`,component:J,exact:!0}),s.createElement(w.AW,{path:`/plugins/${l.aw}/clone/:id`,component:J,exact:!0}),s.createElement(w.AW,{path:`/plugins/${l.aw}/edit/:id`,component:J,exact:!0}),s.createElement(w.AW,{path:"",component:at}))))},28282:(S,T,y)=>{var s=y(82354);S.exports={Graph:s.Graph,json:y(28974),alg:y(12440),version:s.version}},2842:(S,T,y)=>{var s=y(89126);S.exports=w;function w(L){var x={},a=[],l;function g(u){s.has(x,u)||(x[u]=!0,l.push(u),s.each(L.successors(u),g),s.each(L.predecessors(u),g))}return s.each(L.nodes(),function(u){l=[],g(u),l.length&&a.push(l)}),a}},53984:(S,T,y)=>{var s=y(89126);S.exports=w;function w(x,a,l){s.isArray(a)||(a=[a]);var g=(x.isDirected()?x.successors:x.neighbors).bind(x),u=[],o={};return s.each(a,function(r){if(!x.hasNode(r))throw new Error("Graph does not have node: "+r);L(x,r,l==="post",o,g,u)}),u}function L(x,a,l,g,u,o){s.has(g,a)||(g[a]=!0,l||o.push(a),s.each(u(a),function(r){L(x,r,l,g,u,o)}),l&&o.push(a))}},84847:(S,T,y)=>{var s=y(63763),w=y(89126);S.exports=L;function L(x,a,l){return w.transform(x.nodes(),function(g,u){g[u]=s(x,u,a,l)},{})}},63763:(S,T,y)=>{var s=y(89126),w=y(75639);S.exports=x;var L=s.constant(1);function x(l,g,u,o){return a(l,String(g),u||L,o||function(r){return l.outEdges(r)})}function a(l,g,u,o){var r={},t=new w,e,n,i=function(f){var v=f.v!==e?f.v:f.w,c=r[v],h=u(f),p=n.distance+h;if(h<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+f+" Weight: "+h);p<c.distance&&(c.distance=p,c.predecessor=e,t.decrease(v,p))};for(l.nodes().forEach(function(f){var v=f===g?0:Number.POSITIVE_INFINITY;r[f]={distance:v},t.add(f,v)});t.size()>0&&(e=t.removeMin(),n=r[e],n.distance!==Number.POSITIVE_INFINITY);)o(e).forEach(i);return r}},9096:(S,T,y)=>{var s=y(89126),w=y(5023);S.exports=L;function L(x){return s.filter(w(x),function(a){return a.length>1||a.length===1&&x.hasEdge(a[0],a[0])})}},38924:(S,T,y)=>{var s=y(89126);S.exports=L;var w=s.constant(1);function L(a,l,g){return x(a,l||w,g||function(u){return a.outEdges(u)})}function x(a,l,g){var u={},o=a.nodes();return o.forEach(function(r){u[r]={},u[r][r]={distance:0},o.forEach(function(t){r!==t&&(u[r][t]={distance:Number.POSITIVE_INFINITY})}),g(r).forEach(function(t){var e=t.v===r?t.w:t.v,n=l(t);u[r][e]={distance:n,predecessor:r}})}),o.forEach(function(r){var t=u[r];o.forEach(function(e){var n=u[e];o.forEach(function(i){var f=n[r],v=t[i],c=n[i],h=f.distance+v.distance;h<c.distance&&(c.distance=h,c.predecessor=v.predecessor)})})}),u}},12440:(S,T,y)=>{S.exports={components:y(2842),dijkstra:y(63763),dijkstraAll:y(84847),findCycles:y(9096),floydWarshall:y(38924),isAcyclic:y(62707),postorder:y(58828),preorder:y(92648),prim:y(80514),tarjan:y(5023),topsort:y(2166)}},62707:(S,T,y)=>{var s=y(2166);S.exports=w;function w(L){try{s(L)}catch(x){if(x instanceof s.CycleException)return!1;throw x}return!0}},58828:(S,T,y)=>{var s=y(53984);S.exports=w;function w(L,x){return s(L,x,"post")}},92648:(S,T,y)=>{var s=y(53984);S.exports=w;function w(L,x){return s(L,x,"pre")}},80514:(S,T,y)=>{var s=y(89126),w=y(30771),L=y(75639);S.exports=x;function x(a,l){var g=new w,u={},o=new L,r;function t(n){var i=n.v===r?n.w:n.v,f=o.priority(i);if(f!==void 0){var v=l(n);v<f&&(u[i]=r,o.decrease(i,v))}}if(a.nodeCount()===0)return g;s.each(a.nodes(),function(n){o.add(n,Number.POSITIVE_INFINITY),g.setNode(n)}),o.decrease(a.nodes()[0],0);for(var e=!1;o.size()>0;){if(r=o.removeMin(),s.has(u,r))g.setEdge(r,u[r]);else{if(e)throw new Error("Input graph is not connected: "+a);e=!0}a.nodeEdges(r).forEach(t)}return g}},5023:(S,T,y)=>{var s=y(89126);S.exports=w;function w(L){var x=0,a=[],l={},g=[];function u(o){var r=l[o]={onStack:!0,lowlink:x,index:x++};if(a.push(o),L.successors(o).forEach(function(n){s.has(l,n)?l[n].onStack&&(r.lowlink=Math.min(r.lowlink,l[n].index)):(u(n),r.lowlink=Math.min(r.lowlink,l[n].lowlink))}),r.lowlink===r.index){var t=[],e;do e=a.pop(),l[e].onStack=!1,t.push(e);while(o!==e);g.push(t)}}return L.nodes().forEach(function(o){s.has(l,o)||u(o)}),g}},2166:(S,T,y)=>{var s=y(89126);S.exports=w,w.CycleException=L;function w(x){var a={},l={},g=[];function u(o){if(s.has(l,o))throw new L;s.has(a,o)||(l[o]=!0,a[o]=!0,s.each(x.predecessors(o),u),delete l[o],g.push(o))}if(s.each(x.sinks(),u),s.size(a)!==x.nodeCount())throw new L;return g}function L(){}L.prototype=new Error},75639:(S,T,y)=>{var s=y(89126);S.exports=w;function w(){this._arr=[],this._keyIndices={}}w.prototype.size=function(){return this._arr.length},w.prototype.keys=function(){return this._arr.map(function(L){return L.key})},w.prototype.has=function(L){return s.has(this._keyIndices,L)},w.prototype.priority=function(L){var x=this._keyIndices[L];if(x!==void 0)return this._arr[x].priority},w.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},w.prototype.add=function(L,x){var a=this._keyIndices;if(L=String(L),!s.has(a,L)){var l=this._arr,g=l.length;return a[L]=g,l.push({key:L,priority:x}),this._decrease(g),!0}return!1},w.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var L=this._arr.pop();return delete this._keyIndices[L.key],this._heapify(0),L.key},w.prototype.decrease=function(L,x){var a=this._keyIndices[L];if(x>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+L+" Old: "+this._arr[a].priority+" New: "+x);this._arr[a].priority=x,this._decrease(a)},w.prototype._heapify=function(L){var x=this._arr,a=2*L,l=a+1,g=L;a<x.length&&(g=x[a].priority<x[g].priority?a:g,l<x.length&&(g=x[l].priority<x[g].priority?l:g),g!==L&&(this._swap(L,g),this._heapify(g)))},w.prototype._decrease=function(L){for(var x=this._arr,a=x[L].priority,l;L!==0&&(l=L>>1,!(x[l].priority<a));)this._swap(L,l),L=l},w.prototype._swap=function(L,x){var a=this._arr,l=this._keyIndices,g=a[L],u=a[x];a[L]=u,a[x]=g,l[u.key]=L,l[g.key]=x}},30771:(S,T,y)=>{"use strict";var s=y(89126);S.exports=a;var w="\0",L="\0",x="";function a(t){this._isDirected=s.has(t,"directed")?t.directed:!0,this._isMultigraph=s.has(t,"multigraph")?t.multigraph:!1,this._isCompound=s.has(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=s.constant(void 0),this._defaultEdgeLabelFn=s.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[L]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(t){return this._label=t,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(t){return s.isFunction(t)||(t=s.constant(t)),this._defaultNodeLabelFn=t,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return s.keys(this._nodes)},a.prototype.sources=function(){var t=this;return s.filter(this.nodes(),function(e){return s.isEmpty(t._in[e])})},a.prototype.sinks=function(){var t=this;return s.filter(this.nodes(),function(e){return s.isEmpty(t._out[e])})},a.prototype.setNodes=function(t,e){var n=arguments,i=this;return s.each(t,function(f){n.length>1?i.setNode(f,e):i.setNode(f)}),this},a.prototype.setNode=function(t,e){return s.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=L,this._children[t]={},this._children[L][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},a.prototype.node=function(t){return this._nodes[t]},a.prototype.hasNode=function(t){return s.has(this._nodes,t)},a.prototype.removeNode=function(t){var e=this;if(s.has(this._nodes,t)){var n=function(i){e.removeEdge(e._edgeObjs[i])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],s.each(this.children(t),function(i){e.setParent(i)}),delete this._children[t]),s.each(s.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],s.each(s.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},a.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(s.isUndefined(e))e=L;else{e+="";for(var n=e;!s.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},a.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},a.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==L)return e}},a.prototype.children=function(t){if(s.isUndefined(t)&&(t=L),this._isCompound){var e=this._children[t];if(e)return s.keys(e)}else{if(t===L)return this.nodes();if(this.hasNode(t))return[]}},a.prototype.predecessors=function(t){var e=this._preds[t];if(e)return s.keys(e)},a.prototype.successors=function(t){var e=this._sucs[t];if(e)return s.keys(e)},a.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return s.union(e,this.successors(t))},a.prototype.isLeaf=function(t){var e;return this.isDirected()?e=this.successors(t):e=this.neighbors(t),e.length===0},a.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;s.each(this._nodes,function(v,c){t(c)&&e.setNode(c,v)}),s.each(this._edgeObjs,function(v){e.hasNode(v.v)&&e.hasNode(v.w)&&e.setEdge(v,n.edge(v))});var i={};function f(v){var c=n.parent(v);return c===void 0||e.hasNode(c)?(i[v]=c,c):c in i?i[c]:f(c)}return this._isCompound&&s.each(e.nodes(),function(v){e.setParent(v,f(v))}),e},a.prototype.setDefaultEdgeLabel=function(t){return s.isFunction(t)||(t=s.constant(t)),this._defaultEdgeLabelFn=t,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return s.values(this._edgeObjs)},a.prototype.setPath=function(t,e){var n=this,i=arguments;return s.reduce(t,function(f,v){return i.length>1?n.setEdge(f,v,e):n.setEdge(f,v),v}),this},a.prototype.setEdge=function(){var t,e,n,i,f=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(t=v.v,e=v.w,n=v.name,arguments.length===2&&(i=arguments[1],f=!0)):(t=v,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],f=!0)),t=""+t,e=""+e,s.isUndefined(n)||(n=""+n);var c=u(this._isDirected,t,e,n);if(s.has(this._edgeLabels,c))return f&&(this._edgeLabels[c]=i),this;if(!s.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[c]=f?i:this._defaultEdgeLabelFn(t,e,n);var h=o(this._isDirected,t,e,n);return t=h.v,e=h.w,Object.freeze(h),this._edgeObjs[c]=h,l(this._preds[e],t),l(this._sucs[t],e),this._in[e][c]=h,this._out[t][c]=h,this._edgeCount++,this},a.prototype.edge=function(t,e,n){var i=arguments.length===1?r(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return this._edgeLabels[i]},a.prototype.hasEdge=function(t,e,n){var i=arguments.length===1?r(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return s.has(this._edgeLabels,i)},a.prototype.removeEdge=function(t,e,n){var i=arguments.length===1?r(this._isDirected,arguments[0]):u(this._isDirected,t,e,n),f=this._edgeObjs[i];return f&&(t=f.v,e=f.w,delete this._edgeLabels[i],delete this._edgeObjs[i],g(this._preds[e],t),g(this._sucs[t],e),delete this._in[e][i],delete this._out[t][i],this._edgeCount--),this},a.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var i=s.values(n);return e?s.filter(i,function(f){return f.v===e}):i}},a.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var i=s.values(n);return e?s.filter(i,function(f){return f.w===e}):i}},a.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};function l(t,e){t[e]?t[e]++:t[e]=1}function g(t,e){--t[e]||delete t[e]}function u(t,e,n,i){var f=""+e,v=""+n;if(!t&&f>v){var c=f;f=v,v=c}return f+x+v+x+(s.isUndefined(i)?w:i)}function o(t,e,n,i){var f=""+e,v=""+n;if(!t&&f>v){var c=f;f=v,v=c}var h={v:f,w:v};return i&&(h.name=i),h}function r(t,e){return u(t,e.v,e.w,e.name)}},82354:(S,T,y)=>{S.exports={Graph:y(30771),version:y(49631)}},28974:(S,T,y)=>{var s=y(89126),w=y(30771);S.exports={write:L,read:l};function L(g){var u={options:{directed:g.isDirected(),multigraph:g.isMultigraph(),compound:g.isCompound()},nodes:x(g),edges:a(g)};return s.isUndefined(g.graph())||(u.value=s.clone(g.graph())),u}function x(g){return s.map(g.nodes(),function(u){var o=g.node(u),r=g.parent(u),t={v:u};return s.isUndefined(o)||(t.value=o),s.isUndefined(r)||(t.parent=r),t})}function a(g){return s.map(g.edges(),function(u){var o=g.edge(u),r={v:u.v,w:u.w};return s.isUndefined(u.name)||(r.name=u.name),s.isUndefined(o)||(r.value=o),r})}function l(g){var u=new w(g.options).setGraph(g.value);return s.each(g.nodes,function(o){u.setNode(o.v,o.value),o.parent&&u.setParent(o.v,o.parent)}),s.each(g.edges,function(o){u.setEdge({v:o.v,w:o.w,name:o.name},o.value)}),u}},89126:(S,T,y)=>{var s;try{s={clone:y(66678),constant:y(75703),each:y(66073),filter:y(63105),has:y(18721),isArray:y(1469),isEmpty:y(41609),isFunction:y(23560),isUndefined:y(52353),keys:y(3674),map:y(35161),reduce:y(54061),size:y(84238),transform:y(68718),union:y(93386),values:y(52628)}}catch{}s||(s=window._),S.exports=s},49631:S=>{S.exports="2.1.8"},48983:(S,T,y)=>{var s=y(40371),w=s("length");S.exports=w},56029:(S,T,y)=>{var s=y(33448);function w(L,x,a){for(var l=-1,g=L.length;++l<g;){var u=L[l],o=x(u);if(o!=null&&(r===void 0?o===o&&!s(o):a(o,r)))var r=o,t=u}return t}S.exports=w},80760:(S,T,y)=>{var s=y(89881);function w(L,x){var a=[];return s(L,function(l,g,u){x(l,g,u)&&a.push(l)}),a}S.exports=w},53325:S=>{function T(y,s){return y>s}S.exports=T},70433:S=>{function T(y,s){return y<s}S.exports=T},10107:S=>{function T(y,s,w,L,x){return x(y,function(a,l,g){w=L?(L=!1,a):s(w,a,l,g)}),w}S.exports=T},47415:(S,T,y)=>{var s=y(29932);function w(L,x){return s(x,function(a){return L[a]})}S.exports=w},1757:S=>{function T(y,s,w){for(var L=-1,x=y.length,a=s.length,l={};++L<x;){var g=L<a?s[L]:void 0;w(l,y[L],g)}return l}S.exports=T},54290:(S,T,y)=>{var s=y(6557);function w(L){return typeof L=="function"?L:s}S.exports=w},67740:(S,T,y)=>{var s=y(67206),w=y(98612),L=y(3674);function x(a){return function(l,g,u){var o=Object(l);if(!w(l)){var r=s(g,3);l=L(l),g=function(e){return r(o[e],e,o)}}var t=a(l,g,u);return t>-1?o[r?l[t]:t]:void 0}}S.exports=x},88016:(S,T,y)=>{var s=y(48983),w=y(62689),L=y(21903);function x(a){return w(a)?L(a):s(a)}S.exports=x},21903:S=>{var T="\\ud800-\\udfff",y="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",w="\\u20d0-\\u20ff",L=y+s+w,x="\\ufe0e\\ufe0f",a="["+T+"]",l="["+L+"]",g="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+g+")",o="[^"+T+"]",r="(?:\\ud83c[\\udde6-\\uddff]){2}",t="[\\ud800-\\udbff][\\udc00-\\udfff]",e="\\u200d",n=u+"?",i="["+x+"]?",f="(?:"+e+"(?:"+[o,r,t].join("|")+")"+i+n+")*",v=i+n+f,c="(?:"+[o+l+"?",l,r,t,a].join("|")+")",h=RegExp(g+"(?="+g+")|"+c+v,"g");function p(d){for(var P=h.lastIndex=0;h.test(d);)++P;return P}S.exports=p},66678:(S,T,y)=>{var s=y(85990),w=4;function L(x){return s(x,w)}S.exports=L},91747:(S,T,y)=>{var s=y(5976),w=y(77813),L=y(16612),x=y(81704),a=Object.prototype,l=a.hasOwnProperty,g=s(function(u,o){u=Object(u);var r=-1,t=o.length,e=t>2?o[2]:void 0;for(e&&L(o[0],o[1],e)&&(t=1);++r<t;)for(var n=o[r],i=x(n),f=-1,v=i.length;++f<v;){var c=i[f],h=u[c];(h===void 0||w(h,a[c])&&!l.call(u,c))&&(u[c]=n[c])}return u});S.exports=g},66073:(S,T,y)=>{S.exports=y(84486)},63105:(S,T,y)=>{var s=y(34963),w=y(80760),L=y(67206),x=y(1469);function a(l,g){var u=x(l)?s:w;return u(l,L(g,3))}S.exports=a},13311:(S,T,y)=>{var s=y(67740),w=y(30998),L=s(w);S.exports=L},30998:(S,T,y)=>{var s=y(41848),w=y(67206),L=y(40554),x=Math.max;function a(l,g,u){var o=l==null?0:l.length;if(!o)return-1;var r=u==null?0:L(u);return r<0&&(r=x(o+r,0)),s(l,w(g,3),r)}S.exports=a},84486:(S,T,y)=>{var s=y(77412),w=y(89881),L=y(54290),x=y(1469);function a(l,g){var u=x(l)?s:w;return u(l,L(g))}S.exports=a},62620:(S,T,y)=>{var s=y(28483),w=y(54290),L=y(81704);function x(a,l){return a==null?a:s(a,w(l),L)}S.exports=x},47037:(S,T,y)=>{var s=y(44239),w=y(1469),L=y(37005),x="[object String]";function a(l){return typeof l=="string"||!w(l)&&L(l)&&s(l)==x}S.exports=a},52353:S=>{function T(y){return y===void 0}S.exports=T},35161:(S,T,y)=>{var s=y(29932),w=y(67206),L=y(69199),x=y(1469);function a(l,g){var u=x(l)?s:L;return u(l,w(g,3))}S.exports=a},6162:(S,T,y)=>{var s=y(56029),w=y(53325),L=y(6557);function x(a){return a&&a.length?s(a,L,w):void 0}S.exports=x},53632:(S,T,y)=>{var s=y(56029),w=y(70433),L=y(6557);function x(a){return a&&a.length?s(a,L,w):void 0}S.exports=x},22762:(S,T,y)=>{var s=y(56029),w=y(67206),L=y(70433);function x(a,l){return a&&a.length?s(a,w(l,2),L):void 0}S.exports=x},7771:(S,T,y)=>{var s=y(55639),w=function(){return s.Date.now()};S.exports=w},54061:(S,T,y)=>{var s=y(62663),w=y(89881),L=y(67206),x=y(10107),a=y(1469);function l(g,u,o){var r=a(g)?s:x,t=arguments.length<3;return r(g,L(u,4),o,t,w)}S.exports=l},84238:(S,T,y)=>{var s=y(280),w=y(64160),L=y(98612),x=y(47037),a=y(88016),l="[object Map]",g="[object Set]";function u(o){if(o==null)return 0;if(L(o))return x(o)?a(o):o.length;var r=w(o);return r==l||r==g?o.size:s(o).length}S.exports=u},93386:(S,T,y)=>{var s=y(21078),w=y(5976),L=y(45652),x=y(29246),a=w(function(l){return L(s(l,1,x,!0))});S.exports=a},44908:(S,T,y)=>{var s=y(45652);function w(L){return L&&L.length?s(L):[]}S.exports=w},52628:(S,T,y)=>{var s=y(47415),w=y(3674);function L(x){return x==null?[]:s(x,w(x))}S.exports=L},7287:(S,T,y)=>{var s=y(34865),w=y(1757);function L(x,a){return w(x||[],a||[],s)}S.exports=L}}]);
