(self.webpackChunklab_nckh=self.webpackChunklab_nckh||[]).push([[5718],{44840:(C,R,m)=>{"use strict";m.d(R,{Z:()=>l});var s=m(8081),b=m.n(s),L=m(23645),x=m.n(L),a=x()(b());a.push([C.id,`.srd-diagram {
  height: 80vh;
  overflow: hidden;
}

/* .srd-default-link path {
  stroke: #000;
} */

.erc-header-title p {
  width: 100%;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-size: 1.3rem;
  font-weight: 400;
  line-height: normal;
  color: rgb(120, 126, 143);
  margin: 0px;
  overflow: hidden;
}

.erc-header-title h1 {
  position: relative;
  width: -webkit-fit-content;
  width: -moz-fit-content;
  width: fit-content;
  max-width: 100%;
  margin-bottom: 0;
  padding-right: 18px;
  font-size: 2.4rem;
  line-height: normal;
  font-weight: 600;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
`,""]);const l=a},45473:(C,R,m)=>{"use strict";m.d(R,{Z:()=>l});var s=m(8081),b=m.n(s),L=m(23645),x=m.n(L),a=x()(b());a.push([C.id,`.srd-diagram {
  position: relative;
  flex-grow: 1;
  display: flex;
  cursor: move;
  overflow: hidden;
}
.srd-diagram__selector {
  position: absolute;
  background-color: rgba(0, 192, 255, 0.2);
  border: solid 2px #00c0ff;
}
.srd-link-layer {
  position: absolute;
  height: 100%;
  width: 100%;
  transform-origin: 0 0;
  overflow: visible !important;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.srd-node-layer {
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  position: absolute;
  pointer-events: none;
  transform-origin: 0 0;
  width: 100%;
  height: 100%;
}
.srd-node {
  position: absolute;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  cursor: move;
  pointer-events: all;
}
.srd-node--selected > * {
  border-color: #00c0ff !important;
}
.srd-port {
  width: 15px;
  height: 15px;
  background: rgba(255, 255, 255, 0.1);
}
.srd-port:hover,
.srd-port.selected {
  background: #c0ff00;
}
.srd-default-node {
  background-color: #1e1e1e;
  border-radius: 5px;
  font-family: sans-serif;
  color: white;
  border: solid 2px black;
  overflow: visible;
  font-size: 11px;
}
.srd-default-node__title {
  background: rgba(0, 0, 0, 0.3);
  display: flex;
  white-space: nowrap;
}
.srd-default-node__title > * {
  align-self: center;
}
.srd-default-node__title .fa {
  padding: 5px;
  opacity: 0.2;
  cursor: pointer;
}
.srd-default-node__title .fa:hover {
  opacity: 1;
}
.srd-default-node__name {
  flex-grow: 1;
  padding: 5px 5px;
}
.srd-default-node__ports {
  display: flex;
  background-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2));
}
.srd-default-node__in,
.srd-default-node__out {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}
.srd-default-port {
  display: flex;
  margin-top: 1px;
}
.srd-default-port > * {
  align-self: center;
}
.srd-default-port__name {
  padding: 0 5px;
}
.srd-default-port--out {
  justify-content: flex-end;
}
.srd-default-port--out .srd-default-port__name {
  justify-content: flex-end;
  text-align: right;
}
.srd-default-label {
  background: rgba(70, 70, 70, 0.8);
  border: 1px solid #333;
  border-radius: 4px;
  color: #fff;
  display: inline-block;
  font-size: smaller;
  padding: 5px;
}
@keyframes dash {
  from {
    stroke-dashoffset: 24;
  }
  to {
    stroke-dashoffset: 0;
  }
}
.srd-default-link path {
  fill: none;
  pointer-events: all;
}
.srd-default-link--path-selected {
  stroke: #00c0ff !important;
  stroke-dasharray: 10, 2;
  animation: dash 1s linear infinite;
}
.srd-default-link__label {
  pointer-events: none;
}
.srd-default-link__label > div {
  display: inline-block;
  position: absolute;
}
.srd-default-link__point {
  fill: rgba(255, 255, 255, 0.5);
}
.srd-default-link--point-selected {
  fill: #00c0ff;
}
`,""]);const l=a},70681:(C,R,m)=>{C.exports={graphlib:m(70574),layout:m(98123),debug:m(27570),util:{time:m(11138).time,notime:m(11138).notime},version:m(88177)}},92188:(C,R,m)=>{"use strict";var s=m(38436),b=m(74079);C.exports={run:L,undo:a};function L(l){var g=l.graph().acyclicer==="greedy"?b(l,u(l)):x(l);s.forEach(g,function(o){var r=l.edge(o);l.removeEdge(o),r.forwardName=o.name,r.reversed=!0,l.setEdge(o.w,o.v,r,s.uniqueId("rev"))});function u(o){return function(r){return o.edge(r).weight}}}function x(l){var g=[],u={},o={};function r(t){s.has(o,t)||(o[t]=!0,u[t]=!0,s.forEach(l.outEdges(t),function(e){s.has(u,e.w)?g.push(e):r(e.w)}),delete u[t])}return s.forEach(l.nodes(),r),g}function a(l){s.forEach(l.edges(),function(g){var u=l.edge(g);if(u.reversed){l.removeEdge(g);var o=u.forwardName;delete u.reversed,delete u.forwardName,l.setEdge(g.w,g.v,u,o)}})}},61133:(C,R,m)=>{var s=m(38436),b=m(11138);C.exports=L;function L(a){function l(g){var u=a.children(g),o=a.node(g);if(u.length&&s.forEach(u,l),s.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var r=o.minRank,t=o.maxRank+1;r<t;++r)x(a,"borderLeft","_bl",g,o,r),x(a,"borderRight","_br",g,o,r)}}s.forEach(a.children(),l)}function x(a,l,g,u,o,r){var t={width:0,height:0,rank:r,borderType:l},e=o[l][r-1],n=b.addDummyNode(a,"border",t,g);o[l][r]=n,a.setParent(n,u),e&&a.setEdge(e,n,{weight:1})}},53258:(C,R,m)=>{"use strict";var s=m(38436);C.exports={adjust:b,undo:L};function b(r){var t=r.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&x(r)}function L(r){var t=r.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&l(r),(t==="lr"||t==="rl")&&(u(r),x(r))}function x(r){s.forEach(r.nodes(),function(t){a(r.node(t))}),s.forEach(r.edges(),function(t){a(r.edge(t))})}function a(r){var t=r.width;r.width=r.height,r.height=t}function l(r){s.forEach(r.nodes(),function(t){g(r.node(t))}),s.forEach(r.edges(),function(t){var e=r.edge(t);s.forEach(e.points,g),s.has(e,"y")&&g(e)})}function g(r){r.y=-r.y}function u(r){s.forEach(r.nodes(),function(t){o(r.node(t))}),s.forEach(r.edges(),function(t){var e=r.edge(t);s.forEach(e.points,o),s.has(e,"x")&&o(e)})}function o(r){var t=r.x;r.x=r.y,r.y=t}},77822:C=>{C.exports=R;function R(){var b={};b._next=b._prev=b,this._sentinel=b}R.prototype.dequeue=function(){var b=this._sentinel,L=b._prev;if(L!==b)return m(L),L},R.prototype.enqueue=function(b){var L=this._sentinel;b._prev&&b._next&&m(b),b._next=L._next,L._next._prev=b,L._next=b,b._prev=L},R.prototype.toString=function(){for(var b=[],L=this._sentinel,x=L._prev;x!==L;)b.push(JSON.stringify(x,s)),x=x._prev;return"["+b.join(", ")+"]"};function m(b){b._prev._next=b._next,b._next._prev=b._prev,delete b._next,delete b._prev}function s(b,L){if(b!=="_next"&&b!=="_prev")return L}},27570:(C,R,m)=>{var s=m(38436),b=m(11138),L=m(70574).Graph;C.exports={debugOrdering:x};function x(a){var l=b.buildLayerMatrix(a),g=new L({compound:!0,multigraph:!0}).setGraph({});return s.forEach(a.nodes(),function(u){g.setNode(u,{label:u}),g.setParent(u,"layer"+a.node(u).rank)}),s.forEach(a.edges(),function(u){g.setEdge(u.v,u.w,{},u.name)}),s.forEach(l,function(u,o){var r="layer"+o;g.setNode(r,{rank:"same"}),s.reduce(u,function(t,e){return g.setEdge(t,e,{style:"invis"}),e})}),g}},70574:(C,R,m)=>{var s;try{s=m(28282)}catch{}s||(s=window.graphlib),C.exports=s},74079:(C,R,m)=>{var s=m(38436),b=m(70574).Graph,L=m(77822);C.exports=a;var x=s.constant(1);function a(r,t){if(r.nodeCount()<=1)return[];var e=u(r,t||x),n=l(e.graph,e.buckets,e.zeroIdx);return s.flatten(s.map(n,function(i){return r.outEdges(i.v,i.w)}),!0)}function l(r,t,e){for(var n=[],i=t[t.length-1],d=t[0],h;r.nodeCount();){for(;h=d.dequeue();)g(r,t,e,h);for(;h=i.dequeue();)g(r,t,e,h);if(r.nodeCount()){for(var c=t.length-2;c>0;--c)if(h=t[c].dequeue(),h){n=n.concat(g(r,t,e,h,!0));break}}}return n}function g(r,t,e,n,i){var d=i?[]:void 0;return s.forEach(r.inEdges(n.v),function(h){var c=r.edge(h),p=r.node(h.v);i&&d.push({v:h.v,w:h.w}),p.out-=c,o(t,e,p)}),s.forEach(r.outEdges(n.v),function(h){var c=r.edge(h),p=h.w,v=r.node(p);v.in-=c,o(t,e,v)}),r.removeNode(n.v),d}function u(r,t){var e=new b,n=0,i=0;s.forEach(r.nodes(),function(c){e.setNode(c,{v:c,in:0,out:0})}),s.forEach(r.edges(),function(c){var p=e.edge(c.v,c.w)||0,v=t(c),f=p+v;e.setEdge(c.v,c.w,f),i=Math.max(i,e.node(c.v).out+=v),n=Math.max(n,e.node(c.w).in+=v)});var d=s.range(i+n+3).map(function(){return new L}),h=n+1;return s.forEach(e.nodes(),function(c){o(d,h,e.node(c))}),{graph:e,buckets:d,zeroIdx:h}}function o(r,t,e){e.out?e.in?r[e.out-e.in+t].enqueue(e):r[r.length-1].enqueue(e):r[0].enqueue(e)}},98123:(C,R,m)=>{"use strict";var s=m(38436),b=m(92188),L=m(45995),x=m(78093),a=m(11138).normalizeRanks,l=m(24219),g=m(11138).removeEmptyRanks,u=m(72981),o=m(61133),r=m(53258),t=m(53408),e=m(17873),n=m(11138),i=m(70574).Graph;C.exports=d;function d(F,T){var j=T&&T.debugTiming?n.time:n.notime;j("layout",function(){var B=j("  buildLayoutGraph",function(){return A(F)});j("  runLayout",function(){h(B,j)}),j("  updateInputGraph",function(){c(F,B)})})}function h(F,T){T("    makeSpaceForEdgeLabels",function(){N(F)}),T("    removeSelfEdges",function(){Z(F)}),T("    acyclic",function(){b.run(F)}),T("    nestingGraph.run",function(){u.run(F)}),T("    rank",function(){x(n.asNonCompoundGraph(F))}),T("    injectEdgeLabelProxies",function(){w(F)}),T("    removeEmptyRanks",function(){g(F)}),T("    nestingGraph.cleanup",function(){u.cleanup(F)}),T("    normalizeRanks",function(){a(F)}),T("    assignRankMinMax",function(){S(F)}),T("    removeEdgeLabelProxies",function(){I(F)}),T("    normalize.run",function(){L.run(F)}),T("    parentDummyChains",function(){l(F)}),T("    addBorderSegments",function(){o(F)}),T("    order",function(){t(F)}),T("    insertSelfEdges",function(){ht(F)}),T("    adjustCoordinateSystem",function(){r.adjust(F)}),T("    position",function(){e(F)}),T("    positionSelfEdges",function(){ct(F)}),T("    removeBorderNodes",function(){Q(F)}),T("    normalize.undo",function(){L.undo(F)}),T("    fixupEdgeLabelCoords",function(){W(F)}),T("    undoCoordinateSystem",function(){r.undo(F)}),T("    translateGraph",function(){k(F)}),T("    assignNodeIntersects",function(){D(F)}),T("    reversePoints",function(){G(F)}),T("    acyclic.undo",function(){b.undo(F)})}function c(F,T){s.forEach(F.nodes(),function(j){var B=F.node(j),Y=T.node(j);B&&(B.x=Y.x,B.y=Y.y,T.children(j).length&&(B.width=Y.width,B.height=Y.height))}),s.forEach(F.edges(),function(j){var B=F.edge(j),Y=T.edge(j);B.points=Y.points,s.has(Y,"x")&&(B.x=Y.x,B.y=Y.y)}),F.graph().width=T.graph().width,F.graph().height=T.graph().height}var p=["nodesep","edgesep","ranksep","marginx","marginy"],v={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},f=["acyclicer","ranker","rankdir","align"],P=["width","height"],y={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],M={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},O=["labelpos"];function A(F){var T=new i({multigraph:!0,compound:!0}),j=Mt(F.graph());return T.setGraph(s.merge({},v,Ot(j,p),s.pick(j,f))),s.forEach(F.nodes(),function(B){var Y=Mt(F.node(B));T.setNode(B,s.defaults(Ot(Y,P),y)),T.setParent(B,F.parent(B))}),s.forEach(F.edges(),function(B){var Y=Mt(F.edge(B));T.setEdge(B,s.merge({},M,Ot(Y,E),s.pick(Y,O)))}),T}function N(F){var T=F.graph();T.ranksep/=2,s.forEach(F.edges(),function(j){var B=F.edge(j);B.minlen*=2,B.labelpos.toLowerCase()!=="c"&&(T.rankdir==="TB"||T.rankdir==="BT"?B.width+=B.labeloffset:B.height+=B.labeloffset)})}function w(F){s.forEach(F.edges(),function(T){var j=F.edge(T);if(j.width&&j.height){var B=F.node(T.v),Y=F.node(T.w),J={rank:(Y.rank-B.rank)/2+B.rank,e:T};n.addDummyNode(F,"edge-proxy",J,"_ep")}})}function S(F){var T=0;s.forEach(F.nodes(),function(j){var B=F.node(j);B.borderTop&&(B.minRank=F.node(B.borderTop).rank,B.maxRank=F.node(B.borderBottom).rank,T=s.max(T,B.maxRank))}),F.graph().maxRank=T}function I(F){s.forEach(F.nodes(),function(T){var j=F.node(T);j.dummy==="edge-proxy"&&(F.edge(j.e).labelRank=j.rank,F.removeNode(T))})}function k(F){var T=Number.POSITIVE_INFINITY,j=0,B=Number.POSITIVE_INFINITY,Y=0,J=F.graph(),et=J.marginx||0,pt=J.marginy||0;function Dt(xt){var dt=xt.x,X=xt.y,H=xt.width,z=xt.height;T=Math.min(T,dt-H/2),j=Math.max(j,dt+H/2),B=Math.min(B,X-z/2),Y=Math.max(Y,X+z/2)}s.forEach(F.nodes(),function(xt){Dt(F.node(xt))}),s.forEach(F.edges(),function(xt){var dt=F.edge(xt);s.has(dt,"x")&&Dt(dt)}),T-=et,B-=pt,s.forEach(F.nodes(),function(xt){var dt=F.node(xt);dt.x-=T,dt.y-=B}),s.forEach(F.edges(),function(xt){var dt=F.edge(xt);s.forEach(dt.points,function(X){X.x-=T,X.y-=B}),s.has(dt,"x")&&(dt.x-=T),s.has(dt,"y")&&(dt.y-=B)}),J.width=j-T+et,J.height=Y-B+pt}function D(F){s.forEach(F.edges(),function(T){var j=F.edge(T),B=F.node(T.v),Y=F.node(T.w),J,et;j.points?(J=j.points[0],et=j.points[j.points.length-1]):(j.points=[],J=Y,et=B),j.points.unshift(n.intersectRect(B,J)),j.points.push(n.intersectRect(Y,et))})}function W(F){s.forEach(F.edges(),function(T){var j=F.edge(T);if(s.has(j,"x"))switch((j.labelpos==="l"||j.labelpos==="r")&&(j.width-=j.labeloffset),j.labelpos){case"l":j.x-=j.width/2+j.labeloffset;break;case"r":j.x+=j.width/2+j.labeloffset;break}})}function G(F){s.forEach(F.edges(),function(T){var j=F.edge(T);j.reversed&&j.points.reverse()})}function Q(F){s.forEach(F.nodes(),function(T){if(F.children(T).length){var j=F.node(T),B=F.node(j.borderTop),Y=F.node(j.borderBottom),J=F.node(s.last(j.borderLeft)),et=F.node(s.last(j.borderRight));j.width=Math.abs(et.x-J.x),j.height=Math.abs(Y.y-B.y),j.x=J.x+j.width/2,j.y=B.y+j.height/2}}),s.forEach(F.nodes(),function(T){F.node(T).dummy==="border"&&F.removeNode(T)})}function Z(F){s.forEach(F.edges(),function(T){if(T.v===T.w){var j=F.node(T.v);j.selfEdges||(j.selfEdges=[]),j.selfEdges.push({e:T,label:F.edge(T)}),F.removeEdge(T)}})}function ht(F){var T=n.buildLayerMatrix(F);s.forEach(T,function(j){var B=0;s.forEach(j,function(Y,J){var et=F.node(Y);et.order=J+B,s.forEach(et.selfEdges,function(pt){n.addDummyNode(F,"selfedge",{width:pt.label.width,height:pt.label.height,rank:et.rank,order:J+ ++B,e:pt.e,label:pt.label},"_se")}),delete et.selfEdges})})}function ct(F){s.forEach(F.nodes(),function(T){var j=F.node(T);if(j.dummy==="selfedge"){var B=F.node(j.e.v),Y=B.x+B.width/2,J=B.y,et=j.x-Y,pt=B.height/2;F.setEdge(j.e,j.label),F.removeNode(T),j.label.points=[{x:Y+2*et/3,y:J-pt},{x:Y+5*et/6,y:J-pt},{x:Y+et,y:J},{x:Y+5*et/6,y:J+pt},{x:Y+2*et/3,y:J+pt}],j.label.x=j.x,j.label.y=j.y}})}function Ot(F,T){return s.mapValues(s.pick(F,T),Number)}function Mt(F){var T={};return s.forEach(F,function(j,B){T[B.toLowerCase()]=j}),T}},38436:(C,R,m)=>{var s;try{s={cloneDeep:m(50361),constant:m(75703),defaults:m(91747),each:m(66073),filter:m(63105),find:m(13311),flatten:m(85564),forEach:m(84486),forIn:m(62620),has:m(18721),isUndefined:m(52353),last:m(10928),map:m(35161),mapValues:m(66604),max:m(6162),merge:m(82492),min:m(53632),minBy:m(22762),now:m(7771),pick:m(78718),range:m(96026),reduce:m(54061),sortBy:m(89734),uniqueId:m(73955),values:m(52628),zipObject:m(7287)}}catch{}s||(s=window._),C.exports=s},72981:(C,R,m)=>{var s=m(38436),b=m(11138);C.exports={run:L,cleanup:g};function L(u){var o=b.addDummyNode(u,"root",{},"_root"),r=a(u),t=s.max(s.values(r))-1,e=2*t+1;u.graph().nestingRoot=o,s.forEach(u.edges(),function(i){u.edge(i).minlen*=e});var n=l(u)+1;s.forEach(u.children(),function(i){x(u,o,e,n,t,r,i)}),u.graph().nodeRankFactor=e}function x(u,o,r,t,e,n,i){var d=u.children(i);if(!d.length){i!==o&&u.setEdge(o,i,{weight:0,minlen:r});return}var h=b.addBorderNode(u,"_bt"),c=b.addBorderNode(u,"_bb"),p=u.node(i);u.setParent(h,i),p.borderTop=h,u.setParent(c,i),p.borderBottom=c,s.forEach(d,function(v){x(u,o,r,t,e,n,v);var f=u.node(v),P=f.borderTop?f.borderTop:v,y=f.borderBottom?f.borderBottom:v,E=f.borderTop?t:2*t,M=P!==y?1:e-n[i]+1;u.setEdge(h,P,{weight:E,minlen:M,nestingEdge:!0}),u.setEdge(y,c,{weight:E,minlen:M,nestingEdge:!0})}),u.parent(i)||u.setEdge(o,h,{weight:0,minlen:e+n[i]})}function a(u){var o={};function r(t,e){var n=u.children(t);n&&n.length&&s.forEach(n,function(i){r(i,e+1)}),o[t]=e}return s.forEach(u.children(),function(t){r(t,1)}),o}function l(u){return s.reduce(u.edges(),function(o,r){return o+u.edge(r).weight},0)}function g(u){var o=u.graph();u.removeNode(o.nestingRoot),delete o.nestingRoot,s.forEach(u.edges(),function(r){var t=u.edge(r);t.nestingEdge&&u.removeEdge(r)})}},45995:(C,R,m)=>{"use strict";var s=m(38436),b=m(11138);C.exports={run:L,undo:a};function L(l){l.graph().dummyChains=[],s.forEach(l.edges(),function(g){x(l,g)})}function x(l,g){var u=g.v,o=l.node(u).rank,r=g.w,t=l.node(r).rank,e=g.name,n=l.edge(g),i=n.labelRank;if(t!==o+1){l.removeEdge(g);var d,h,c;for(c=0,++o;o<t;++c,++o)n.points=[],h={width:0,height:0,edgeLabel:n,edgeObj:g,rank:o},d=b.addDummyNode(l,"edge",h,"_d"),o===i&&(h.width=n.width,h.height=n.height,h.dummy="edge-label",h.labelpos=n.labelpos),l.setEdge(u,d,{weight:n.weight},e),c===0&&l.graph().dummyChains.push(d),u=d;l.setEdge(u,r,{weight:n.weight},e)}}function a(l){s.forEach(l.graph().dummyChains,function(g){var u=l.node(g),o=u.edgeLabel,r;for(l.setEdge(u.edgeObj,o);u.dummy;)r=l.successors(g)[0],l.removeNode(g),o.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(o.x=u.x,o.y=u.y,o.width=u.width,o.height=u.height),g=r,u=l.node(g)})}},55093:(C,R,m)=>{var s=m(38436);C.exports=b;function b(L,x,a){var l={},g;s.forEach(a,function(u){for(var o=L.parent(u),r,t;o;){if(r=L.parent(o),r?(t=l[r],l[r]=o):(t=g,g=o),t&&t!==o){x.setEdge(t,o);return}o=r}})}},35439:(C,R,m)=>{var s=m(38436);C.exports=b;function b(L,x){return s.map(x,function(a){var l=L.inEdges(a);if(l.length){var g=s.reduce(l,function(u,o){var r=L.edge(o),t=L.node(o.v);return{sum:u.sum+r.weight*t.order,weight:u.weight+r.weight}},{sum:0,weight:0});return{v:a,barycenter:g.sum/g.weight,weight:g.weight}}else return{v:a}})}},23128:(C,R,m)=>{var s=m(38436),b=m(70574).Graph;C.exports=L;function L(a,l,g){var u=x(a),o=new b({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(r){return a.node(r)});return s.forEach(a.nodes(),function(r){var t=a.node(r),e=a.parent(r);(t.rank===l||t.minRank<=l&&l<=t.maxRank)&&(o.setNode(r),o.setParent(r,e||u),s.forEach(a[g](r),function(n){var i=n.v===r?n.w:n.v,d=o.edge(i,r),h=s.isUndefined(d)?0:d.weight;o.setEdge(i,r,{weight:a.edge(n).weight+h})}),s.has(t,"minRank")&&o.setNode(r,{borderLeft:t.borderLeft[l],borderRight:t.borderRight[l]}))}),o}function x(a){for(var l;a.hasNode(l=s.uniqueId("_root")););return l}},56630:(C,R,m)=>{"use strict";var s=m(38436);C.exports=b;function b(x,a){for(var l=0,g=1;g<a.length;++g)l+=L(x,a[g-1],a[g]);return l}function L(x,a,l){for(var g=s.zipObject(l,s.map(l,function(n,i){return i})),u=s.flatten(s.map(a,function(n){return s.sortBy(s.map(x.outEdges(n),function(i){return{pos:g[i.w],weight:x.edge(i).weight}}),"pos")}),!0),o=1;o<l.length;)o<<=1;var r=2*o-1;o-=1;var t=s.map(new Array(r),function(){return 0}),e=0;return s.forEach(u.forEach(function(n){var i=n.pos+o;t[i]+=n.weight;for(var d=0;i>0;)i%2&&(d+=t[i+1]),i=i-1>>1,t[i]+=n.weight;e+=n.weight*d})),e}},53408:(C,R,m)=>{"use strict";var s=m(38436),b=m(2588),L=m(56630),x=m(61026),a=m(23128),l=m(55093),g=m(70574).Graph,u=m(11138);C.exports=o;function o(n){var i=u.maxRank(n),d=r(n,s.range(1,i+1),"inEdges"),h=r(n,s.range(i-1,-1,-1),"outEdges"),c=b(n);e(n,c);for(var p=Number.POSITIVE_INFINITY,v,f=0,P=0;P<4;++f,++P){t(f%2?d:h,f%4>=2),c=u.buildLayerMatrix(n);var y=L(n,c);y<p&&(P=0,v=s.cloneDeep(c),p=y)}e(n,v)}function r(n,i,d){return s.map(i,function(h){return a(n,h,d)})}function t(n,i){var d=new g;s.forEach(n,function(h){var c=h.graph().root,p=x(h,c,d,i);s.forEach(p.vs,function(v,f){h.node(v).order=f}),l(h,d,p.vs)})}function e(n,i){s.forEach(i,function(d){s.forEach(d,function(h,c){n.node(h).order=c})})}},2588:(C,R,m)=>{"use strict";var s=m(38436);C.exports=b;function b(L){var x={},a=s.filter(L.nodes(),function(r){return!L.children(r).length}),l=s.max(s.map(a,function(r){return L.node(r).rank})),g=s.map(s.range(l+1),function(){return[]});function u(r){if(!s.has(x,r)){x[r]=!0;var t=L.node(r);g[t.rank].push(r),s.forEach(L.successors(r),u)}}var o=s.sortBy(a,function(r){return L.node(r).rank});return s.forEach(o,u),g}},83678:(C,R,m)=>{"use strict";var s=m(38436);C.exports=b;function b(a,l){var g={};s.forEach(a,function(o,r){var t=g[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:r};s.isUndefined(o.barycenter)||(t.barycenter=o.barycenter,t.weight=o.weight)}),s.forEach(l.edges(),function(o){var r=g[o.v],t=g[o.w];!s.isUndefined(r)&&!s.isUndefined(t)&&(t.indegree++,r.out.push(g[o.w]))});var u=s.filter(g,function(o){return!o.indegree});return L(u)}function L(a){var l=[];function g(r){return function(t){t.merged||(s.isUndefined(t.barycenter)||s.isUndefined(r.barycenter)||t.barycenter>=r.barycenter)&&x(r,t)}}function u(r){return function(t){t.in.push(r),--t.indegree===0&&a.push(t)}}for(;a.length;){var o=a.pop();l.push(o),s.forEach(o.in.reverse(),g(o)),s.forEach(o.out,u(o))}return s.map(s.filter(l,function(r){return!r.merged}),function(r){return s.pick(r,["vs","i","barycenter","weight"])})}function x(a,l){var g=0,u=0;a.weight&&(g+=a.barycenter*a.weight,u+=a.weight),l.weight&&(g+=l.barycenter*l.weight,u+=l.weight),a.vs=l.vs.concat(a.vs),a.barycenter=g/u,a.weight=u,a.i=Math.min(l.i,a.i),l.merged=!0}},61026:(C,R,m)=>{var s=m(38436),b=m(35439),L=m(83678),x=m(87304);C.exports=a;function a(u,o,r,t){var e=u.children(o),n=u.node(o),i=n?n.borderLeft:void 0,d=n?n.borderRight:void 0,h={};i&&(e=s.filter(e,function(y){return y!==i&&y!==d}));var c=b(u,e);s.forEach(c,function(y){if(u.children(y.v).length){var E=a(u,y.v,r,t);h[y.v]=E,s.has(E,"barycenter")&&g(y,E)}});var p=L(c,r);l(p,h);var v=x(p,t);if(i&&(v.vs=s.flatten([i,v.vs,d],!0),u.predecessors(i).length)){var f=u.node(u.predecessors(i)[0]),P=u.node(u.predecessors(d)[0]);s.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+f.order+P.order)/(v.weight+2),v.weight+=2}return v}function l(u,o){s.forEach(u,function(r){r.vs=s.flatten(r.vs.map(function(t){return o[t]?o[t].vs:t}),!0)})}function g(u,o){s.isUndefined(u.barycenter)?(u.barycenter=o.barycenter,u.weight=o.weight):(u.barycenter=(u.barycenter*u.weight+o.barycenter*o.weight)/(u.weight+o.weight),u.weight+=o.weight)}},87304:(C,R,m)=>{var s=m(38436),b=m(11138);C.exports=L;function L(l,g){var u=b.partition(l,function(h){return s.has(h,"barycenter")}),o=u.lhs,r=s.sortBy(u.rhs,function(h){return-h.i}),t=[],e=0,n=0,i=0;o.sort(a(!!g)),i=x(t,r,i),s.forEach(o,function(h){i+=h.vs.length,t.push(h.vs),e+=h.barycenter*h.weight,n+=h.weight,i=x(t,r,i)});var d={vs:s.flatten(t,!0)};return n&&(d.barycenter=e/n,d.weight=n),d}function x(l,g,u){for(var o;g.length&&(o=s.last(g)).i<=u;)g.pop(),l.push(o.vs),u++;return u}function a(l){return function(g,u){return g.barycenter<u.barycenter?-1:g.barycenter>u.barycenter?1:l?u.i-g.i:g.i-u.i}}},24219:(C,R,m)=>{var s=m(38436);C.exports=b;function b(a){var l=x(a);s.forEach(a.graph().dummyChains,function(g){for(var u=a.node(g),o=u.edgeObj,r=L(a,l,o.v,o.w),t=r.path,e=r.lca,n=0,i=t[n],d=!0;g!==o.w;){if(u=a.node(g),d){for(;(i=t[n])!==e&&a.node(i).maxRank<u.rank;)n++;i===e&&(d=!1)}if(!d){for(;n<t.length-1&&a.node(i=t[n+1]).minRank<=u.rank;)n++;i=t[n]}a.setParent(g,i),g=a.successors(g)[0]}})}function L(a,l,g,u){var o=[],r=[],t=Math.min(l[g].low,l[u].low),e=Math.max(l[g].lim,l[u].lim),n,i;n=g;do n=a.parent(n),o.push(n);while(n&&(l[n].low>t||e>l[n].lim));for(i=n,n=u;(n=a.parent(n))!==i;)r.push(n);return{path:o.concat(r.reverse()),lca:i}}function x(a){var l={},g=0;function u(o){var r=g;s.forEach(a.children(o),u),l[o]={low:r,lim:g++}}return s.forEach(a.children(),u),l}},3573:(C,R,m)=>{"use strict";var s=m(38436),b=m(70574).Graph,L=m(11138);C.exports={positionX:d,findType1Conflicts:x,findType2Conflicts:a,addConflict:g,hasConflict:u,verticalAlignment:o,horizontalCompaction:r,alignCoordinates:n,findSmallestWidthAlignment:e,balance:i};function x(p,v){var f={};function P(y,E){var M=0,O=0,A=y.length,N=s.last(E);return s.forEach(E,function(w,S){var I=l(p,w),k=I?p.node(I).order:A;(I||w===N)&&(s.forEach(E.slice(O,S+1),function(D){s.forEach(p.predecessors(D),function(W){var G=p.node(W),Q=G.order;(Q<M||k<Q)&&!(G.dummy&&p.node(D).dummy)&&g(f,W,D)})}),O=S+1,M=k)}),E}return s.reduce(v,P),f}function a(p,v){var f={};function P(E,M,O,A,N){var w;s.forEach(s.range(M,O),function(S){w=E[S],p.node(w).dummy&&s.forEach(p.predecessors(w),function(I){var k=p.node(I);k.dummy&&(k.order<A||k.order>N)&&g(f,I,w)})})}function y(E,M){var O=-1,A,N=0;return s.forEach(M,function(w,S){if(p.node(w).dummy==="border"){var I=p.predecessors(w);I.length&&(A=p.node(I[0]).order,P(M,N,S,O,A),N=S,O=A)}P(M,N,M.length,A,E.length)}),M}return s.reduce(v,y),f}function l(p,v){if(p.node(v).dummy)return s.find(p.predecessors(v),function(f){return p.node(f).dummy})}function g(p,v,f){if(v>f){var P=v;v=f,f=P}var y=p[v];y||(p[v]=y={}),y[f]=!0}function u(p,v,f){if(v>f){var P=v;v=f,f=P}return s.has(p[v],f)}function o(p,v,f,P){var y={},E={},M={};return s.forEach(v,function(O){s.forEach(O,function(A,N){y[A]=A,E[A]=A,M[A]=N})}),s.forEach(v,function(O){var A=-1;s.forEach(O,function(N){var w=P(N);if(w.length){w=s.sortBy(w,function(W){return M[W]});for(var S=(w.length-1)/2,I=Math.floor(S),k=Math.ceil(S);I<=k;++I){var D=w[I];E[N]===N&&A<M[D]&&!u(f,N,D)&&(E[D]=N,E[N]=y[N]=y[D],A=M[D])}}})}),{root:y,align:E}}function r(p,v,f,P,y){var E={},M=t(p,v,f,y),O=y?"borderLeft":"borderRight";function A(S,I){for(var k=M.nodes(),D=k.pop(),W={};D;)W[D]?S(D):(W[D]=!0,k.push(D),k=k.concat(I(D))),D=k.pop()}function N(S){E[S]=M.inEdges(S).reduce(function(I,k){return Math.max(I,E[k.v]+M.edge(k))},0)}function w(S){var I=M.outEdges(S).reduce(function(D,W){return Math.min(D,E[W.w]-M.edge(W))},Number.POSITIVE_INFINITY),k=p.node(S);I!==Number.POSITIVE_INFINITY&&k.borderType!==O&&(E[S]=Math.max(E[S],I))}return A(N,M.predecessors.bind(M)),A(w,M.successors.bind(M)),s.forEach(P,function(S){E[S]=E[f[S]]}),E}function t(p,v,f,P){var y=new b,E=p.graph(),M=h(E.nodesep,E.edgesep,P);return s.forEach(v,function(O){var A;s.forEach(O,function(N){var w=f[N];if(y.setNode(w),A){var S=f[A],I=y.edge(S,w);y.setEdge(S,w,Math.max(M(p,N,A),I||0))}A=N})}),y}function e(p,v){return s.minBy(s.values(v),function(f){var P=Number.NEGATIVE_INFINITY,y=Number.POSITIVE_INFINITY;return s.forIn(f,function(E,M){var O=c(p,M)/2;P=Math.max(E+O,P),y=Math.min(E-O,y)}),P-y})}function n(p,v){var f=s.values(v),P=s.min(f),y=s.max(f);s.forEach(["u","d"],function(E){s.forEach(["l","r"],function(M){var O=E+M,A=p[O],N;if(A!==v){var w=s.values(A);N=M==="l"?P-s.min(w):y-s.max(w),N&&(p[O]=s.mapValues(A,function(S){return S+N}))}})})}function i(p,v){return s.mapValues(p.ul,function(f,P){if(v)return p[v.toLowerCase()][P];var y=s.sortBy(s.map(p,P));return(y[1]+y[2])/2})}function d(p){var v=L.buildLayerMatrix(p),f=s.merge(x(p,v),a(p,v)),P={},y;s.forEach(["u","d"],function(M){y=M==="u"?v:s.values(v).reverse(),s.forEach(["l","r"],function(O){O==="r"&&(y=s.map(y,function(S){return s.values(S).reverse()}));var A=(M==="u"?p.predecessors:p.successors).bind(p),N=o(p,y,f,A),w=r(p,y,N.root,N.align,O==="r");O==="r"&&(w=s.mapValues(w,function(S){return-S})),P[M+O]=w})});var E=e(p,P);return n(P,E),i(P,p.graph().align)}function h(p,v,f){return function(P,y,E){var M=P.node(y),O=P.node(E),A=0,N;if(A+=M.width/2,s.has(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":N=-M.width/2;break;case"r":N=M.width/2;break}if(N&&(A+=f?N:-N),N=0,A+=(M.dummy?v:p)/2,A+=(O.dummy?v:p)/2,A+=O.width/2,s.has(O,"labelpos"))switch(O.labelpos.toLowerCase()){case"l":N=O.width/2;break;case"r":N=-O.width/2;break}return N&&(A+=f?N:-N),N=0,A}}function c(p,v){return p.node(v).width}},17873:(C,R,m)=>{"use strict";var s=m(38436),b=m(11138),L=m(3573).positionX;C.exports=x;function x(l){l=b.asNonCompoundGraph(l),a(l),s.forEach(L(l),function(g,u){l.node(u).x=g})}function a(l){var g=b.buildLayerMatrix(l),u=l.graph().ranksep,o=0;s.forEach(g,function(r){var t=s.max(s.map(r,function(e){return l.node(e).height}));s.forEach(r,function(e){l.node(e).y=o+t/2}),o+=t+u})}},20300:(C,R,m)=>{"use strict";var s=m(38436),b=m(70574).Graph,L=m(76681).slack;C.exports=x;function x(u){var o=new b({directed:!1}),r=u.nodes()[0],t=u.nodeCount();o.setNode(r,{});for(var e,n;a(o,u)<t;)e=l(o,u),n=o.hasNode(e.v)?L(u,e):-L(u,e),g(o,u,n);return o}function a(u,o){function r(t){s.forEach(o.nodeEdges(t),function(e){var n=e.v,i=t===n?e.w:n;!u.hasNode(i)&&!L(o,e)&&(u.setNode(i,{}),u.setEdge(t,i,{}),r(i))})}return s.forEach(u.nodes(),r),u.nodeCount()}function l(u,o){return s.minBy(o.edges(),function(r){if(u.hasNode(r.v)!==u.hasNode(r.w))return L(o,r)})}function g(u,o,r){s.forEach(u.nodes(),function(t){o.node(t).rank+=r})}},78093:(C,R,m)=>{"use strict";var s=m(76681),b=s.longestPath,L=m(20300),x=m(42472);C.exports=a;function a(o){switch(o.graph().ranker){case"network-simplex":u(o);break;case"tight-tree":g(o);break;case"longest-path":l(o);break;default:u(o)}}var l=b;function g(o){b(o),L(o)}function u(o){x(o)}},42472:(C,R,m)=>{"use strict";var s=m(38436),b=m(20300),L=m(76681).slack,x=m(76681).longestPath,a=m(70574).alg.preorder,l=m(70574).alg.postorder,g=m(11138).simplify;C.exports=u,u.initLowLimValues=e,u.initCutValues=o,u.calcCutValue=t,u.leaveEdge=i,u.enterEdge=d,u.exchangeEdges=h;function u(f){f=g(f),x(f);var P=b(f);e(P),o(P,f);for(var y,E;y=i(P);)E=d(P,f,y),h(P,f,y,E)}function o(f,P){var y=l(f,f.nodes());y=y.slice(0,y.length-1),s.forEach(y,function(E){r(f,P,E)})}function r(f,P,y){var E=f.node(y),M=E.parent;f.edge(y,M).cutvalue=t(f,P,y)}function t(f,P,y){var E=f.node(y),M=E.parent,O=!0,A=P.edge(y,M),N=0;return A||(O=!1,A=P.edge(M,y)),N=A.weight,s.forEach(P.nodeEdges(y),function(w){var S=w.v===y,I=S?w.w:w.v;if(I!==M){var k=S===O,D=P.edge(w).weight;if(N+=k?D:-D,p(f,y,I)){var W=f.edge(y,I).cutvalue;N+=k?-W:W}}}),N}function e(f,P){arguments.length<2&&(P=f.nodes()[0]),n(f,{},1,P)}function n(f,P,y,E,M){var O=y,A=f.node(E);return P[E]=!0,s.forEach(f.neighbors(E),function(N){s.has(P,N)||(y=n(f,P,y,N,E))}),A.low=O,A.lim=y++,M?A.parent=M:delete A.parent,y}function i(f){return s.find(f.edges(),function(P){return f.edge(P).cutvalue<0})}function d(f,P,y){var E=y.v,M=y.w;P.hasEdge(E,M)||(E=y.w,M=y.v);var O=f.node(E),A=f.node(M),N=O,w=!1;O.lim>A.lim&&(N=A,w=!0);var S=s.filter(P.edges(),function(I){return w===v(f,f.node(I.v),N)&&w!==v(f,f.node(I.w),N)});return s.minBy(S,function(I){return L(P,I)})}function h(f,P,y,E){var M=y.v,O=y.w;f.removeEdge(M,O),f.setEdge(E.v,E.w,{}),e(f),o(f,P),c(f,P)}function c(f,P){var y=s.find(f.nodes(),function(M){return!P.node(M).parent}),E=a(f,y);E=E.slice(1),s.forEach(E,function(M){var O=f.node(M).parent,A=P.edge(M,O),N=!1;A||(A=P.edge(O,M),N=!0),P.node(M).rank=P.node(O).rank+(N?A.minlen:-A.minlen)})}function p(f,P,y){return f.hasEdge(P,y)}function v(f,P,y){return y.low<=P.lim&&P.lim<=y.lim}},76681:(C,R,m)=>{"use strict";var s=m(38436);C.exports={longestPath:b,slack:L};function b(x){var a={};function l(g){var u=x.node(g);if(s.has(a,g))return u.rank;a[g]=!0;var o=s.min(s.map(x.outEdges(g),function(r){return l(r.w)-x.edge(r).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),u.rank=o}s.forEach(x.sources(),l)}function L(x,a){return x.node(a.w).rank-x.node(a.v).rank-x.edge(a).minlen}},11138:(C,R,m)=>{"use strict";var s=m(38436),b=m(70574).Graph;C.exports={addDummyNode:L,simplify:x,asNonCompoundGraph:a,successorWeights:l,predecessorWeights:g,intersectRect:u,buildLayerMatrix:o,normalizeRanks:r,removeEmptyRanks:t,addBorderNode:e,maxRank:n,partition:i,time:d,notime:h};function L(c,p,v,f){var P;do P=s.uniqueId(f);while(c.hasNode(P));return v.dummy=p,c.setNode(P,v),P}function x(c){var p=new b().setGraph(c.graph());return s.forEach(c.nodes(),function(v){p.setNode(v,c.node(v))}),s.forEach(c.edges(),function(v){var f=p.edge(v.v,v.w)||{weight:0,minlen:1},P=c.edge(v);p.setEdge(v.v,v.w,{weight:f.weight+P.weight,minlen:Math.max(f.minlen,P.minlen)})}),p}function a(c){var p=new b({multigraph:c.isMultigraph()}).setGraph(c.graph());return s.forEach(c.nodes(),function(v){c.children(v).length||p.setNode(v,c.node(v))}),s.forEach(c.edges(),function(v){p.setEdge(v,c.edge(v))}),p}function l(c){var p=s.map(c.nodes(),function(v){var f={};return s.forEach(c.outEdges(v),function(P){f[P.w]=(f[P.w]||0)+c.edge(P).weight}),f});return s.zipObject(c.nodes(),p)}function g(c){var p=s.map(c.nodes(),function(v){var f={};return s.forEach(c.inEdges(v),function(P){f[P.v]=(f[P.v]||0)+c.edge(P).weight}),f});return s.zipObject(c.nodes(),p)}function u(c,p){var v=c.x,f=c.y,P=p.x-v,y=p.y-f,E=c.width/2,M=c.height/2;if(!P&&!y)throw new Error("Not possible to find intersection inside of the rectangle");var O,A;return Math.abs(y)*E>Math.abs(P)*M?(y<0&&(M=-M),O=M*P/y,A=M):(P<0&&(E=-E),O=E,A=E*y/P),{x:v+O,y:f+A}}function o(c){var p=s.map(s.range(n(c)+1),function(){return[]});return s.forEach(c.nodes(),function(v){var f=c.node(v),P=f.rank;s.isUndefined(P)||(p[P][f.order]=v)}),p}function r(c){var p=s.min(s.map(c.nodes(),function(v){return c.node(v).rank}));s.forEach(c.nodes(),function(v){var f=c.node(v);s.has(f,"rank")&&(f.rank-=p)})}function t(c){var p=s.min(s.map(c.nodes(),function(y){return c.node(y).rank})),v=[];s.forEach(c.nodes(),function(y){var E=c.node(y).rank-p;v[E]||(v[E]=[]),v[E].push(y)});var f=0,P=c.graph().nodeRankFactor;s.forEach(v,function(y,E){s.isUndefined(y)&&E%P!==0?--f:f&&s.forEach(y,function(M){c.node(M).rank+=f})})}function e(c,p,v,f){var P={width:0,height:0};return arguments.length>=4&&(P.rank=v,P.order=f),L(c,"border",P,p)}function n(c){return s.max(s.map(c.nodes(),function(p){var v=c.node(p).rank;if(!s.isUndefined(v))return v}))}function i(c,p){var v={lhs:[],rhs:[]};return s.forEach(c,function(f){p(f)?v.lhs.push(f):v.rhs.push(f)}),v}function d(c,p){var v=s.now();try{return p()}finally{console.log(c+" time: "+(s.now()-v)+"ms")}}function h(c,p){return p()}},88177:C=>{C.exports="0.8.5"},36112:(C,R,m)=>{"use strict";m.r(R),m.d(R,{default:()=>dt});var s=m(67294),b=m(16550),L=m(69307),x=m(35133),a=m.n(x),l=m(1565),g=m(86896),u=m(53979),o=m(49066),r=m(41580),t=m(29728);const n=X=>`${a()}.${X}`;var i=m(54597),d=m(70681),h=m.n(d);function c(X){var H=new(h()).graphlib.Graph({multigraph:!0,compound:!0});H.setGraph({align:"DR",rankdir:"RL",ranker:"longest-path",marginx:25,marginy:25}),H.setDefaultEdgeLabel(function(){return{}}),_.forEach(X.getNodes(),z=>{H.setNode(z.getID(),{width:z.width,height:z.height})}),_.forEach(X.getLinks(),z=>{z.getSourcePort()&&z.getTargetPort()&&H.setEdge({v:z.getSourcePort().getNode().getID(),w:z.getTargetPort().getNode().getID(),name:z.getID()})}),h().layout(H),H.nodes().forEach(z=>{const ot=H.node(z);X.getNode(z).setPosition(ot.x-ot.width/2,ot.y-ot.height/2)}),H.edges().forEach(z=>{const ot=H.edge(z),mt=X.getLink(z.name),tt=[mt.getFirstPoint()];for(let at=1;at<ot.points.length-1;at++)tt.push(new i.PointModel(mt,{x:ot.points[at].x,y:ot.points[at].y}));mt.setPoints(tt.concat(mt.getLastPoint()))})}async function p(){return await(0,L.WY)(`/${a()}/er-data`)}async function v(){return await(0,L.WY)(`/${a()}/tr-data`)}var f=m(96486);function P(X,H){const z=new i.DiagramEngine;z.registerNodeFactory(new i.DefaultNodeFactory),z.registerLinkFactory(new i.DefaultLinkFactory),z.registerPortFactory(new i.DefaultPortFactory),z.registerLabelFactory(new i.DefaultLabelFactory);const ot=new i.DiagramModel,mt=[],tt={},at=[];for(const Pt in X){const yt=X[Pt],ft=yt.modelType==="component"?"rgb(255, 200, 0)":yt.kind==="collectionType"?"rgb(0,126,255)":"rgb(85, 171, 0)",U=new i.DefaultNodeModel(yt.key,ft),K={},st=Object.keys(yt.attributes);K.id=U.addInPort("id");for(const V of st){const nt=yt.attributes[V],$=nt.type==="relation",vt=nt.type==="component",ut=nt.type==="dynamiczone";$||vt||ut?K[V]=U.addOutPort(V):K[V]=U.addInPort(V)}U.setPosition(0,0),mt.push(U),tt[yt.key]={node:U,ports:K}}for(const Pt in X){const yt=X[Pt],{node:ft,ports:U}=tt[yt.key],K=Object.keys(yt.attributes);for(const st of K){const V=yt.attributes[st],nt=V.type==="relation",$=V.type==="component"&&V?.component,vt=V.type==="dynamiczone"&&V?.components,ut=V?.target;if(nt&&H.relations&&ut&&tt[ut]){const it=U[st].link(tt[ut].ports.id);it.setColor("#999"),at.push(it)}else if($&&tt[$]&&H.components){const it=U[st].link(tt[$].ports.id);it.setColor("#ffc800"),at.push(it)}else if(vt&&Array.isArray(vt)&&H.dynamiczones){for(const lt of vt)if(tt[lt]){const q=U[st].link(tt[lt].ports.id);q.setColor("#ff6400"),at.push(q)}}}tt[yt.key]={node:ft,ports:U}}return ot.addAll(...mt,...at),z.setDiagramModel(ot),{engine:z,model:ot}}function y(X,H){const z=new i.DiagramEngine;z.registerNodeFactory(new i.DefaultNodeFactory),z.registerLinkFactory(new i.DefaultLinkFactory),z.registerPortFactory(new i.DefaultPortFactory),z.registerLabelFactory(new i.DefaultLabelFactory);const ot=new i.DiagramModel,mt=[],tt={},at=[],Pt=ft=>X?.find(U=>U.key===ft)?.name,yt=ft=>X?.find(U=>U.name===ft)?.key;for(const ft in X){const U=X[ft],K=U.name.endsWith("_components")?"#ff6400":U.name.startsWith("components_")?"#ffc800":"rgb(0,126,255)",st=new i.DefaultNodeModel(U.name,K),V={},nt=Object.keys(U.attributes);for(const $ of nt)U.attributes[$].type==="relation"?V[$]=st.addOutPort(`*${$}`):V[$]=st.addInPort($);st.setPosition(0,0),mt.push(st),tt[U.name]={node:st,ports:V}}for(const ft in X){const U=X[ft],{ports:K}=tt[U.name],st=U.foreignKeys??[],V=Object.keys(U.attributes);for(const nt of V){const $=U.attributes[nt],vt=$.type==="relation",ut=$.joinTable;if(vt&&!ut){const lt=Pt($.target),it=tt[lt];if(!it)continue;const q=K[nt],rt=it.ports.id,It=q.link(rt);It.setColor("#00FF00"),at.push(It)}else if(vt&&ut){const{joinColumn:lt,inverseJoinColumn:it,name:q,on:rt,orderBy:It}=ut;if(!lt)continue;if(!it){console.log("inverseJoinColumn missing22",ut);continue}const Nt=tt[q];if(!Nt||!rt)continue;console.log({mn:U.name,attr:nt,name:q,fieldData:$,on:rt,joinColumn:lt,inverseJoinColumn:it,reference:Nt});const Ft=K[nt],At=Nt.ports.id,Lt=Ft.link(At);Lt.setColor("#FF00FF"),at.push(Lt);const wt=Nt.ports[it.name],Ct=tt[Pt($.target)]?.ports.id;wt.in=!1,Ct.in=!0,console.log({outPort:Ft,out2Port:wt,inPort:At,in2Port:Ct});const kt=wt.link(Ct);kt.setColor("#00FFFF"),at.push(kt)}}}return ot.addAll(...mt,...at),z.setDiagramModel(ot),{engine:z,model:ot}}var E=m(93379),M=m.n(E),O=m(7795),A=m.n(O),N=m(90569),w=m.n(N),S=m(3565),I=m.n(S),k=m(19216),D=m.n(k),W=m(44589),G=m.n(W),Q=m(45473),Z={};Z.styleTagTransform=G(),Z.setAttributes=I(),Z.insert=w().bind(null,"head"),Z.domAPI=A(),Z.insertStyleElement=D();var ht=M()(Q.Z,Z);const ct=Q.Z&&Q.Z.locals?Q.Z.locals:void 0;var Ot=m(44840),Mt={};Mt.styleTagTransform=G(),Mt.setAttributes=I(),Mt.insert=w().bind(null,"head"),Mt.domAPI=A(),Mt.insertStyleElement=D();var F=M()(Ot.Z,Mt);const T=Ot.Z&&Ot.Z.locals?Ot.Z.locals:void 0,j=l.ZP.span`
  width: 12px;
  height: 3px;
  vertical-align: middle;
  display: inline-block;
  margin: 0 8px 0 4px;
  border-radius: 1px;

  background-color: ${X=>X.color?X.color:"#999"};
`,B=l.ZP.span`
  svg {
    width: 1em;
    height: 1em;
    vertical-align: middle;

    > g,
    path {
      fill: none
    }
  }
`;function Y(X){return s.createElement(B,null,s.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...X},s.createElement("g",{fill:"none",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s.createElement("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),s.createElement("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),s.createElement("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}))))}function J(X){return s.createElement(B,null,s.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...X},s.createElement("g",{fill:"none",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s.createElement("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),s.createElement("path",{d:"M3.27 6.96L12 12.01l8.73-5.05"}),s.createElement("path",{d:"M12 22.08V12"}))))}function et(X,H){const z=new URL(window.location);H?z.searchParams.set(X,H):z.searchParams.delete(X),window.history.pushState({},"",z)}const pt=()=>{const X=new URL(window.location),[H,z]=(0,s.useState)(X.searchParams.get("type")),[ot,mt]=(0,s.useState)(),[tt,at]=(0,s.useState)(),[Pt,yt]=(0,s.useState)(),[ft,U]=(0,s.useState)(),[K,st]=(0,s.useState)(!0),[V,nt]=(0,s.useState)(!0),[$,vt]=(0,s.useState)(!0),{formatMessage:ut}=(0,g.Z)(),lt=ut({id:n("name"),defaultMessage:"Entity Relationship Chart"}),it=ut({id:n("description"),defaultMessage:"Displays Entity Relationship Diagram of all Strapi models, fields and relations."});return(0,s.useEffect)(()=>{async function q(){try{H===void 0&&!tt?at(await p()):H==="database"&&!Pt&&yt(await v())}catch(rt){U(rt)}}q()},[H,at,yt,U]),(0,s.useEffect)(()=>{mt(null),setTimeout(()=>{if(H===void 0&&tt){const{engine:q,model:rt}=P(tt,{relations:K,components:V,dynamiczones:$});mt(q),c(rt),q.repaintCanvas()}else if(H==="database"&&Pt){const{engine:q,model:rt}=y(Pt,{relations:K,components:V,dynamiczones:$});mt(q),c(rt),q.repaintCanvas()}},0)},[H,tt,Pt,K,V,$]),(0,s.useEffect)(()=>{et("type",H)},[H]),s.createElement("main",null,s.createElement(u.T,{title:lt,subtitle:it,primaryAction:H===void 0?s.createElement(t.z,{startIcon:s.createElement(Y,null),onClick:()=>z("database")},"Switch to Database view"):s.createElement(t.z,{startIcon:s.createElement(J,null),onClick:()=>z()},"Switch to API view")}),s.createElement(o.D,null,ft&&s.createElement(r.x,{padding:7,background:"neutral0",hasRadius:!0},s.createElement("h2",null,ft.toString()),s.createElement("pre",null,s.createElement("code",null,ft.stack))),!ft&&s.createElement(s.Fragment,null,s.createElement(r.x,{padding:1},s.createElement("label",null,s.createElement("input",{type:"checkbox",checked:K,onChange:q=>st(q.target.checked)})," relations",s.createElement(j,null)),s.createElement("label",null,s.createElement("input",{type:"checkbox",checked:V,onChange:q=>nt(q.target.checked)})," components",s.createElement(j,{color:"#ffc800"})),s.createElement("label",null,s.createElement("input",{type:"checkbox",checked:$,onChange:q=>vt(q.target.checked)})," dynamiczones",s.createElement(j,{color:"#ff6400"}))),s.createElement(r.x,{background:"neutral0",hasRadius:!0,style:{height:"80vh",width:"100%"}},ot&&s.createElement(i.DiagramWidget,{diagramEngine:ot})))))},Dt=(0,s.memo)(pt),dt=()=>s.createElement("div",null,s.createElement(b.rs,null,s.createElement(b.AW,{path:`/plugins/${a()}`,component:Dt,exact:!0}),s.createElement(b.AW,{component:L.NotFound})))},54597:(C,R,m)=>{(function(b,L){C.exports=L(m(96486),m(67294))})(window,function(s,b){return function(L){var x={};function a(l){if(x[l])return x[l].exports;var g=x[l]={i:l,l:!1,exports:{}};return L[l].call(g.exports,g,g.exports,a),g.l=!0,g.exports}return a.m=L,a.c=x,a.d=function(l,g,u){a.o(l,g)||Object.defineProperty(l,g,{configurable:!1,enumerable:!0,get:u})},a.r=function(l){Object.defineProperty(l,"__esModule",{value:!0})},a.n=function(l){var g=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(g,"a",g),g},a.o=function(l,g){return Object.prototype.hasOwnProperty.call(l,g)},a.p="",a(a.s=45)}([function(L,x){L.exports=s},function(L,x){L.exports=b},function(L,x){var a={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4};L.exports=a},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),g=this&&this.__assign||Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=function(r){l(t,r);function t(e,n){var i=r.call(this,n)||this;return i.className=e,i}return t.prototype.bem=function(e){return(this.props.baseClass||this.className)+e+" "},t.prototype.getClassName=function(){return(this.props.baseClass||this.className)+" "+(this.props.className?this.props.className+" ":"")},t.prototype.getProps=function(){return g({},this.props.extraProps||{},{className:this.getClassName()})},t}(u.Component);x.BaseWidget=o},function(L,x){function a(e){for(var n=[[e.x,e.y]];e.parent;)e=e.parent,n.push([e.x,e.y]);return n.reverse()}x.backtrace=a;function l(e,n){var i=a(e),d=a(n);return i.concat(d.reverse())}x.biBacktrace=l;function g(e){var n,i=0,d,h,c,p;for(n=1;n<e.length;++n)d=e[n-1],h=e[n],c=d[0]-h[0],p=d[1]-h[1],i+=Math.sqrt(c*c+p*p);return i}x.pathLength=g;function u(e,n,i,d){var h=Math.abs,c=[],p,v,f,P,y,E;for(f=h(i-e),P=h(d-n),p=e<i?1:-1,v=n<d?1:-1,y=f-P;c.push([e,n]),!(e===i&&n===d);)E=2*y,E>-P&&(y=y-P,e=e+p),E<f&&(y=y+f,n=n+v);return c}x.interpolate=u;function o(e){var n=[],i=e.length,d,h,c,p,v,f;if(i<2)return n;for(v=0;v<i-1;++v)for(d=e[v],h=e[v+1],c=u(d[0],d[1],h[0],h[1]),p=c.length,f=0;f<p-1;++f)n.push(c[f]);return n.push(e[i-1]),n}x.expandPath=o;function r(e,n){var i=n.length,d=n[0][0],h=n[0][1],c=n[i-1][0],p=n[i-1][1],v,f,P,y,E,M,O,A,N,w,S;for(v=d,f=h,E=[[v,f]],M=2;M<i;++M){for(A=n[M],P=A[0],y=A[1],N=u(v,f,P,y),S=!1,O=1;O<N.length;++O)if(w=N[O],!e.isWalkableAt(w[0],w[1])){S=!0;break}S&&(lastValidCoord=n[M-1],E.push(lastValidCoord),v=lastValidCoord[0],f=lastValidCoord[1])}return E.push([c,p]),E}x.smoothenPath=r;function t(e){if(e.length<3)return e;var n=[],i=e[0][0],d=e[0][1],h=e[1][0],c=e[1][1],p=h-i,v=c-d,f,P,y,E,M,O;for(M=Math.sqrt(p*p+v*v),p/=M,v/=M,n.push([i,d]),O=2;O<e.length;O++)f=h,P=c,y=p,E=v,h=e[O][0],c=e[O][1],p=h-f,v=c-P,M=Math.sqrt(p*p+v*v),p/=M,v/=M,(p!==y||v!==E)&&n.push([f,P]);return n.push([h,c]),n}x.compressPath=t},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(6),u=function(o){l(r,o);function r(t,e){var n=o.call(this)||this;return n.x=e.x,n.y=e.y,n.parent=t,n}return r.prototype.getSelectedEntities=function(){return o.prototype.isSelected.call(this)&&!this.isConnectedToPort()?[this]:[]},r.prototype.isConnectedToPort=function(){return this.parent.getPortForPoint(this)!==null},r.prototype.getLink=function(){return this.getParent()},r.prototype.deSerialize=function(t,e){o.prototype.deSerialize.call(this,t,e),this.x=t.x,this.y=t.y},r.prototype.serialize=function(){return _.merge(o.prototype.serialize.call(this),{x:this.x,y:this.y})},r.prototype.remove=function(){this.parent&&this.parent.removePoint(this),o.prototype.remove.call(this)},r.prototype.updateLocation=function(t){this.x=t.x,this.y=t.y},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.isLocked=function(){return o.prototype.isLocked.call(this)||this.getParent().isLocked()},r}(g.BaseModel);x.PointModel=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(t[d]=e[d])}return t};Object.defineProperty(x,"__esModule",{value:!0});var u=a(13),o=m(96486),r=function(t){l(e,t);function e(n,i){var d=t.call(this,i)||this;return d.type=n,d.selected=!1,d}return e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(n){this.parent=n},e.prototype.getSelectedEntities=function(){return this.isSelected()?[this]:[]},e.prototype.deSerialize=function(n,i){t.prototype.deSerialize.call(this,n,i),this.type=n.type,this.selected=n.selected},e.prototype.serialize=function(){return o.merge(t.prototype.serialize.call(this),{type:this.type,selected:this.selected})},e.prototype.getType=function(){return this.type},e.prototype.getID=function(){return this.id},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(n){n===void 0&&(n=!0),this.selected=n,this.iterateListeners(function(i,d){i.selectionChanged&&i.selectionChanged(g({},d,{isSelected:n}))})},e.prototype.remove=function(){this.iterateListeners(function(n,i){n.entityRemoved&&n.entityRemoved(i)})},e}(u.BaseEntity);x.BaseModel=r},function(L,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var l=a(70),g=a(16),u=a(51),o=function(){function r(){}return r.UID=function(){return r.TESTING?(r.TESTING_UID++,""+r.TESTING_UID):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})},r.closest=function(t,e){return document.body.closest?t.closest(e):l(t,e)},r.generateLinePath=function(t,e){return"M"+t.x+","+t.y+" L "+e.x+","+e.y},r.generateCurvePath=function(t,e,n){n===void 0&&(n=0);var i=Math.abs(t.x-e.x)>Math.abs(t.y-e.y),d=i?n:0,h=i?0:n;return"M"+t.x+","+t.y+" C "+(t.x+d)+","+(t.y+h)+`
    `+(e.x-d)+","+(e.y-h)+" "+e.x+","+e.y},r.generateDynamicPath=function(t){var e=u();return e=e.moveto(t[0][0]*g.ROUTING_SCALING_FACTOR,t[0][1]*g.ROUTING_SCALING_FACTOR),t.slice(1).forEach(function(n){e=e.lineto(n[0]*g.ROUTING_SCALING_FACTOR,n[1]*g.ROUTING_SCALING_FACTOR)}),e.print()},r.TESTING=!1,r.TESTING_UID=0,r}();x.Toolkit=o},function(L,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var l=function(){function g(u){this.type=u}return g.prototype.getType=function(){return this.type},g}();x.AbstractFactory=l},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(6),u=m(96486),o=function(r){l(t,r);function t(e,n){e===void 0&&(e="default");var i=r.call(this,e,n)||this;return i.x=0,i.y=0,i.extras={},i.ports={},i}return t.prototype.setPosition=function(e,n){var i=this.x,d=this.y;u.forEach(this.ports,function(h){u.forEach(h.getLinks(),function(c){var p=c.getPointForPort(h);p.x=p.x+e-i,p.y=p.y+n-d})}),this.x=e,this.y=n},t.prototype.getSelectedEntities=function(){var e=r.prototype.getSelectedEntities.call(this);return this.isSelected()&&u.forEach(this.ports,function(n){e=e.concat(u.map(n.getLinks(),function(i){return i.getPointForPort(n)}))}),e},t.prototype.deSerialize=function(e,n){var i=this;r.prototype.deSerialize.call(this,e,n),this.x=e.x,this.y=e.y,this.extras=e.extras,u.forEach(e.ports,function(d){var h=n.getPortFactory(d.type).getNewInstance();h.deSerialize(d,n),i.addPort(h)})},t.prototype.serialize=function(){return u.merge(r.prototype.serialize.call(this),{x:this.x,y:this.y,extras:this.extras,ports:u.map(this.ports,function(e){return e.serialize()})})},t.prototype.doClone=function(e,n){e===void 0&&(e={}),n.ports={},u.forEach(this.ports,function(i){n.addPort(i.clone(e))})},t.prototype.remove=function(){r.prototype.remove.call(this),u.forEach(this.ports,function(e){u.forEach(e.getLinks(),function(n){n.remove()})})},t.prototype.getPortFromID=function(e){for(var n in this.ports)if(this.ports[n].id===e)return this.ports[n];return null},t.prototype.getPort=function(e){return this.ports[e]},t.prototype.getPorts=function(){return this.ports},t.prototype.removePort=function(e){this.ports[e.name]&&(this.ports[e.name].setParent(null),delete this.ports[e.name])},t.prototype.addPort=function(e){return e.setParent(this),this.ports[e.name]=e,e},t.prototype.updateDimensions=function(e){var n=e.width,i=e.height;this.width=n,this.height=i},t}(g.BaseModel);x.NodeModel=o},function(L,x){L.exports={manhattan:function(a,l){return a+l},euclidean:function(a,l){return Math.sqrt(a*a+l*l)},octile:function(a,l){var g=Math.SQRT2-1;return a<l?g*a+l:g*l+a},chebyshev:function(a,l){return Math.max(a,l)}}},function(L,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var l=function(){function g(u,o){this.mouseX=u,this.mouseY=o,this.ms=new Date().getTime()}return g}();x.BaseAction=l},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(6),u=m(96486),o=function(r){l(t,r);function t(e,n,i,d){var h=r.call(this,n,i)||this;return h.name=e,h.links={},h.maximumLinks=d,h}return t.prototype.deSerialize=function(e,n){r.prototype.deSerialize.call(this,e,n),this.name=e.name,this.maximumLinks=e.maximumLinks},t.prototype.serialize=function(){return u.merge(r.prototype.serialize.call(this),{name:this.name,parentNode:this.parent.id,links:u.map(this.links,function(e){return e.id}),maximumLinks:this.maximumLinks})},t.prototype.doClone=function(e,n){e===void 0&&(e={}),n.links={},n.parentNode=this.getParent().clone(e)},t.prototype.getNode=function(){return this.getParent()},t.prototype.getName=function(){return this.name},t.prototype.getMaximumLinks=function(){return this.maximumLinks},t.prototype.setMaximumLinks=function(e){this.maximumLinks=e},t.prototype.removeLink=function(e){delete this.links[e.getID()]},t.prototype.addLink=function(e){this.links[e.getID()]=e},t.prototype.getLinks=function(){return this.links},t.prototype.createLinkModel=function(){if(u.isFinite(this.maximumLinks)){var e=u.size(this.links);if(this.maximumLinks===1&&e>=1)return u.values(this.links)[0];if(e>=this.maximumLinks)return null}return null},t.prototype.updateCoords=function(e){var n=e.x,i=e.y,d=e.width,h=e.height;this.x=n,this.y=i,this.width=d,this.height=h},t.prototype.canLinkToPort=function(e){return!0},t.prototype.isLocked=function(){return r.prototype.isLocked.call(this)||this.getParent().isLocked()},t}(g.BaseModel);x.PortModel=o},function(L,x,a){"use strict";var l=this&&this.__assign||Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r};Object.defineProperty(x,"__esModule",{value:!0});var g=a(7),u=m(96486),o=function(){function r(t){this.listeners={},this.id=t||g.Toolkit.UID(),this.locked=!1}return r.prototype.getID=function(){return this.id},r.prototype.doClone=function(t,e){t===void 0&&(t={})},r.prototype.clone=function(t){if(t===void 0&&(t={}),t[this.id])return t[this.id];var e=u.clone(this);return e.id=g.Toolkit.UID(),e.clearListeners(),t[this.id]=e,this.doClone(t,e),e},r.prototype.clearListeners=function(){this.listeners={}},r.prototype.deSerialize=function(t,e){this.id=t.id},r.prototype.serialize=function(){return{id:this.id}},r.prototype.iterateListeners=function(t){var e={id:g.Toolkit.UID(),firing:!0,entity:this,stopPropagation:function(){e.firing=!1}};for(var n in this.listeners)if(this.listeners.hasOwnProperty(n)){if(!e.firing)return;t(this.listeners[n],e)}},r.prototype.removeListener=function(t){return this.listeners[t]?(delete this.listeners[t],!0):!1},r.prototype.addListener=function(t){var e=g.Toolkit.UID();return this.listeners[e]=t,e},r.prototype.isLocked=function(){return this.locked},r.prototype.setLocked=function(t){t===void 0&&(t=!0),this.locked=t,this.iterateListeners(function(e,n){e.lockChanged&&e.lockChanged(l({},n,{locked:t}))})},r}();x.BaseEntity=o},function(L,x,a){var l=a(15),g=a(4),u=a(10),o=a(2);function r(t){t=t||{},this.heuristic=t.heuristic||u.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}r.prototype.findPath=function(t,e,n,i,d){var h=this.openList=new l(function(f,P){return f.f-P.f}),c=this.startNode=d.getNodeAt(t,e),p=this.endNode=d.getNodeAt(n,i),v;for(this.grid=d,c.g=0,c.f=0,h.push(c),c.opened=!0;!h.empty();){if(v=h.pop(),v.closed=!0,v===p)return g.expandPath(g.backtrace(p));this._identifySuccessors(v)}return[]},r.prototype._identifySuccessors=function(t){var e=this.grid,n=this.heuristic,i=this.openList,d=this.endNode.x,h=this.endNode.y,c,p,v,f,P,y=t.x,E=t.y,M,O,A,N,w,S,I,k=Math.abs,D=Math.max;for(c=this._findNeighbors(t),f=0,P=c.length;f<P;++f)if(p=c[f],v=this._jump(p[0],p[1],y,E),v){if(M=v[0],O=v[1],I=e.getNodeAt(M,O),I.closed)continue;w=u.octile(k(M-y),k(O-E)),S=t.g+w,(!I.opened||S<I.g)&&(I.g=S,I.h=I.h||n(k(M-d),k(O-h)),I.f=I.g+I.h,I.parent=t,I.opened?i.updateItem(I):(i.push(I),I.opened=!0))}},L.exports=r},function(L,x,a){L.exports=a(66)},function(L,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var l=a(68);x.ROUTING_SCALING_FACTOR=5;var g=new l.JumpPointFinder({heuristic:l.Heuristic.manhattan,diagonalMovement:l.DiagonalMovement.Never}),u=function(){function o(r){this.instance=g,this.diagramEngine=r}return o.prototype.calculateDirectPath=function(r,t){var e=this.diagramEngine.getCanvasMatrix(),n=new l.Grid(e);return g.findPath(this.diagramEngine.translateRoutingX(Math.floor(r.x/x.ROUTING_SCALING_FACTOR)),this.diagramEngine.translateRoutingY(Math.floor(r.y/x.ROUTING_SCALING_FACTOR)),this.diagramEngine.translateRoutingX(Math.floor(t.x/x.ROUTING_SCALING_FACTOR)),this.diagramEngine.translateRoutingY(Math.floor(t.y/x.ROUTING_SCALING_FACTOR)),n)},o.prototype.calculateLinkStartEndCoords=function(r,t){var e=t.findIndex(function(h){return r[h[1]][h[0]]===0}),n=t.length-1-t.slice().reverse().findIndex(function(h){return r[h[1]][h[0]]===0});if(!(e===-1||n===-1)){var i=t.slice(0,e),d=t.slice(n);return{start:{x:t[e][0],y:t[e][1]},end:{x:t[n][0],y:t[n][1]},pathToStart:i,pathToEnd:d}}},o.prototype.calculateDynamicPath=function(r,t,e,n,i){var d=this,h=new l.Grid(r),c=g.findPath(t.x,t.y,e.x,e.y,h),p=n.concat(c,i).map(function(v){return[d.diagramEngine.translateRoutingX(v[0],!0),d.diagramEngine.translateRoutingY(v[1],!0)]});return l.Util.compressPath(p)},o}();x.default=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(6),u=m(96486),o=function(r){l(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.offsetX=0,i.offsetY=0,i}return t.prototype.deSerialize=function(e,n){r.prototype.deSerialize.call(this,e,n),this.offsetX=e.offsetX,this.offsetY=e.offsetY},t.prototype.serialize=function(){return u.merge(r.prototype.serialize.call(this),{offsetX:this.offsetX,offsetY:this.offsetY})},t}(g.BaseModel);x.LabelModel=o},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(17),u=m(96486),o=function(r){l(t,r);function t(){var e=r.call(this,"default")||this;return e.offsetY=-23,e}return t.prototype.setLabel=function(e){this.label=e},t.prototype.deSerialize=function(e,n){r.prototype.deSerialize.call(this,e,n),this.label=e.label},t.prototype.serialize=function(){return u.merge(r.prototype.serialize.call(this),{label:this.label})},t}(g.LabelModel);x.DefaultLabelModel=o},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var h in d)d.hasOwnProperty(h)&&(i[h]=d[h])};return function(i,d){n(i,d);function h(){this.constructor=i}i.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),g=this&&this.__assign||Object.assign||function(n){for(var i,d=1,h=arguments.length;d<h;d++){i=arguments[d];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n};Object.defineProperty(x,"__esModule",{value:!0});var u=a(21),o=m(96486),r=a(18),t=a(17),e=function(n){l(i,n);function i(d){d===void 0&&(d="default");var h=n.call(this,d)||this;return h.color="rgba(255,255,255,0.5)",h.width=3,h.curvyness=50,h}return i.prototype.serialize=function(){return o.merge(n.prototype.serialize.call(this),{width:this.width,color:this.color,curvyness:this.curvyness})},i.prototype.deSerialize=function(d,h){n.prototype.deSerialize.call(this,d,h),this.color=d.color,this.width=d.width,this.curvyness=d.curvyness},i.prototype.addLabel=function(d){if(d instanceof t.LabelModel)return n.prototype.addLabel.call(this,d);var h=new r.DefaultLabelModel;return h.setLabel(d),n.prototype.addLabel.call(this,h)},i.prototype.setWidth=function(d){this.width=d,this.iterateListeners(function(h,c){h.widthChanged&&h.widthChanged(g({},c,{width:d}))})},i.prototype.setColor=function(d){this.color=d,this.iterateListeners(function(h,c){h.colorChanged&&h.colorChanged(g({},c,{color:d}))})},i}(u.LinkModel);x.DefaultLinkModel=e},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=m(96486),u=a(12),o=a(19),r=function(t){l(e,t);function e(n,i,d,h){d===void 0&&(d=null);var c=t.call(this,i,"default",h)||this;return c.in=n,c.label=d||i,c}return e.prototype.deSerialize=function(n,i){t.prototype.deSerialize.call(this,n,i),this.in=n.in,this.label=n.label},e.prototype.serialize=function(){return g.merge(t.prototype.serialize.call(this),{in:this.in,label:this.label})},e.prototype.link=function(n){var i=this.createLinkModel();return i.setSourcePort(this),i.setTargetPort(n),i},e.prototype.canLinkToPort=function(n){return n instanceof e?this.in!==n.in:!0},e.prototype.createLinkModel=function(){var n=t.prototype.createLinkModel.call(this);return n||new o.DefaultLinkModel},e}(u.PortModel);x.DefaultPortModel=r},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var d in i)i.hasOwnProperty(d)&&(n[d]=i[d])};return function(n,i){e(n,i);function d(){this.constructor=n}n.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}}(),g=this&&this.__assign||Object.assign||function(e){for(var n,i=1,d=arguments.length;i<d;i++){n=arguments[i];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(e[h]=n[h])}return e};Object.defineProperty(x,"__esModule",{value:!0});var u=a(6),o=a(5),r=m(96486),t=function(e){l(n,e);function n(i,d){i===void 0&&(i="default");var h=e.call(this,i,d)||this;return h.points=[new o.PointModel(h,{x:0,y:0}),new o.PointModel(h,{x:0,y:0})],h.extras={},h.sourcePort=null,h.targetPort=null,h.labels=[],h}return n.prototype.deSerialize=function(i,d){var h=this;e.prototype.deSerialize.call(this,i,d),this.extras=i.extras,this.points=r.map(i.points||[],function(c){var p=new o.PointModel(h,{x:c.x,y:c.y});return p.deSerialize(c,d),p}),r.forEach(i.labels||[],function(c){var p=d.getLabelFactory(c.type).getNewInstance();p.deSerialize(c,d),h.addLabel(p)}),i.target&&this.setTargetPort(this.getParent().getNode(i.target).getPortFromID(i.targetPort)),i.source&&this.setSourcePort(this.getParent().getNode(i.source).getPortFromID(i.sourcePort))},n.prototype.serialize=function(){return r.merge(e.prototype.serialize.call(this),{source:this.sourcePort?this.sourcePort.getParent().id:null,sourcePort:this.sourcePort?this.sourcePort.id:null,target:this.targetPort?this.targetPort.getParent().id:null,targetPort:this.targetPort?this.targetPort.id:null,points:r.map(this.points,function(i){return i.serialize()}),extras:this.extras,labels:r.map(this.labels,function(i){return i.serialize()})})},n.prototype.doClone=function(i,d){i===void 0&&(i={}),d.setPoints(r.map(this.getPoints(),function(h){return h.clone(i)})),this.sourcePort&&d.setSourcePort(this.sourcePort.clone(i)),this.targetPort&&d.setTargetPort(this.targetPort.clone(i))},n.prototype.remove=function(){this.sourcePort&&this.sourcePort.removeLink(this),this.targetPort&&this.targetPort.removeLink(this),e.prototype.remove.call(this)},n.prototype.isLastPoint=function(i){var d=this.getPointIndex(i);return d===this.points.length-1},n.prototype.getPointIndex=function(i){return this.points.indexOf(i)},n.prototype.getPointModel=function(i){for(var d=0;d<this.points.length;d++)if(this.points[d].id===i)return this.points[d];return null},n.prototype.getPortForPoint=function(i){return this.sourcePort!==null&&this.getFirstPoint().getID()===i.getID()?this.sourcePort:this.targetPort!==null&&this.getLastPoint().getID()===i.getID()?this.targetPort:null},n.prototype.getPointForPort=function(i){return this.sourcePort!==null&&this.sourcePort.getID()===i.getID()?this.getFirstPoint():this.targetPort!==null&&this.targetPort.getID()===i.getID()?this.getLastPoint():null},n.prototype.getFirstPoint=function(){return this.points[0]},n.prototype.getLastPoint=function(){return this.points[this.points.length-1]},n.prototype.setSourcePort=function(i){i!==null&&i.addLink(this),this.sourcePort!==null&&this.sourcePort.removeLink(this),this.sourcePort=i,this.iterateListeners(function(d,h){d.sourcePortChanged&&d.sourcePortChanged(g({},h,{port:i}))})},n.prototype.getSourcePort=function(){return this.sourcePort},n.prototype.getTargetPort=function(){return this.targetPort},n.prototype.setTargetPort=function(i){i!==null&&i.addLink(this),this.targetPort!==null&&this.targetPort.removeLink(this),this.targetPort=i,this.iterateListeners(function(d,h){d.targetPortChanged&&d.targetPortChanged(g({},h,{port:i}))})},n.prototype.point=function(i,d){return this.addPoint(this.generatePoint(i,d))},n.prototype.addLabel=function(i){i.setParent(this),this.labels.push(i)},n.prototype.getPoints=function(){return this.points},n.prototype.setPoints=function(i){var d=this;r.forEach(i,function(h){h.setParent(d)}),this.points=i},n.prototype.removePoint=function(i){this.points.splice(this.getPointIndex(i),1)},n.prototype.removePointsBefore=function(i){this.points.splice(0,this.getPointIndex(i))},n.prototype.removePointsAfter=function(i){this.points.splice(this.getPointIndex(i)+1)},n.prototype.removeMiddlePoints=function(){this.points.length>2&&this.points.splice(0,this.points.length-2)},n.prototype.addPoint=function(i,d){return d===void 0&&(d=1),i.setParent(this),this.points.splice(d,0,i),i},n.prototype.generatePoint=function(i,d){return i===void 0&&(i=0),d===void 0&&(d=0),new o.PointModel(this,{x:i,y:d})},n}(u.BaseModel);x.LinkModel=t},function(L,x,a){var l=a(15),g=a(4),u=a(10),o=a(2);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||u.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||u.manhattan:this.heuristic=t.heuristic||u.octile}r.prototype.findPath=function(t,e,n,i,d){var h=function(Z,ht){return Z.f-ht.f},c=new l(h),p=new l(h),v=d.getNodeAt(t,e),f=d.getNodeAt(n,i),P=this.heuristic,y=this.diagonalMovement,E=this.weight,M=Math.abs,O=Math.SQRT2,A,N,w,S,I,k,D,W,G=1,Q=2;for(v.g=0,v.f=0,c.push(v),v.opened=G,f.g=0,f.f=0,p.push(f),f.opened=Q;!c.empty()&&!p.empty();){for(A=c.pop(),A.closed=!0,N=d.getNeighbors(A,y),S=0,I=N.length;S<I;++S)if(w=N[S],!w.closed){if(w.opened===Q)return g.biBacktrace(A,w);k=w.x,D=w.y,W=A.g+(k-A.x===0||D-A.y===0?1:O),(!w.opened||W<w.g)&&(w.g=W,w.h=w.h||E*P(M(k-n),M(D-i)),w.f=w.g+w.h,w.parent=A,w.opened?c.updateItem(w):(c.push(w),w.opened=G))}for(A=p.pop(),A.closed=!0,N=d.getNeighbors(A,y),S=0,I=N.length;S<I;++S)if(w=N[S],!w.closed){if(w.opened===G)return g.biBacktrace(w,A);k=w.x,D=w.y,W=A.g+(k-A.x===0||D-A.y===0?1:O),(!w.opened||W<w.g)&&(w.g=W,w.h=w.h||E*P(M(k-t),M(D-e)),w.f=w.g+w.h,w.parent=A,w.opened?p.updateItem(w):(p.push(w),w.opened=Q))}}return[]},L.exports=r},function(L,x,a){var l=a(15),g=a(4),u=a(10),o=a(2);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||u.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||u.manhattan:this.heuristic=t.heuristic||u.octile}r.prototype.findPath=function(t,e,n,i,d){var h=new l(function(D,W){return D.f-W.f}),c=d.getNodeAt(t,e),p=d.getNodeAt(n,i),v=this.heuristic,f=this.diagonalMovement,P=this.weight,y=Math.abs,E=Math.SQRT2,M,O,A,N,w,S,I,k;for(c.g=0,c.f=0,h.push(c),c.opened=!0;!h.empty();){if(M=h.pop(),M.closed=!0,M===p)return g.backtrace(p);for(O=d.getNeighbors(M,f),N=0,w=O.length;N<w;++N)A=O[N],!A.closed&&(S=A.x,I=A.y,k=M.g+(S-M.x===0||I-M.y===0?1:E),(!A.opened||k<A.g)&&(A.g=k,A.h=A.h||P*v(y(S-n),y(I-i)),A.f=A.g+A.h,A.parent=M,A.opened?h.updateItem(A):(h.push(A),A.opened=!0)))}return[]},L.exports=r},function(L,x){function a(l,g,u){this.x=l,this.y=g,this.walkable=u===void 0?!0:u}L.exports=a},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(t[d]=e[d])}return t};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=a(3),r=function(t){l(e,t);function e(n){var i=t.call(this,"srd-node",n)||this;return i.state={},i}return e.prototype.shouldComponentUpdate=function(){return this.props.diagramEngine.canEntityRepaint(this.props.node)},e.prototype.getClassName=function(){return"node "+t.prototype.getClassName.call(this)+(this.props.node.isSelected()?this.bem("--selected"):"")},e.prototype.render=function(){return u.createElement("div",g({},this.getProps(),{"data-nodeid":this.props.node.id,style:{top:this.props.node.y,left:this.props.node.x}}),this.props.children)},e}(o.BaseWidget);x.NodeWidget=r},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var h in d)d.hasOwnProperty(h)&&(i[h]=d[h])};return function(i,d){n(i,d);function h(){this.constructor=i}i.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),g=this&&this.__assign||Object.assign||function(n){for(var i,d=1,h=arguments.length;d<h;d++){i=arguments[d];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=m(96486),r=a(25),t=a(3),e=function(n){l(i,n);function i(d){var h=n.call(this,"srd-node-layer",d)||this;return h.updateNodeDimensions=function(){if(!h.props.diagramEngine.nodesRendered){var c=h.props.diagramEngine.getDiagramModel();o.map(c.getNodes(),function(p){p.updateDimensions(h.props.diagramEngine.getNodeDimensions(p))})}},h.state={},h}return i.prototype.componentDidUpdate=function(){this.updateNodeDimensions(),this.props.diagramEngine.nodesRendered=!0},i.prototype.render=function(){var d=this,h=this.props.diagramEngine.getDiagramModel();return u.createElement("div",g({},this.getProps(),{style:{transform:"translate("+h.getOffsetX()+"px,"+h.getOffsetY()+"px) scale("+h.getZoomLevel()/100+")"}}),o.map(h.getNodes(),function(c){return u.createElement(r.NodeWidget,{diagramEngine:d.props.diagramEngine,key:c.id,node:c},d.props.diagramEngine.generateWidgetForNode(c))}))},i}(t.BaseWidget);x.NodeLayerWidget=e},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(3),u=function(o){l(r,o);function r(t){var e=o.call(this,"srd-link",t)||this;return e.state={},e}return r.prototype.shouldComponentUpdate=function(){return this.props.diagramEngine.canEntityRepaint(this.props.link)},r.prototype.render=function(){return this.props.children},r}(g.BaseWidget);x.LinkWidget=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var h in d)d.hasOwnProperty(h)&&(i[h]=d[h])};return function(i,d){n(i,d);function h(){this.constructor=i}i.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),g=this&&this.__assign||Object.assign||function(n){for(var i,d=1,h=arguments.length;d<h;d++){i=arguments[d];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=a(27),r=m(96486),t=a(3),e=function(n){l(i,n);function i(d){var h=n.call(this,"srd-link-layer",d)||this;return h.state={},h}return i.prototype.render=function(){var d=this,h=this.props.diagramEngine.getDiagramModel();return u.createElement("svg",g({},this.getProps(),{style:{transform:"translate("+h.getOffsetX()+"px,"+h.getOffsetY()+"px) scale("+h.getZoomLevel()/100+")"}}),this.props.diagramEngine.canvas&&r.map(h.getLinks(),function(c){if(d.props.diagramEngine.nodesRendered&&!d.props.diagramEngine.linksThatHaveInitiallyRendered[c.id]){if(c.sourcePort!==null)try{var p=d.props.diagramEngine.getPortCenter(c.sourcePort);c.points[0].updateLocation(p);var v=d.props.diagramEngine.getPortCoords(c.sourcePort);c.sourcePort.updateCoords(v),d.props.diagramEngine.linksThatHaveInitiallyRendered[c.id]=!0}catch{}if(c.targetPort!==null)try{var p=d.props.diagramEngine.getPortCenter(c.targetPort);r.last(c.points).updateLocation(p);var v=d.props.diagramEngine.getPortCoords(c.targetPort);c.targetPort.updateCoords(v),d.props.diagramEngine.linksThatHaveInitiallyRendered[c.id]=!0}catch{}}var f=d.props.diagramEngine.generateWidgetForLink(c);if(!f)throw new Error("no link generated for type: "+c.getType());return u.createElement(o.LinkWidget,{key:c.getID(),link:c,diagramEngine:d.props.diagramEngine},u.cloneElement(f,{pointAdded:d.props.pointAdded}))}))},i}(t.BaseWidget);x.LinkLayerWidget=e},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(11),u=function(o){l(r,o);function r(t,e){var n=o.call(this,t,e)||this;return n.mouseX2=t,n.mouseY2=e,n}return r.prototype.getBoxDimensions=function(){return{left:this.mouseX2>this.mouseX?this.mouseX:this.mouseX2,top:this.mouseY2>this.mouseY?this.mouseY:this.mouseY2,width:Math.abs(this.mouseX2-this.mouseX),height:Math.abs(this.mouseY2-this.mouseY),right:this.mouseX2<this.mouseX?this.mouseX:this.mouseX2,bottom:this.mouseY2<this.mouseY?this.mouseY:this.mouseY2}},r.prototype.containsElement=function(t,e,n){var i=n.getZoomLevel()/100,d=this.getBoxDimensions();return t*i+n.getOffsetX()>d.left&&t*i+n.getOffsetX()<d.right&&e*i+n.getOffsetY()>d.top&&e*i+n.getOffsetY()<d.bottom},r}(g.BaseAction);x.SelectingAction=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(11),u=function(o){l(r,o);function r(t,e,n){var i=o.call(this,t,e)||this;i.moved=!1,n.enableRepaintEntities(n.getDiagramModel().getSelectedItems());var d=n.getDiagramModel().getSelectedItems();return d=d.filter(function(h){return!n.isModelLocked(h)}),i.selectionModels=d.map(function(h){return{model:h,initialX:h.x,initialY:h.y}}),i}return r}(g.BaseAction);x.MoveItemsAction=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(11),u=function(o){l(r,o);function r(t,e,n){var i=o.call(this,t,e)||this;return i.initialOffsetX=n.getOffsetX(),i.initialOffsetY=n.getOffsetY(),i}return r}(g.BaseAction);x.MoveCanvasAction=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(8),u=function(o){l(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(g.AbstractFactory);x.AbstractNodeFactory=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(t[d]=e[d])}return t};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=a(3),r=function(t){l(e,t);function e(n){var i=t.call(this,"srd-port",n)||this;return i.state={selected:!1},i}return e.prototype.getClassName=function(){return"port "+t.prototype.getClassName.call(this)+(this.state.selected?this.bem("--selected"):"")},e.prototype.render=function(){var n=this;return u.createElement("div",g({},this.getProps(),{onMouseEnter:function(){n.setState({selected:!0})},onMouseLeave:function(){n.setState({selected:!1})},"data-name":this.props.name,"data-nodeid":this.props.node.getID()}))},e}(o.BaseWidget);x.PortWidget=r},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var d in i)i.hasOwnProperty(d)&&(n[d]=i[d])};return function(n,i){e(n,i);function d(){this.constructor=n}n.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}}(),g=this&&this.__assign||Object.assign||function(e){for(var n,i=1,d=arguments.length;i<d;i++){n=arguments[i];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(e[h]=n[h])}return e};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=a(33),r=a(3),t=function(e){l(n,e);function n(i){return e.call(this,"srd-default-port",i)||this}return n.prototype.getClassName=function(){return e.prototype.getClassName.call(this)+(this.props.model.in?this.bem("--in"):this.bem("--out"))},n.prototype.render=function(){var i=u.createElement(o.PortWidget,{node:this.props.model.getParent(),name:this.props.model.name}),d=u.createElement("div",{className:"name"},this.props.model.label);return u.createElement("div",g({},this.getProps()),this.props.model.in?i:d,this.props.model.in?d:i)},n}(r.BaseWidget);x.DefaultPortLabel=t},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var h in d)d.hasOwnProperty(h)&&(i[h]=d[h])};return function(i,d){n(i,d);function h(){this.constructor=i}i.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),g=this&&this.__assign||Object.assign||function(n){for(var i,d=1,h=arguments.length;d<h;d++){i=arguments[d];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=m(96486),r=a(34),t=a(3),e=function(n){l(i,n);function i(d){var h=n.call(this,"srd-default-node",d)||this;return h.state={},h}return i.prototype.generatePort=function(d){return u.createElement(r.DefaultPortLabel,{model:d,key:d.id})},i.prototype.render=function(){return u.createElement("div",g({},this.getProps(),{style:{background:this.props.node.color}}),u.createElement("div",{className:this.bem("__title")},u.createElement("div",{className:this.bem("__name")},this.props.node.name)),u.createElement("div",{className:this.bem("__ports")},u.createElement("div",{className:this.bem("__in")},o.map(this.props.node.getInPorts(),this.generatePort.bind(this))),u.createElement("div",{className:this.bem("__out")},o.map(this.props.node.getOutPorts(),this.generatePort.bind(this)))))},i}(t.BaseWidget);x.DefaultNodeWidget=e},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(8),u=function(o){l(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(g.AbstractFactory);x.AbstractLinkFactory=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var p in c)c.hasOwnProperty(p)&&(h[p]=c[p])};return function(h,c){d(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),g=this&&this.__assign||Object.assign||function(d){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(d[v]=h[v])}return d};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=a(5),r=a(7),t=a(16),e=m(96486),n=a(3),i=function(d){l(h,d);function h(c){var p=d.call(this,"srd-default-link",c)||this;return p.addPointToLink=function(v,f){if(!v.shiftKey&&!p.props.diagramEngine.isModelLocked(p.props.link)&&p.props.link.points.length-1<=p.props.diagramEngine.getMaxNumberPointsPerLink()){var P=new o.PointModel(p.props.link,p.props.diagramEngine.getRelativeMousePoint(v));P.setSelected(!0),p.forceUpdate(),p.props.link.addPoint(P,f),p.props.pointAdded(P,v)}},p.findPathAndRelativePositionToRenderLabel=function(v){for(var f=p.refPaths.map(function(E){return E.getTotalLength()}),P=f.reduce(function(E,M){return E+M},0)*(v/(p.props.link.labels.length+1)),y=0;y<p.refPaths.length;){if(P-f[y]<0)return{path:p.refPaths[y],position:P};P-=f[y],y++}},p.calculateLabelPosition=function(v,f){if(p.refLabels[v.id]){var P=p.findPathAndRelativePositionToRenderLabel(f),y=P.path,E=P.position,M={width:p.refLabels[v.id].offsetWidth,height:p.refLabels[v.id].offsetHeight},O=y.getPointAtLength(E),A={x:O.x-M.width/2+v.offsetX,y:O.y-M.height/2+v.offsetY};p.refLabels[v.id].setAttribute("style","transform: translate("+A.x+"px, "+A.y+"px);")}},p.refLabels={},p.refPaths=[],p.state={selected:!1},c.diagramEngine.isSmartRoutingEnabled()&&(p.pathFinding=new t.default(p.props.diagramEngine)),p}return h.prototype.calculateAllLabelPosition=function(){var c=this;e.forEach(this.props.link.labels,function(p,v){c.calculateLabelPosition(p,v+1)})},h.prototype.componentDidUpdate=function(){this.props.link.labels.length>0&&window.requestAnimationFrame(this.calculateAllLabelPosition.bind(this))},h.prototype.componentDidMount=function(){this.props.link.labels.length>0&&window.requestAnimationFrame(this.calculateAllLabelPosition.bind(this))},h.prototype.generatePoint=function(c){var p=this,v=this.props.link.points[c].x,f=this.props.link.points[c].y;return u.createElement("g",{key:"point-"+this.props.link.points[c].id},u.createElement("circle",{cx:v,cy:f,r:5,className:"point "+this.bem("__point")+(this.props.link.points[c].isSelected()?this.bem("--point-selected"):"")}),u.createElement("circle",{onMouseLeave:function(){p.setState({selected:!1})},onMouseEnter:function(){p.setState({selected:!0})},"data-id":this.props.link.points[c].id,"data-linkid":this.props.link.id,cx:v,cy:f,r:15,opacity:0,className:"point "+this.bem("__point")}))},h.prototype.generateLabel=function(c){var p=this,v=this.props.diagramEngine.canvas;return u.createElement("foreignObject",{key:c.id,className:this.bem("__label"),width:v.offsetWidth,height:v.offsetHeight},u.createElement("div",{ref:function(f){return p.refLabels[c.id]=f}},this.props.diagramEngine.getFactoryForLabel(c).generateReactWidget(this.props.diagramEngine,c)))},h.prototype.generateLink=function(c,p,v){var f=this,P=this.props,y=u.cloneElement(P.diagramEngine.getFactoryForLink(this.props.link).generateLinkSegment(this.props.link,this,this.state.selected||this.props.link.isSelected(),c),{ref:function(M){return M&&f.refPaths.push(M)}}),E=u.cloneElement(y,g({},p,{strokeLinecap:"round",onMouseLeave:function(){f.setState({selected:!1})},onMouseEnter:function(){f.setState({selected:!0})},ref:null,"data-linkid":this.props.link.getID(),strokeOpacity:this.state.selected?.1:0,strokeWidth:20,onContextMenu:function(){f.props.diagramEngine.isModelLocked(f.props.link)||(event.preventDefault(),f.props.link.remove())}}));return u.createElement("g",{key:"link-"+v},y,E)},h.prototype.isSmartRoutingApplicable=function(){var c=this.props,p=c.diagramEngine,v=c.link;return!(!p.isSmartRoutingEnabled()||v.points.length!==2||v.sourcePort===null||v.targetPort===null)},h.prototype.render=function(){var c=this,p=this.props.diagramEngine;if(!p.nodesRendered)return null;var v=this.props.link.points,f=[];if(this.isSmartRoutingApplicable()){var P=this.pathFinding.calculateDirectPath(e.first(v),e.last(v)),y=p.getRoutingMatrix(),E=this.pathFinding.calculateLinkStartEndCoords(y,P);if(E){var M=E.start,O=E.end,A=E.pathToStart,N=E.pathToEnd,w=this.pathFinding.calculateDynamicPath(y,M,O,A,N);f.push(this.generateLink(r.Toolkit.generateDynamicPath(w),{onMouseDown:function(ct){c.addPointToLink(ct,1)}},"0"))}}if(f.length===0)if(v.length===2){var S=Math.abs(v[0].x-v[1].x)>Math.abs(v[0].y-v[1].y),I=S?"x":"y",k=50;Math.abs(v[0][I]-v[1][I])<50&&(k=5);var D=v[0],W=v[1];D[I]>W[I]&&(D=v[1],W=v[0]),f.push(this.generateLink(r.Toolkit.generateCurvePath(D,W,this.props.link.curvyness),{onMouseDown:function(ct){c.addPointToLink(ct,1)}},"0")),this.props.link.targetPort===null&&f.push(this.generatePoint(1))}else{for(var G=function(ct){f.push(Q.generateLink(r.Toolkit.generateLinePath(v[ct],v[ct+1]),{"data-linkid":Q.props.link.id,"data-point":ct,onMouseDown:function(Ot){c.addPointToLink(Ot,ct+1)}},ct))},Q=this,Z=0;Z<v.length-1;Z++)G(Z);for(var ht=1;ht<v.length-1;ht++)f.push(this.generatePoint(ht));this.props.link.targetPort===null&&f.push(this.generatePoint(v.length-1))}return this.refPaths=[],u.createElement("g",g({},this.getProps()),f,e.map(this.props.link.labels,function(ct){return c.generateLabel(ct)}))},h.defaultProps={color:"black",width:3,link:null,engine:null,smooth:!1,diagramEngine:null},h}(n.BaseWidget);x.DefaultLinkWidget=i},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var d in i)i.hasOwnProperty(d)&&(n[d]=i[d])};return function(n,i){e(n,i);function d(){this.constructor=n}n.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(20),u=m(96486),o=a(9),r=a(7),t=function(e){l(n,e);function n(i,d){i===void 0&&(i="Untitled"),d===void 0&&(d="rgb(0,192,255)");var h=e.call(this,"default")||this;return h.name=i,h.color=d,h}return n.prototype.addInPort=function(i){return this.addPort(new g.DefaultPortModel(!0,r.Toolkit.UID(),i))},n.prototype.addOutPort=function(i){return this.addPort(new g.DefaultPortModel(!1,r.Toolkit.UID(),i))},n.prototype.deSerialize=function(i,d){e.prototype.deSerialize.call(this,i,d),this.name=i.name,this.color=i.color},n.prototype.serialize=function(){return u.merge(e.prototype.serialize.call(this),{name:this.name,color:this.color})},n.prototype.getInPorts=function(){return u.filter(this.ports,function(i){return i.in})},n.prototype.getOutPorts=function(){return u.filter(this.ports,function(i){return!i.in})},n}(o.NodeModel);x.DefaultNodeModel=t},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(t[d]=e[d])}return t};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=a(3),r=function(t){l(e,t);function e(n){return t.call(this,"srd-default-label",n)||this}return e.prototype.render=function(){return u.createElement("div",g({},this.getProps()),this.props.model.label)},e}(o.BaseWidget);x.DefaultLabelWidget=r},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(8),u=function(o){l(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(g.AbstractFactory);x.AbstractLabelFactory=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var d in i)i.hasOwnProperty(d)&&(n[d]=i[d])};return function(n,i){e(n,i);function d(){this.constructor=n}n.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(1),u=a(40),o=a(18),r=a(39),t=function(e){l(n,e);function n(){return e.call(this,"default")||this}return n.prototype.generateReactWidget=function(i,d){return g.createElement(r.DefaultLabelWidget,{model:d})},n.prototype.getNewInstance=function(i){return new o.DefaultLabelModel},n}(u.AbstractLabelFactory);x.DefaultLabelFactory=t},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(8),u=function(o){l(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(g.AbstractFactory);x.AbstractPortFactory=u},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(20),u=a(42),o=function(r){l(t,r);function t(){return r.call(this,"default")||this}return t.prototype.getNewInstance=function(e){return new g.DefaultPortModel(!0,"unknown")},t}(u.AbstractPortFactory);x.DefaultPortFactory=o},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var p in c)c.hasOwnProperty(p)&&(h[p]=c[p])};return function(h,c){d(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),g=this&&this.__assign||Object.assign||function(d){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(d[v]=h[v])}return d};Object.defineProperty(x,"__esModule",{value:!0});var u=a(13),o=m(96486),r=a(21),t=a(9),e=a(12),n=a(5),i=function(d){l(h,d);function h(){var c=d.call(this)||this;return c.links={},c.nodes={},c.offsetX=0,c.offsetY=0,c.zoom=100,c.rendered=!1,c.gridSize=0,c}return h.prototype.setGridSize=function(c){c===void 0&&(c=0),this.gridSize=c,this.iterateListeners(function(p,v){p.gridUpdated&&p.gridUpdated(g({},v,{size:c}))})},h.prototype.getGridPosition=function(c){return this.gridSize===0?c:this.gridSize*Math.floor((c+this.gridSize/2)/this.gridSize)},h.prototype.deSerializeDiagram=function(c,p){var v=this;this.deSerialize(c,p),this.offsetX=c.offsetX,this.offsetY=c.offsetY,this.zoom=c.zoom,this.gridSize=c.gridSize,o.forEach(c.nodes,function(f){var P=p.getNodeFactory(f.type).getNewInstance(f);P.setParent(v),P.deSerialize(f,p),v.addNode(P)}),o.forEach(c.links,function(f){var P=p.getLinkFactory(f.type).getNewInstance();P.setParent(v),P.deSerialize(f,p),v.addLink(P)})},h.prototype.serializeDiagram=function(){return o.merge(this.serialize(),{offsetX:this.offsetX,offsetY:this.offsetY,zoom:this.zoom,gridSize:this.gridSize,links:o.map(this.links,function(c){return c.serialize()}),nodes:o.map(this.nodes,function(c){return c.serialize()})})},h.prototype.clearSelection=function(c){c===void 0&&(c=null),o.forEach(this.getSelectedItems(),function(p){c&&c.getID()===p.getID()||p.setSelected(!1)})},h.prototype.getSelectedItems=function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];Array.isArray(c)||(c=[c]);var v=[];return v=v.concat(o.flatMap(this.nodes,function(f){return f.getSelectedEntities()})),v=v.concat(o.flatMap(this.links,function(f){return f.getSelectedEntities()})),v=v.concat(o.flatMap(this.links,function(f){return o.flatMap(f.points,function(P){return P.getSelectedEntities()})})),v=o.uniq(v),c.length>0&&(v=o.filter(o.uniq(v),function(f){return!!(o.includes(c,"node")&&f instanceof t.NodeModel||o.includes(c,"link")&&f instanceof r.LinkModel||o.includes(c,"port")&&f instanceof e.PortModel||o.includes(c,"point")&&f instanceof n.PointModel)})),v},h.prototype.setZoomLevel=function(c){this.zoom=c,this.iterateListeners(function(p,v){p.zoomUpdated&&p.zoomUpdated(g({},v,{zoom:c}))})},h.prototype.setOffset=function(c,p){this.offsetX=c,this.offsetY=p,this.iterateListeners(function(v,f){v.offsetUpdated&&v.offsetUpdated(g({},f,{offsetX:c,offsetY:p}))})},h.prototype.setOffsetX=function(c){var p=this;this.offsetX=c,this.iterateListeners(function(v,f){v.offsetUpdated&&v.offsetUpdated(g({},f,{offsetX:c,offsetY:p.offsetY}))})},h.prototype.setOffsetY=function(c){var p=this;this.offsetY=c,this.iterateListeners(function(v,f){v.offsetUpdated&&v.offsetUpdated(g({},f,{offsetX:p.offsetX,offsetY:p.offsetY}))})},h.prototype.getOffsetY=function(){return this.offsetY},h.prototype.getOffsetX=function(){return this.offsetX},h.prototype.getZoomLevel=function(){return this.zoom},h.prototype.getNode=function(c){return c instanceof t.NodeModel?c:this.nodes[c]?this.nodes[c]:null},h.prototype.getLink=function(c){return c instanceof r.LinkModel?c:this.links[c]?this.links[c]:null},h.prototype.addAll=function(){for(var c=this,p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];return o.forEach(p,function(f){f instanceof r.LinkModel?c.addLink(f):f instanceof t.NodeModel&&c.addNode(f)}),p},h.prototype.addLink=function(c){var p=this;return c.addListener({entityRemoved:function(){p.removeLink(c)}}),this.links[c.getID()]=c,this.iterateListeners(function(v,f){v.linksUpdated&&v.linksUpdated(g({},f,{link:c,isCreated:!0}))}),c},h.prototype.addNode=function(c){var p=this;return c.addListener({entityRemoved:function(){p.removeNode(c)}}),this.nodes[c.getID()]=c,this.iterateListeners(function(v,f){v.nodesUpdated&&v.nodesUpdated(g({},f,{node:c,isCreated:!0}))}),c},h.prototype.removeLink=function(c){c=this.getLink(c),delete this.links[c.getID()],this.iterateListeners(function(p,v){p.linksUpdated&&p.linksUpdated(g({},v,{link:c,isCreated:!1}))})},h.prototype.removeNode=function(c){c=this.getNode(c),delete this.nodes[c.getID()],this.iterateListeners(function(p,v){p.nodesUpdated&&p.nodesUpdated(g({},v,{node:c,isCreated:!1}))})},h.prototype.getLinks=function(){return this.links},h.prototype.getNodes=function(){return this.nodes},h}(u.BaseEntity);x.DiagramModel=i},function(L,x,a){"use strict";function l(g){for(var u in g)x.hasOwnProperty(u)||(x[u]=g[u])}Object.defineProperty(x,"__esModule",{value:!0}),l(a(7)),l(a(13)),l(a(49)),l(a(38)),l(a(20)),l(a(19)),l(a(18)),l(a(48)),l(a(47)),l(a(43)),l(a(41)),l(a(37)),l(a(39)),l(a(35)),l(a(34)),l(a(8)),l(a(40)),l(a(36)),l(a(32)),l(a(42)),l(a(16)),l(a(11)),l(a(31)),l(a(30)),l(a(29)),l(a(6)),l(a(44)),l(a(21)),l(a(9)),l(a(5)),l(a(12)),l(a(17)),l(a(46)),l(a(27)),l(a(25)),l(a(33)),l(a(3)),l(a(28)),l(a(26))},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var M in E)E.hasOwnProperty(M)&&(y[M]=E[M])};return function(y,E){P(y,E);function M(){this.constructor=y}y.prototype=E===null?Object.create(E):(M.prototype=E.prototype,new M)}}(),g=this&&this.__assign||Object.assign||function(P){for(var y,E=1,M=arguments.length;E<M;E++){y=arguments[E];for(var O in y)Object.prototype.hasOwnProperty.call(y,O)&&(P[O]=y[O])}return P};Object.defineProperty(x,"__esModule",{value:!0});var u=a(1),o=m(96486),r=a(28),t=a(26),e=a(7),n=a(31),i=a(30),d=a(29),h=a(9),c=a(5),p=a(12),v=a(3),f=function(P){l(y,P);function y(E){var M=P.call(this,"srd-diagram",E)||this;return M.onKeyUpPointer=null,M.onMouseMove=M.onMouseMove.bind(M),M.onMouseUp=M.onMouseUp.bind(M),M.state={action:null,wasMoved:!1,renderedNodes:!1,windowListener:null,diagramEngineListener:null,document:null},M}return y.prototype.componentWillUnmount=function(){this.props.diagramEngine.removeListener(this.state.diagramEngineListener),this.props.diagramEngine.setCanvas(null),window.removeEventListener("keyup",this.onKeyUpPointer),window.removeEventListener("mouseUp",this.onMouseUp),window.removeEventListener("mouseMove",this.onMouseMove)},y.prototype.componentWillReceiveProps=function(E){var M=this;if(this.props.diagramEngine!==E.diagramEngine){this.props.diagramEngine.removeListener(this.state.diagramEngineListener);var O=E.diagramEngine.addListener({repaintCanvas:function(){return M.forceUpdate()}});this.setState({diagramEngineListener:O})}},y.prototype.componentWillUpdate=function(E){this.props.diagramEngine.diagramModel.id!==E.diagramEngine.diagramModel.id&&(this.setState({renderedNodes:!1}),E.diagramEngine.diagramModel.rendered=!0),E.diagramEngine.diagramModel.rendered||(this.setState({renderedNodes:!1}),E.diagramEngine.diagramModel.rendered=!0)},y.prototype.componentDidUpdate=function(){this.state.renderedNodes||this.setState({renderedNodes:!0})},y.prototype.componentDidMount=function(){var E=this;this.onKeyUpPointer=this.onKeyUp.bind(this),this.setState({document,renderedNodes:!0,diagramEngineListener:this.props.diagramEngine.addListener({repaintCanvas:function(){E.forceUpdate()}})}),window.addEventListener("keyup",this.onKeyUpPointer,!1),window.focus()},y.prototype.getMouseElement=function(E){var M=E.target,O=this.props.diagramEngine.diagramModel,A=e.Toolkit.closest(M,".port[data-name]");if(A){var N=e.Toolkit.closest(M,".node[data-nodeid]");return{model:O.getNode(N.getAttribute("data-nodeid")).getPort(A.getAttribute("data-name")),element:A}}return A=e.Toolkit.closest(M,".point[data-id]"),A?{model:O.getLink(A.getAttribute("data-linkid")).getPointModel(A.getAttribute("data-id")),element:A}:(A=e.Toolkit.closest(M,"[data-linkid]"),A?{model:O.getLink(A.getAttribute("data-linkid")),element:A}:(A=e.Toolkit.closest(M,".node[data-nodeid]"),A?{model:O.getNode(A.getAttribute("data-nodeid")),element:A}:null))},y.prototype.fireAction=function(){this.state.action&&this.props.actionStillFiring&&this.props.actionStillFiring(this.state.action)},y.prototype.stopFiringAction=function(E){this.props.actionStoppedFiring&&!E&&this.props.actionStoppedFiring(this.state.action),this.setState({action:null})},y.prototype.startFiringAction=function(E){var M=!0;this.props.actionStartedFiring&&(M=this.props.actionStartedFiring(E)),M&&this.setState({action:E})},y.prototype.onMouseMove=function(E){var M=this,O=this.props.diagramEngine,A=O.getDiagramModel();if(this.state.action instanceof d.SelectingAction){var N=O.getRelativePoint(E.clientX,E.clientY);o.forEach(A.getNodes(),function(k){M.state.action.containsElement(k.x,k.y,A)&&k.setSelected(!0)}),o.forEach(A.getLinks(),function(k){var D=!0;o.forEach(k.points,function(W){M.state.action.containsElement(W.x,W.y,A)?W.setSelected(!0):D=!1}),D&&k.setSelected(!0)}),this.state.action.mouseX2=N.x,this.state.action.mouseY2=N.y,this.fireAction(),this.setState({action:this.state.action});return}else if(this.state.action instanceof i.MoveItemsAction){var w=E.clientX-this.state.action.mouseX,S=E.clientY-this.state.action.mouseY,I=A.getZoomLevel()/100;o.forEach(this.state.action.selectionModels,function(k){k.model instanceof h.NodeModel||k.model instanceof c.PointModel&&!k.model.isConnectedToPort()?(k.model.x=A.getGridPosition(k.initialX+w/I),k.model.y=A.getGridPosition(k.initialY+S/I),k.model instanceof h.NodeModel&&o.forEach(k.model.getPorts(),function(D){var W=M.props.diagramEngine.getPortCoords(D);D.updateCoords(W)}),O.isSmartRoutingEnabled()&&O.calculateRoutingMatrix()):k.model instanceof c.PointModel&&(k.model.x=k.initialX+A.getGridPosition(w/I),k.model.y=k.initialY+A.getGridPosition(S/I))}),O.isSmartRoutingEnabled()&&O.calculateCanvasMatrix(),this.fireAction(),this.state.wasMoved?this.forceUpdate():this.setState({wasMoved:!0})}else this.state.action instanceof n.MoveCanvasAction&&this.props.allowCanvasTranslation&&(A.setOffset(this.state.action.initialOffsetX+(E.clientX-this.state.action.mouseX),this.state.action.initialOffsetY+(E.clientY-this.state.action.mouseY)),this.fireAction(),this.forceUpdate())},y.prototype.onKeyUp=function(E){var M=this;this.props.deleteKeys.indexOf(E.keyCode)!==-1&&(o.forEach(this.props.diagramEngine.getDiagramModel().getSelectedItems(),function(O){M.props.diagramEngine.isModelLocked(O)||O.remove()}),this.forceUpdate())},y.prototype.onMouseUp=function(E){var M=this,O=this.props.diagramEngine;if(this.state.action instanceof i.MoveItemsAction){var A=this.getMouseElement(E);o.forEach(this.state.action.selectionModels,function(N){if(N.model instanceof c.PointModel&&A&&A.model instanceof p.PortModel&&!O.isModelLocked(A.model)){var w=N.model.getLink();if(w.getTargetPort()!==null)if(w.getTargetPort()!==A.model&&w.getSourcePort()!==A.model){var S=w.getTargetPort(),I=w.clone({});I.setSourcePort(A.model),I.setTargetPort(S),w.setTargetPort(A.model),S.removeLink(w),I.removePointsBefore(I.getPoints()[w.getPointIndex(N.model)]),w.removePointsAfter(N.model),O.getDiagramModel().addLink(I)}else w.getTargetPort()===A.model?w.removePointsAfter(N.model):w.getSourcePort()===A.model&&w.removePointsBefore(N.model);else w.setTargetPort(A.model);delete M.props.diagramEngine.linksThatHaveInitiallyRendered[w.getID()]}}),!this.props.allowLooseLinks&&this.state.wasMoved&&o.forEach(this.state.action.selectionModels,function(N){if(N.model instanceof c.PointModel){var w=N.model,S=w.getLink();(S.getSourcePort()===null||S.getTargetPort()===null)&&S.remove()}}),o.forEach(this.state.action.selectionModels,function(N){if(N.model instanceof c.PointModel){var w=N.model.getLink(),S=w.getSourcePort(),I=w.getTargetPort();S!==null&&I!==null&&(S.canLinkToPort(I)?o.some(o.values(I.getLinks()),function(k){return k!==w&&(k.getSourcePort()===S||k.getTargetPort()===S)})&&w.remove():w.remove())}}),O.clearRepaintEntities(),this.stopFiringAction(!this.state.wasMoved)}else O.clearRepaintEntities(),this.stopFiringAction();this.state.document.removeEventListener("mousemove",this.onMouseMove),this.state.document.removeEventListener("mouseup",this.onMouseUp)},y.prototype.drawSelectionBox=function(){var E=this.state.action.getBoxDimensions();return u.createElement("div",{className:this.bem("__selector"),style:{top:E.top,left:E.left,width:E.width,height:E.height}})},y.prototype.render=function(){var E=this,M=this.props.diagramEngine;M.setMaxNumberPointsPerLink(this.props.maxNumberPointsPerLink),M.setSmartRoutingStatus(this.props.smartRouting);var O=M.getDiagramModel();return u.createElement("div",g({},this.getProps(),{ref:function(A){A&&E.props.diagramEngine.setCanvas(A)},onWheel:function(A){if(E.props.allowCanvasZoom){A.preventDefault(),A.stopPropagation();var N=O.getZoomLevel()/100,w=E.props.inverseZoom?-A.deltaY:A.deltaY;A.ctrlKey&&w%1!==0?w/=3:w/=60,O.getZoomLevel()+w>10&&O.setZoomLevel(O.getZoomLevel()+w);var S=O.getZoomLevel()/100,I=A.currentTarget.getBoundingClientRect(),k=I.width,D=I.height,W=k*S-k*N,G=D*S-D*N,Q=A.clientX-I.left,Z=A.clientY-I.top,ht=(Q-O.getOffsetX())/N/k,ct=(Z-O.getOffsetY())/N/D;O.setOffset(O.getOffsetX()-W*ht,O.getOffsetY()-G*ct),M.enableRepaintEntities([]),E.forceUpdate()}},onMouseDown:function(A){E.setState(g({},E.state,{wasMoved:!1})),M.clearRepaintEntities();var N=E.getMouseElement(A);if(N===null)if(A.shiftKey){var w=M.getRelativePoint(A.clientX,A.clientY);E.startFiringAction(new d.SelectingAction(w.x,w.y))}else O.clearSelection(),E.startFiringAction(new n.MoveCanvasAction(A.clientX,A.clientY,O));else if(N.model instanceof p.PortModel)if(E.props.diagramEngine.isModelLocked(N.model))O.clearSelection();else{var w=M.getRelativeMousePoint(A),S=N.model,I=S.createLinkModel();I.setSourcePort(S),I&&(I.removeMiddlePoints(),I.getSourcePort()!==S&&I.setSourcePort(S),I.setTargetPort(null),I.getFirstPoint().updateLocation(w),I.getLastPoint().updateLocation(w),O.clearSelection(),I.getLastPoint().setSelected(!0),O.addLink(I),E.startFiringAction(new i.MoveItemsAction(A.clientX,A.clientY,M)))}else!A.shiftKey&&!N.model.isSelected()&&O.clearSelection(),N.model.setSelected(!0),E.startFiringAction(new i.MoveItemsAction(A.clientX,A.clientY,M));E.state.document.addEventListener("mousemove",E.onMouseMove),E.state.document.addEventListener("mouseup",E.onMouseUp)}}),this.state.renderedNodes&&u.createElement(r.LinkLayerWidget,{diagramEngine:M,pointAdded:function(A,N){E.state.document.addEventListener("mousemove",E.onMouseMove),E.state.document.addEventListener("mouseup",E.onMouseUp),N.stopPropagation(),O.clearSelection(A),E.setState({action:new i.MoveItemsAction(N.clientX,N.clientY,M)})}}),u.createElement(t.NodeLayerWidget,{diagramEngine:M}),this.state.action instanceof d.SelectingAction&&this.drawSelectionBox())},y.defaultProps={diagramEngine:null,allowLooseLinks:!0,allowCanvasTranslation:!0,allowCanvasZoom:!0,inverseZoom:!1,maxNumberPointsPerLink:1/0,smartRouting:!1,deleteKeys:[46,8]},y}(v.BaseWidget);x.DiagramWidget=f},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var d in i)i.hasOwnProperty(d)&&(n[d]=i[d])};return function(n,i){e(n,i);function d(){this.constructor=n}n.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(38),u=a(1),o=a(35),r=a(32),t=function(e){l(n,e);function n(){return e.call(this,"default")||this}return n.prototype.generateReactWidget=function(i,d){return u.createElement(o.DefaultNodeWidget,{node:d,diagramEngine:i})},n.prototype.getNewInstance=function(i){return new g.DefaultNodeModel},n}(r.AbstractNodeFactory);x.DefaultNodeFactory=t},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var d in i)i.hasOwnProperty(d)&&(n[d]=i[d])};return function(n,i){e(n,i);function d(){this.constructor=n}n.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(1),u=a(37),o=a(36),r=a(19),t=function(e){l(n,e);function n(){return e.call(this,"default")||this}return n.prototype.generateReactWidget=function(i,d){return g.createElement(u.DefaultLinkWidget,{link:d,diagramEngine:i})},n.prototype.getNewInstance=function(i){return new r.DefaultLinkModel},n.prototype.generateLinkSegment=function(i,d,h,c){return g.createElement("path",{className:h?d.bem("--path-selected"):"",strokeWidth:i.width,stroke:i.color,d:c})},n}(o.AbstractLinkFactory);x.DefaultLinkFactory=t},function(L,x,a){"use strict";var l=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var P in f)f.hasOwnProperty(P)&&(v[P]=f[P])};return function(v,f){p(v,f);function P(){this.constructor=v}v.prototype=f===null?Object.create(f):(P.prototype=f.prototype,new P)}}();Object.defineProperty(x,"__esModule",{value:!0});var g=a(13),u=a(44),o=m(96486),r=a(9),t=a(5),e=a(45),n=a(16),i=a(43),d=a(41),h=a(7),c=function(p){l(v,p);function v(){var f=p.call(this)||this;return f.canvasMatrix=[],f.routingMatrix=[],f.hAdjustmentFactor=0,f.vAdjustmentFactor=0,f.calculateMatrixDimensions=function(){var P=o.values(f.diagramModel.nodes).map(function(D){return{x:D.x,width:D.width,y:D.y,height:D.height}}),y=o.values(f.diagramModel.links),E=o.flatMap(y.map(function(D){return[D.sourcePort,D.targetPort]})).filter(function(D){return D!==null}).map(function(D){return{x:D.x,width:D.width,y:D.y,height:D.height}}),M=o.flatMap(y.map(function(D){return D.points})).map(function(D){return{x:D.x,width:0,y:D.y,height:0}}),O=f.canvas,A=Math.floor(Math.min(o.minBy(o.concat(P,E,M),function(D){return D.x}).x,0)/n.ROUTING_SCALING_FACTOR)*n.ROUTING_SCALING_FACTOR,N=o.maxBy(o.concat(P,E,M),function(D){return D.x+D.width}),w=Math.max(N.x+N.width,O.offsetWidth),S=Math.floor(Math.min(o.minBy(o.concat(P,E,M),function(D){return D.y}).y,0)/n.ROUTING_SCALING_FACTOR)*n.ROUTING_SCALING_FACTOR,I=o.maxBy(o.concat(P,E,M),function(D){return D.y+D.height}),k=Math.max(I.y+I.height,O.offsetHeight);return{width:Math.ceil(Math.abs(A)+w),hAdjustmentFactor:Math.abs(A)/n.ROUTING_SCALING_FACTOR+1,height:Math.ceil(Math.abs(S)+k),vAdjustmentFactor:Math.abs(S)/n.ROUTING_SCALING_FACTOR+1}},f.markNodes=function(P){o.values(f.diagramModel.nodes).forEach(function(y){for(var E=Math.floor(y.x/n.ROUTING_SCALING_FACTOR),M=Math.ceil((y.x+y.width)/n.ROUTING_SCALING_FACTOR),O=Math.floor(y.y/n.ROUTING_SCALING_FACTOR),A=Math.ceil((y.y+y.height)/n.ROUTING_SCALING_FACTOR),N=E-1;N<=M+1;N++)for(var w=O-1;w<A+1;w++)f.markMatrixPoint(P,f.translateRoutingX(N),f.translateRoutingY(w))})},f.markPorts=function(P){var y=o.flatMap(o.values(f.diagramModel.links).map(function(E){return[].concat(E.sourcePort,E.targetPort)}));y.filter(function(E){return E!==null}).forEach(function(E){for(var M=Math.floor(E.x/n.ROUTING_SCALING_FACTOR),O=Math.ceil((E.x+E.width)/n.ROUTING_SCALING_FACTOR),A=Math.floor(E.y/n.ROUTING_SCALING_FACTOR),N=Math.ceil((E.y+E.height)/n.ROUTING_SCALING_FACTOR),w=M-1;w<=O+1;w++)for(var S=A-1;S<N+1;S++)f.markMatrixPoint(P,f.translateRoutingX(w),f.translateRoutingY(S))})},f.markMatrixPoint=function(P,y,E){P[E]!==void 0&&P[E][y]!==void 0&&(P[E][y]=1)},f.diagramModel=new u.DiagramModel,f.nodeFactories={},f.linkFactories={},f.portFactories={},f.labelFactories={},f.canvas=null,f.paintableWidgets=null,f.linksThatHaveInitiallyRendered={},h.Toolkit.TESTING&&(h.Toolkit.TESTING_UID=0,window&&(window.diagram_instance=f)),f}v.prototype.installDefaultFactories=function(){this.registerNodeFactory(new e.DefaultNodeFactory),this.registerLinkFactory(new e.DefaultLinkFactory),this.registerPortFactory(new i.DefaultPortFactory),this.registerLabelFactory(new d.DefaultLabelFactory)},v.prototype.repaintCanvas=function(){this.iterateListeners(function(f){f.repaintCanvas&&f.repaintCanvas()})},v.prototype.clearRepaintEntities=function(){this.paintableWidgets=null},v.prototype.enableRepaintEntities=function(f){var P=this;this.paintableWidgets={},f.forEach(function(y){y instanceof r.NodeModel&&o.forEach(y.getPorts(),function(E){o.forEach(E.getLinks(),function(M){P.paintableWidgets[M.getID()]=!0})}),y instanceof t.PointModel&&(P.paintableWidgets[y.getLink().getID()]=!0),P.paintableWidgets[y.getID()]=!0})},v.prototype.isModelLocked=function(f){return this.diagramModel.isLocked()?!0:f.isLocked()},v.prototype.recalculatePortsVisually=function(){this.nodesRendered=!1,this.linksThatHaveInitiallyRendered={}},v.prototype.canEntityRepaint=function(f){return this.paintableWidgets===null?!0:this.paintableWidgets[f.getID()]!==void 0},v.prototype.setCanvas=function(f){this.canvas=f},v.prototype.setDiagramModel=function(f){this.diagramModel=f,this.recalculatePortsVisually()},v.prototype.getDiagramModel=function(){return this.diagramModel};//!-------------- FACTORIES ------------
return v.prototype.getNodeFactories=function(){return this.nodeFactories},v.prototype.getLinkFactories=function(){return this.linkFactories},v.prototype.getLabelFactories=function(){return this.labelFactories},v.prototype.registerLabelFactory=function(f){this.labelFactories[f.getType()]=f,this.iterateListeners(function(P){P.labelFactoriesUpdated&&P.labelFactoriesUpdated()})},v.prototype.registerPortFactory=function(f){this.portFactories[f.getType()]=f,this.iterateListeners(function(P){P.portFactoriesUpdated&&P.portFactoriesUpdated()})},v.prototype.registerNodeFactory=function(f){this.nodeFactories[f.getType()]=f,this.iterateListeners(function(P){P.nodeFactoriesUpdated&&P.nodeFactoriesUpdated()})},v.prototype.registerLinkFactory=function(f){this.linkFactories[f.getType()]=f,this.iterateListeners(function(P){P.linkFactoriesUpdated&&P.linkFactoriesUpdated()})},v.prototype.getPortFactory=function(f){if(this.portFactories[f])return this.portFactories[f];throw new Error("cannot find factory for port of type: ["+f+"]")},v.prototype.getNodeFactory=function(f){if(this.nodeFactories[f])return this.nodeFactories[f];throw new Error("cannot find factory for node of type: ["+f+"]")},v.prototype.getLinkFactory=function(f){if(this.linkFactories[f])return this.linkFactories[f];throw new Error("cannot find factory for link of type: ["+f+"]")},v.prototype.getLabelFactory=function(f){if(this.labelFactories[f])return this.labelFactories[f];throw new Error("cannot find factory for label of type: ["+f+"]")},v.prototype.getFactoryForNode=function(f){return this.getNodeFactory(f.getType())},v.prototype.getFactoryForLink=function(f){return this.getLinkFactory(f.getType())},v.prototype.getFactoryForLabel=function(f){return this.getLabelFactory(f.getType())},v.prototype.generateWidgetForLink=function(f){var P=this.getFactoryForLink(f);if(!P)throw new Error("Cannot find link factory for link: "+f.getType());return P.generateReactWidget(this,f)},v.prototype.generateWidgetForNode=function(f){var P=this.getFactoryForNode(f);if(!P)throw new Error("Cannot find widget factory for node: "+f.getType());return P.generateReactWidget(this,f)},v.prototype.getRelativeMousePoint=function(f){var P=this.getRelativePoint(f.clientX,f.clientY);return{x:(P.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100),y:(P.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)}},v.prototype.getRelativePoint=function(f,P){var y=this.canvas.getBoundingClientRect();return{x:f-y.left,y:P-y.top}},v.prototype.getNodeElement=function(f){var P=this.canvas.querySelector('.node[data-nodeid="'+f.getID()+'"]');if(P===null)throw new Error("Cannot find Node element with nodeID: ["+f.getID()+"]");return P},v.prototype.getNodePortElement=function(f){var P=this.canvas.querySelector('.port[data-name="'+f.getName()+'"][data-nodeid="'+f.getParent().getID()+'"]');if(P===null)throw new Error("Cannot find Node Port element with nodeID: ["+f.getParent().getID()+"] and name: ["+f.getName()+"]");return P},v.prototype.getPortCenter=function(f){var P=this.getNodePortElement(f),y=P.getBoundingClientRect(),E=this.getRelativePoint(y.left,y.top);return{x:P.offsetWidth/2+(E.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100),y:P.offsetHeight/2+(E.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)}},v.prototype.getPortCoords=function(f){var P=this.getNodePortElement(f),y=P.getBoundingClientRect(),E=this.canvas.getBoundingClientRect();return{x:(y.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100)-E.left,y:(y.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)-E.top,width:y.width,height:y.height}},v.prototype.getNodeDimensions=function(f){if(!this.canvas)return{width:0,height:0};var P=this.getNodeElement(f),y=P.getBoundingClientRect();return{width:y.width,height:y.height}},v.prototype.getMaxNumberPointsPerLink=function(){return this.maxNumberPointsPerLink},v.prototype.setMaxNumberPointsPerLink=function(f){this.maxNumberPointsPerLink=f},v.prototype.isSmartRoutingEnabled=function(){return!!this.smartRouting},v.prototype.setSmartRoutingStatus=function(f){this.smartRouting=f},v.prototype.getCanvasMatrix=function(){return this.canvasMatrix.length===0&&this.calculateCanvasMatrix(),this.canvasMatrix},v.prototype.calculateCanvasMatrix=function(){var f=this.calculateMatrixDimensions(),P=f.width,y=f.hAdjustmentFactor,E=f.height,M=f.vAdjustmentFactor;this.hAdjustmentFactor=y,this.vAdjustmentFactor=M;var O=Math.ceil(P/n.ROUTING_SCALING_FACTOR),A=Math.ceil(E/n.ROUTING_SCALING_FACTOR);this.canvasMatrix=o.range(0,A).map(function(){return new Array(O).fill(0)})},v.prototype.getRoutingMatrix=function(){return this.routingMatrix.length===0&&this.calculateRoutingMatrix(),this.routingMatrix},v.prototype.calculateRoutingMatrix=function(){var f=o.cloneDeep(this.getCanvasMatrix());this.markNodes(f),this.markPorts(f),this.routingMatrix=f},v.prototype.translateRoutingX=function(f,P){return P===void 0&&(P=!1),f+this.hAdjustmentFactor*(P?-1:1)},v.prototype.translateRoutingY=function(f,P){return P===void 0&&(P=!1),f+this.vAdjustmentFactor*(P?-1:1)},v.prototype.zoomToFit=function(){var f=this.canvas.clientWidth/this.canvas.scrollWidth,P=this.canvas.clientHeight/this.canvas.scrollHeight,y=f<P?f:P;this.diagramModel.setZoomLevel(this.diagramModel.getZoomLevel()*y),this.diagramModel.setOffset(0,0),this.repaintCanvas()},v}(g.BaseEntity);x.DiagramEngine=c},function(L,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var l=function(){function d(h,c){var p=[],v=!0,f=!1,P=void 0;try{for(var y=h[Symbol.iterator](),E;!(v=(E=y.next()).done)&&(p.push(E.value),!(c&&p.length===c));v=!0);}catch(M){f=!0,P=M}finally{try{!v&&y.return&&y.return()}finally{if(f)throw P}}return p}return function(h,c){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return d(h,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(h){return h*h},u=function(h,c){var p=l(h,2),v=p[0],f=p[1],P=l(c,2),y=P[0],E=P[1];return Math.sqrt(g(v-y)+g(f-E))},o=function(h,c){var p=u(h,c);return p==0?1/0:g(p)/(2*Math.abs(h[1]-c[1]))},r=function(h,c,p){var v=(h[0]-p[0])*(c[1]-p[1])-(c[0]-p[0])*(h[1]-p[1]);if(v==0)return[1/0,1/0];var f=(((h[0]-p[0])*(h[0]+p[0])+(h[1]-p[1])*(h[1]+p[1]))/2*(c[1]-p[1])-((c[0]-p[0])*(c[0]+p[0])+(c[1]-p[1])*(c[1]+p[1]))/2*(h[1]-p[1]))/v,P=(((c[0]-p[0])*(c[0]+p[0])+(c[1]-p[1])*(c[1]+p[1]))/2*(h[0]-p[0])-((h[0]-p[0])*(h[0]+p[0])+(h[1]-p[1])*(h[1]+p[1]))/2*(c[0]-p[0]))/v;return[f,P]},t=function(h,c,p){if(h[1]===c[1])return[(h[0]+c[0])/2,(h[0]+c[0])/2];var v=(h[1]*c[0]-h[0]*c[1]+h[0]*p-c[0]*p+Math.sqrt((h[0]*h[0]+h[1]*h[1]-2*h[0]*c[0]+c[0]*c[0]-2*h[1]*c[1]+c[1]*c[1])*(h[1]*c[1]-h[1]*p-c[1]*p+p*p)))/(h[1]-c[1]),f=(h[1]*c[0]-h[0]*c[1]+h[0]*p-c[0]*p-Math.sqrt((h[0]*h[0]+h[1]*h[1]-2*h[0]*c[0]+c[0]*c[0]-2*h[1]*c[1]+c[1]*c[1])*(h[1]*c[1]-h[1]*p-c[1]*p+p*p)))/(h[1]-c[1]);return v<f?[v,f]:[f,v]},e=function(h,c){var p=arguments.length<=2||arguments[2]===void 0?1e-10:arguments[2],v=c.ps[0]-h.ps[0],f=c.ps[1]-h.ps[1];if(h.m==1/0)return h.hp*(c.m*v-f)<=p&&c.vec[0]*v<=p;if(c.m==1/0)return c.hp*(h.m*v-f)>=-p&&h.vec[0]*v>=-p;var P=c.vec[0]*h.vec[1]-c.vec[1]*h.vec[0];if(P===0)return!1;var y=(f*c.vec[0]-v*c.vec[1])/P,E=(f*h.vec[0]-v*h.vec[1])/P;return y>=-p&&E>=p||y>=p&&E>=-p},n=function(h,c){return h.map(function(p){return{x:p.x*c[0]+p.y*c[2]+c[4],y:p.x*c[1]+p.y*c[3]+c[5]}})},i=function(h,c,p,v){var f=Math.PI/180,P=1e-10,y=Math.cos(p*f),E=Math.sin(p*f),M=[h*(v[0]*y+v[2]*E),h*(v[1]*y+v[3]*E),c*(-v[0]*E+v[2]*y),c*(-v[1]*E+v[3]*y)],O=M[0]*M[0]+M[2]*M[2],A=M[1]*M[1]+M[3]*M[3],N=((M[0]-M[3])*(M[0]-M[3])+(M[2]+M[1])*(M[2]+M[1]))*((M[0]+M[3])*(M[0]+M[3])+(M[2]-M[1])*(M[2]-M[1])),w=(O+A)/2;if(N<P*w)return{rx:Math.sqrt(w),ry:Math.sqrt(w),ax:0,isDegenerate:!1};var S=M[0]*M[1]+M[2]*M[3];N=Math.sqrt(N);var I=w+N/2,k=w-N/2,D=void 0,W=void 0,G=void 0;return D=Math.abs(S)<P&&Math.abs(I-A)<P?90:Math.atan(Math.abs(S)>Math.abs(I-A)?(I-O)/S:S/(I-A))*180/Math.PI,D>=0?(W=Math.sqrt(I),G=Math.sqrt(k)):(D+=90,W=Math.sqrt(k),G=Math.sqrt(I)),{rx:W,ry:G,ax:D,isDegenerate:W<P*G||G<P*W}};x.default={distPointToPoint:u,distPointToParabol:o,circumCenter:r,parabolsCrossX:t,doHalflinesCross:e,matrixTransform:n,transformEllipse:i},L.exports=x.default},function(L,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var l=function(){function o(r,t){var e=[],n=!0,i=!1,d=void 0;try{for(var h=r[Symbol.iterator](),c;!(n=(c=h.next()).done)&&(e.push(c.value),!(t&&e.length===t));n=!0);}catch(p){i=!0,d=p}finally{try{!n&&h.return&&h.return()}finally{if(i)throw d}}return e}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return o(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=a(50),u=function o(r){var t=r||[],e=function(y,E){var M=y.slice(0,y.length);return M.push(E),M},n=function(y,E){var M=l(y,2),O=M[0],A=M[1],N=l(E,2),w=N[0],S=N[1];return O===w&&A===S},i=function(y,E){for(var M=y.length;y.charAt(M-1)==="0";)M=M-1;return y.charAt(M-1)==="."&&(M=M-1),y.substr(0,M)},d=function(y,E){var M=y.toFixed(E);return i(M)},h=function(y){var E=y.command,M=y.params,O=M.map(function(A){return d(A,6)});return E+" "+O.join(" ")},c=function(y,E){var M=y.command,O=y.params;switch(M){case"M":return[O[0],O[1]];case"L":return[O[0],O[1]];case"H":return[O[0],E[1]];case"V":return[E[0],O[0]];case"Z":return null;case"C":return[O[4],O[5]];case"S":return[O[2],O[3]];case"Q":return[O[2],O[3]];case"T":return[O[0],O[1]];case"A":return[O[5],O[6]]}},p=function(y,E,M){var O=y.params,A={V:function(w,S,I){var k=[{x:I[0],y:O[1]}],D=(0,g.matrixTransform)(k,S);return D[0].x===(0,g.matrixTransform)([{x:I[0],y:I[1]}])[0].x?{command:"V",params:[D[0].y]}:{command:"L",params:[D[0].x,D[0].y]}},H:function(w,S,I){var k=[{x:O[0],y:I[1]}],D=(0,g.matrixTransform)(k,S);return D[0].y===(0,g.matrixTransform)([{x:I[0],y:I[1]}])[0].y?{command:"H",params:[D[0].x]}:{command:"L",params:[D[0].x,D[0].y]}},A:function(w,S,I){var k=(0,g.transformEllipse)(O[0],O[1],O[2],S),D=O[4];S[0]*S[3]-S[1]*S[2]<0&&(D=D?"0":"1");var W=[{x:O[5],y:O[6]}],G=(0,g.matrixTransform)(W,S);return k.isDegenerate?{command:"L",params:[G[0].x,G[0].y]}:{command:"A",params:[k.rx,k.ry,k.ax,O[3],D,G[0].x,G[0].y]}},C:function(w,S,I){var k=[{x:O[0],y:O[1]},{x:O[2],y:O[3]},{x:O[4],y:O[5]}],D=(0,g.matrixTransform)(k,S);return{command:"C",params:[D[0].x,D[0].y,D[1].x,D[1].y,D[2].x,D[2].y]}},Z:function(w,S,I){return{command:"Z",params:[]}},default:function(w,S,I){var k=[{x:O[0],y:O[1]}],D=(0,g.matrixTransform)(k,S),W=w.params.slice(0,w.params.length);return W.splice(0,2,D[0].x,D[0].y),{command:w.command,params:W}}};return A[y.command]?A[y.command](y,E,M):A.default(y,E,M)},v=function(y,E){return function(M){var O=typeof M=="object"?y.map(function(A){return M[A]}):arguments;return E.apply(null,O)}},f=function(y){return o(e(t,y))};return{moveto:v(["x","y"],function(P,y){return f({command:"M",params:[P,y]})}),lineto:v(["x","y"],function(P,y){return f({command:"L",params:[P,y]})}),hlineto:v(["x"],function(P){return f({command:"H",params:[P]})}),vlineto:v(["y"],function(P){return f({command:"V",params:[P]})}),closepath:function(){return f({command:"Z",params:[]})},curveto:v(["x1","y1","x2","y2","x","y"],function(P,y,E,M,O,A){return f({command:"C",params:[P,y,E,M,O,A]})}),smoothcurveto:v(["x2","y2","x","y"],function(P,y,E,M){return f({command:"S",params:[P,y,E,M]})}),qcurveto:v(["x1","y1","x","y"],function(P,y,E,M){return f({command:"Q",params:[P,y,E,M]})}),smoothqcurveto:v(["x","y"],function(P,y){return f({command:"T",params:[P,y]})}),arc:v(["rx","ry","xrot","largeArcFlag","sweepFlag","x","y"],function(P,y,E,M,O,A,N){return f({command:"A",params:[P,y,E,M,O,A,N]})}),translate:v(["dx","dy"],function(){var P=arguments.length<=0||arguments[0]===void 0?0:arguments[0],y=arguments.length<=1||arguments[1]===void 0?0:arguments[1];if(P!==0||P!==0){var E=function(){var M=[0,0],O=[1,0,0,1,P,y],A=t.map(function(N){var w=p(N,O,M);return M=c(N,M),w});return{v:o(A)}}();if(typeof E=="object")return E.v}else return o(t)}),rotate:v(["angle","rx","ry"],function(P){var y=arguments.length<=1||arguments[1]===void 0?0:arguments[1],E=arguments.length<=2||arguments[2]===void 0?0:arguments[2];if(P!==0){var M=function(){var O=void 0,A=void 0,N=t;y!==0&&E!==0&&(O=[0,0],A=[1,0,0,1,-y,-E],N=N.map(function(k){var D=p(k,A,O);return O=c(k,O),D}));var w=P*Math.PI/180,S=Math.cos(w),I=Math.sin(w);return O=[0,0],A=[S,I,-I,S,0,0],N=N.map(function(k){var D=p(k,A,O);return O=c(k,O),D}),y!==0&&E!==0&&(O=[0,0],A=[1,0,0,1,y,E],N=N.map(function(k){var D=p(k,A,O);return O=c(k,O),D})),{v:o(N)}}();if(typeof M=="object")return M.v}else return o(t)}),scale:v(["sx","sy"],function(){var P=arguments.length<=0||arguments[0]===void 0?1:arguments[0],y=arguments.length<=1||arguments[1]===void 0?P:arguments[1];return function(){if(P!==1||y!==1){var E=function(){var M=[0,0],O=[P,0,0,y,0,0],A=t.map(function(N){var w=p(N,O,M);return M=c(N,M),w});return{v:o(A)}}();if(typeof E=="object")return E.v}else return o(t)}()}),shearX:v(["angle"],function(){var P=arguments.length<=0||arguments[0]===void 0?0:arguments[0];if(P!==0){var y=function(){var E=[0,0],M=[1,0,Math.tan(P*Math.PI/180),1,0,0],O=t.map(function(A){var N=p(A,M,E);return E=c(A,E),N});return{v:o(O)}}();if(typeof y=="object")return y.v}else return o(t)}),shearY:v(["angle"],function(){var P=arguments.length<=0||arguments[0]===void 0?0:arguments[0];if(P!==0){var y=function(){var E=[0,0],M=[1,Math.tan(P*Math.PI/180),0,1,0,0],O=t.map(function(A){var N=p(A,M,E);return E=c(A,E),N});return{v:o(O)}}();if(typeof y=="object")return y.v}else return o(t)}),print:function(){return t.map(h).join(" ")},toString:function(){return(void 0).print()},points:function(){var y=[],E=[0,0],M=!0,O=!1,A=void 0;try{for(var N=t[Symbol.iterator](),w;!(M=(w=N.next()).done);M=!0){var S=w.value,I=c(S,E);E=I,I&&y.push(I)}}catch(k){O=!0,A=k}finally{try{!M&&N.return&&N.return()}finally{if(O)throw A}}return y},instructions:function(){return t.slice(0,t.length)},connect:function(y){var E=this.points(),M=E[E.length-1],O=y.points()[0],A=void 0;return t[t.length-1].command!=="Z"?(A=y.instructions().slice(1),n(M,O)||A.unshift({command:"L",params:O})):A=y.instructions(),o(this.instructions().concat(A))}}};x.default=function(){return u()},L.exports=x.default},function(L,x,a){var l=a(14),g=a(2);function u(o){l.call(this,o)}u.prototype=new l,u.prototype.constructor=u,u.prototype._jump=function(o,r,t,e){var n=this.grid,i=o-t,d=r-e;if(!n.isWalkableAt(o,r))return null;if(this.trackJumpRecursion===!0&&(n.getNodeAt(o,r).tested=!0),n.getNodeAt(o,r)===this.endNode)return[o,r];if(i!==0&&d!==0){if(n.isWalkableAt(o-i,r+d)&&!n.isWalkableAt(o-i,r)||n.isWalkableAt(o+i,r-d)&&!n.isWalkableAt(o,r-d))return[o,r];if(this._jump(o+i,r,o,r)||this._jump(o,r+d,o,r))return[o,r]}else if(i!==0){if(n.isWalkableAt(o+i,r+1)&&!n.isWalkableAt(o,r+1)||n.isWalkableAt(o+i,r-1)&&!n.isWalkableAt(o,r-1))return[o,r]}else if(n.isWalkableAt(o+1,r+d)&&!n.isWalkableAt(o+1,r)||n.isWalkableAt(o-1,r+d)&&!n.isWalkableAt(o-1,r))return[o,r];return n.isWalkableAt(o+i,r)||n.isWalkableAt(o,r+d)?this._jump(o+i,r+d,o,r):null},u.prototype._findNeighbors=function(o){var r=o.parent,t=o.x,e=o.y,n=this.grid,i,d,h,c,p,v,f=[],P,y,E,M;if(r)i=r.x,d=r.y,p=(t-i)/Math.max(Math.abs(t-i),1),v=(e-d)/Math.max(Math.abs(e-d),1),p!==0&&v!==0?(n.isWalkableAt(t,e+v)&&f.push([t,e+v]),n.isWalkableAt(t+p,e)&&f.push([t+p,e]),(n.isWalkableAt(t,e+v)||n.isWalkableAt(t+p,e))&&f.push([t+p,e+v]),!n.isWalkableAt(t-p,e)&&n.isWalkableAt(t,e+v)&&f.push([t-p,e+v]),!n.isWalkableAt(t,e-v)&&n.isWalkableAt(t+p,e)&&f.push([t+p,e-v])):p===0?n.isWalkableAt(t,e+v)&&(f.push([t,e+v]),n.isWalkableAt(t+1,e)||f.push([t+1,e+v]),n.isWalkableAt(t-1,e)||f.push([t-1,e+v])):n.isWalkableAt(t+p,e)&&(f.push([t+p,e]),n.isWalkableAt(t,e+1)||f.push([t+p,e+1]),n.isWalkableAt(t,e-1)||f.push([t+p,e-1]));else for(P=n.getNeighbors(o,g.IfAtMostOneObstacle),E=0,M=P.length;E<M;++E)y=P[E],f.push([y.x,y.y]);return f},L.exports=u},function(L,x,a){var l=a(14),g=a(2);function u(o){l.call(this,o)}u.prototype=new l,u.prototype.constructor=u,u.prototype._jump=function(o,r,t,e){var n=this.grid,i=o-t,d=r-e;if(!n.isWalkableAt(o,r))return null;if(this.trackJumpRecursion===!0&&(n.getNodeAt(o,r).tested=!0),n.getNodeAt(o,r)===this.endNode)return[o,r];if(i!==0&&d!==0){if(this._jump(o+i,r,o,r)||this._jump(o,r+d,o,r))return[o,r]}else if(i!==0){if(n.isWalkableAt(o,r-1)&&!n.isWalkableAt(o-i,r-1)||n.isWalkableAt(o,r+1)&&!n.isWalkableAt(o-i,r+1))return[o,r]}else if(d!==0&&(n.isWalkableAt(o-1,r)&&!n.isWalkableAt(o-1,r-d)||n.isWalkableAt(o+1,r)&&!n.isWalkableAt(o+1,r-d)))return[o,r];return n.isWalkableAt(o+i,r)&&n.isWalkableAt(o,r+d)?this._jump(o+i,r+d,o,r):null},u.prototype._findNeighbors=function(o){var r=o.parent,t=o.x,e=o.y,n=this.grid,i,d,h,c,p,v,f=[],P,y,E,M;if(r)if(i=r.x,d=r.y,p=(t-i)/Math.max(Math.abs(t-i),1),v=(e-d)/Math.max(Math.abs(e-d),1),p!==0&&v!==0)n.isWalkableAt(t,e+v)&&f.push([t,e+v]),n.isWalkableAt(t+p,e)&&f.push([t+p,e]),n.isWalkableAt(t,e+v)&&n.isWalkableAt(t+p,e)&&f.push([t+p,e+v]);else{var O;if(p!==0){O=n.isWalkableAt(t+p,e);var A=n.isWalkableAt(t,e+1),N=n.isWalkableAt(t,e-1);O&&(f.push([t+p,e]),A&&f.push([t+p,e+1]),N&&f.push([t+p,e-1])),A&&f.push([t,e+1]),N&&f.push([t,e-1])}else if(v!==0){O=n.isWalkableAt(t,e+v);var w=n.isWalkableAt(t+1,e),S=n.isWalkableAt(t-1,e);O&&(f.push([t,e+v]),w&&f.push([t+1,e+v]),S&&f.push([t-1,e+v])),w&&f.push([t+1,e]),S&&f.push([t-1,e])}}else for(P=n.getNeighbors(o,g.OnlyWhenNoObstacles),E=0,M=P.length;E<M;++E)y=P[E],f.push([y.x,y.y]);return f},L.exports=u},function(L,x,a){var l=a(14),g=a(2);function u(o){l.call(this,o)}u.prototype=new l,u.prototype.constructor=u,u.prototype._jump=function(o,r,t,e){var n=this.grid,i=o-t,d=r-e;if(!n.isWalkableAt(o,r))return null;if(this.trackJumpRecursion===!0&&(n.getNodeAt(o,r).tested=!0),n.getNodeAt(o,r)===this.endNode)return[o,r];if(i!==0&&d!==0){if(n.isWalkableAt(o-i,r+d)&&!n.isWalkableAt(o-i,r)||n.isWalkableAt(o+i,r-d)&&!n.isWalkableAt(o,r-d))return[o,r];if(this._jump(o+i,r,o,r)||this._jump(o,r+d,o,r))return[o,r]}else if(i!==0){if(n.isWalkableAt(o+i,r+1)&&!n.isWalkableAt(o,r+1)||n.isWalkableAt(o+i,r-1)&&!n.isWalkableAt(o,r-1))return[o,r]}else if(n.isWalkableAt(o+1,r+d)&&!n.isWalkableAt(o+1,r)||n.isWalkableAt(o-1,r+d)&&!n.isWalkableAt(o-1,r))return[o,r];return this._jump(o+i,r+d,o,r)},u.prototype._findNeighbors=function(o){var r=o.parent,t=o.x,e=o.y,n=this.grid,i,d,h,c,p,v,f=[],P,y,E,M;if(r)i=r.x,d=r.y,p=(t-i)/Math.max(Math.abs(t-i),1),v=(e-d)/Math.max(Math.abs(e-d),1),p!==0&&v!==0?(n.isWalkableAt(t,e+v)&&f.push([t,e+v]),n.isWalkableAt(t+p,e)&&f.push([t+p,e]),n.isWalkableAt(t+p,e+v)&&f.push([t+p,e+v]),n.isWalkableAt(t-p,e)||f.push([t-p,e+v]),n.isWalkableAt(t,e-v)||f.push([t+p,e-v])):p===0?(n.isWalkableAt(t,e+v)&&f.push([t,e+v]),n.isWalkableAt(t+1,e)||f.push([t+1,e+v]),n.isWalkableAt(t-1,e)||f.push([t-1,e+v])):(n.isWalkableAt(t+p,e)&&f.push([t+p,e]),n.isWalkableAt(t,e+1)||f.push([t+p,e+1]),n.isWalkableAt(t,e-1)||f.push([t+p,e-1]));else for(P=n.getNeighbors(o,g.Always),E=0,M=P.length;E<M;++E)y=P[E],f.push([y.x,y.y]);return f},L.exports=u},function(L,x,a){var l=a(14),g=a(2);function u(o){l.call(this,o)}u.prototype=new l,u.prototype.constructor=u,u.prototype._jump=function(o,r,t,e){var n=this.grid,i=o-t,d=r-e;if(!n.isWalkableAt(o,r))return null;if(this.trackJumpRecursion===!0&&(n.getNodeAt(o,r).tested=!0),n.getNodeAt(o,r)===this.endNode)return[o,r];if(i!==0){if(n.isWalkableAt(o,r-1)&&!n.isWalkableAt(o-i,r-1)||n.isWalkableAt(o,r+1)&&!n.isWalkableAt(o-i,r+1))return[o,r]}else if(d!==0){if(n.isWalkableAt(o-1,r)&&!n.isWalkableAt(o-1,r-d)||n.isWalkableAt(o+1,r)&&!n.isWalkableAt(o+1,r-d))return[o,r];if(this._jump(o+1,r,o,r)||this._jump(o-1,r,o,r))return[o,r]}else throw new Error("Only horizontal and vertical movements are allowed");return this._jump(o+i,r+d,o,r)},u.prototype._findNeighbors=function(o){var r=o.parent,t=o.x,e=o.y,n=this.grid,i,d,h,c,p,v,f=[],P,y,E,M;if(r)i=r.x,d=r.y,p=(t-i)/Math.max(Math.abs(t-i),1),v=(e-d)/Math.max(Math.abs(e-d),1),p!==0?(n.isWalkableAt(t,e-1)&&f.push([t,e-1]),n.isWalkableAt(t,e+1)&&f.push([t,e+1]),n.isWalkableAt(t+p,e)&&f.push([t+p,e])):v!==0&&(n.isWalkableAt(t-1,e)&&f.push([t-1,e]),n.isWalkableAt(t+1,e)&&f.push([t+1,e]),n.isWalkableAt(t,e+v)&&f.push([t,e+v]));else for(P=n.getNeighbors(o,g.Never),E=0,M=P.length;E<M;++E)y=P[E],f.push([y.x,y.y]);return f},L.exports=u},function(L,x,a){var l=a(2),g=a(55),u=a(54),o=a(53),r=a(52);function t(e){return e=e||{},e.diagonalMovement===l.Never?new g(e):e.diagonalMovement===l.Always?new u(e):e.diagonalMovement===l.OnlyWhenNoObstacles?new o(e):new r(e)}L.exports=t},function(L,x,a){var l=a(4),g=a(10),u=a(24),o=a(2);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||g.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||g.manhattan:this.heuristic=t.heuristic||g.octile}r.prototype.findPath=function(t,e,n,i,d){var h=0,c=new Date().getTime(),p=function(N,w){return this.heuristic(Math.abs(w.x-N.x),Math.abs(w.y-N.y))}.bind(this),v=function(N,w){return N.x===w.x||N.y===w.y?1:Math.SQRT2},f=function(N,w,S,I,k){if(h++,this.timeLimit>0&&new Date().getTime()-c>this.timeLimit*1e3)return 1/0;var D=w+p(N,y)*this.weight;if(D>S)return D;if(N==y)return I[k]=[N.x,N.y],N;var W,G,Q,Z,ht=d.getNeighbors(N,this.diagonalMovement);for(Q=0,W=1/0;Z=ht[Q];++Q){if(this.trackRecursion&&(Z.retainCount=Z.retainCount+1||1,Z.tested!==!0&&(Z.tested=!0)),G=f(Z,w+v(N,Z),S,I,k+1),G instanceof u)return I[k]=[N.x,N.y],G;this.trackRecursion&&--Z.retainCount===0&&(Z.tested=!1),G<W&&(W=G)}return W}.bind(this),P=d.getNodeAt(t,e),y=d.getNodeAt(n,i),E=p(P,y),M,O,A;for(M=0;;++M){if(O=[],A=f(P,0,E,O,0),A===1/0)return[];if(A instanceof u)return O;E=A}return[]},L.exports=r},function(L,x,a){var l=a(22);function g(u){l.call(this,u),this.heuristic=function(o,r){return 0}}g.prototype=new l,g.prototype.constructor=g,L.exports=g},function(L,x,a){var l=a(4),g=a(2);function u(o){o=o||{},this.allowDiagonal=o.allowDiagonal,this.dontCrossCorners=o.dontCrossCorners,this.diagonalMovement=o.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=g.OnlyWhenNoObstacles:this.diagonalMovement=g.IfAtMostOneObstacle:this.diagonalMovement=g.Never)}u.prototype.findPath=function(o,r,t,e,n){var i=n.getNodeAt(o,r),d=n.getNodeAt(t,e),h=[],c=[],p,v,f,P=this.diagonalMovement,y=0,E=1,M,O;for(h.push(i),i.opened=!0,i.by=y,c.push(d),d.opened=!0,d.by=E;h.length&&c.length;){for(f=h.shift(),f.closed=!0,p=n.getNeighbors(f,P),M=0,O=p.length;M<O;++M)if(v=p[M],!v.closed){if(v.opened){if(v.by===E)return l.biBacktrace(f,v);continue}h.push(v),v.parent=f,v.opened=!0,v.by=y}for(f=c.shift(),f.closed=!0,p=n.getNeighbors(f,P),M=0,O=p.length;M<O;++M)if(v=p[M],!v.closed){if(v.opened){if(v.by===y)return l.biBacktrace(v,f);continue}c.push(v),v.parent=f,v.opened=!0,v.by=E}}return[]},L.exports=u},function(L,x,a){var l=a(22);function g(u){l.call(this,u);var o=this.heuristic;this.heuristic=function(r,t){return o(r,t)*1e6}}g.prototype=new l,g.prototype.constructor=g,L.exports=g},function(L,x,a){var l=a(23);function g(u){l.call(this,u),this.heuristic=function(o,r){return 0}}g.prototype=new l,g.prototype.constructor=g,L.exports=g},function(L,x,a){var l=a(4),g=a(2);function u(o){o=o||{},this.allowDiagonal=o.allowDiagonal,this.dontCrossCorners=o.dontCrossCorners,this.diagonalMovement=o.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=g.OnlyWhenNoObstacles:this.diagonalMovement=g.IfAtMostOneObstacle:this.diagonalMovement=g.Never)}u.prototype.findPath=function(o,r,t,e,n){var i=[],d=this.diagonalMovement,h=n.getNodeAt(o,r),c=n.getNodeAt(t,e),p,v,f,P,y;for(i.push(h),h.opened=!0;i.length;){if(f=i.shift(),f.closed=!0,f===c)return l.backtrace(c);for(p=n.getNeighbors(f,d),P=0,y=p.length;P<y;++P)v=p[P],!(v.closed||v.opened)&&(i.push(v),v.opened=!0,v.parent=f)}return[]},L.exports=u},function(L,x,a){var l=a(23);function g(u){l.call(this,u);var o=this.heuristic;this.heuristic=function(r,t){return o(r,t)*1e6}}g.prototype=new l,g.prototype.constructor=g,L.exports=g},function(L,x,a){var l=a(24),g=a(2);function u(o,r,t){var e;typeof o!="object"?e=o:(r=o.length,e=o[0].length,t=o),this.width=e,this.height=r,this.nodes=this._buildNodes(e,r,t)}u.prototype._buildNodes=function(o,r,t){var e,n,i=new Array(r);for(e=0;e<r;++e)for(i[e]=new Array(o),n=0;n<o;++n)i[e][n]=new l(n,e);if(t===void 0)return i;if(t.length!==r||t[0].length!==o)throw new Error("Matrix size does not fit");for(e=0;e<r;++e)for(n=0;n<o;++n)t[e][n]&&(i[e][n].walkable=!1);return i},u.prototype.getNodeAt=function(o,r){return this.nodes[r][o]},u.prototype.isWalkableAt=function(o,r){return this.isInside(o,r)&&this.nodes[r][o].walkable},u.prototype.isInside=function(o,r){return o>=0&&o<this.width&&r>=0&&r<this.height},u.prototype.setWalkableAt=function(o,r,t){this.nodes[r][o].walkable=t},u.prototype.getNeighbors=function(o,r){var t=o.x,e=o.y,n=[],i=!1,d=!1,h=!1,c=!1,p=!1,v=!1,f=!1,P=!1,y=this.nodes;if(this.isWalkableAt(t,e-1)&&(n.push(y[e-1][t]),i=!0),this.isWalkableAt(t+1,e)&&(n.push(y[e][t+1]),h=!0),this.isWalkableAt(t,e+1)&&(n.push(y[e+1][t]),p=!0),this.isWalkableAt(t-1,e)&&(n.push(y[e][t-1]),f=!0),r===g.Never)return n;if(r===g.OnlyWhenNoObstacles)d=f&&i,c=i&&h,v=h&&p,P=p&&f;else if(r===g.IfAtMostOneObstacle)d=f||i,c=i||h,v=h||p,P=p||f;else if(r===g.Always)d=!0,c=!0,v=!0,P=!0;else throw new Error("Incorrect value of diagonalMovement");return d&&this.isWalkableAt(t-1,e-1)&&n.push(y[e-1][t-1]),c&&this.isWalkableAt(t+1,e-1)&&n.push(y[e-1][t+1]),v&&this.isWalkableAt(t+1,e+1)&&n.push(y[e+1][t+1]),P&&this.isWalkableAt(t-1,e+1)&&n.push(y[e+1][t-1]),n},u.prototype.clone=function(){var o,r,t=this.width,e=this.height,n=this.nodes,i=new u(t,e),d=new Array(e);for(o=0;o<e;++o)for(d[o]=new Array(t),r=0;r<t;++r)d[o][r]=new l(r,o,n[o][r].walkable);return i.nodes=d,i},L.exports=u},function(L,x){L.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(L,x,a){(function(l){(function(){var g,u,o,r,t,e,n,i,d,h,c,p,v,f,P;o=Math.floor,h=Math.min,u=function(y,E){return y<E?-1:y>E?1:0},d=function(y,E,M,O,A){var N;if(M==null&&(M=0),A==null&&(A=u),M<0)throw new Error("lo must be non-negative");for(O==null&&(O=y.length);M<O;)N=o((M+O)/2),A(E,y[N])<0?O=N:M=N+1;return[].splice.apply(y,[M,M-M].concat(E)),E},e=function(y,E,M){return M==null&&(M=u),y.push(E),f(y,0,y.length-1,M)},t=function(y,E){var M,O;return E==null&&(E=u),M=y.pop(),y.length?(O=y[0],y[0]=M,P(y,0,E)):O=M,O},i=function(y,E,M){var O;return M==null&&(M=u),O=y[0],y[0]=E,P(y,0,M),O},n=function(y,E,M){var O;return M==null&&(M=u),y.length&&M(y[0],E)<0&&(O=[y[0],E],E=O[0],y[0]=O[1],P(y,0,M)),E},r=function(y,E){var M,O,A,N,w,S,I,k;for(E==null&&(E=u),S=function(){k=[];for(var D=0,W=o(y.length/2);0<=W?D<W:D>W;0<=W?D++:D--)k.push(D);return k}.apply(this).reverse(),I=[],O=0,N=S.length;O<N;O++)M=S[O],I.push(P(y,M,E));return I},v=function(y,E,M){var O;if(M==null&&(M=u),O=y.indexOf(E),O!==-1)return f(y,0,O,M),P(y,O,M)},c=function(y,E,M){var O,A,N,w,S;if(M==null&&(M=u),A=y.slice(0,E),!A.length)return A;for(r(A,M),S=y.slice(E),N=0,w=S.length;N<w;N++)O=S[N],n(A,O,M);return A.sort(M).reverse()},p=function(y,E,M){var O,A,N,w,S,I,k,D,W,G;if(M==null&&(M=u),E*10<=y.length){if(w=y.slice(0,E).sort(M),!w.length)return w;for(N=w[w.length-1],D=y.slice(E),S=0,k=D.length;S<k;S++)O=D[S],M(O,N)<0&&(d(w,O,0,null,M),w.pop(),N=w[w.length-1]);return w}for(r(y,M),G=[],A=I=0,W=h(E,y.length);0<=W?I<W:I>W;A=0<=W?++I:--I)G.push(t(y,M));return G},f=function(y,E,M,O){var A,N,w;for(O==null&&(O=u),A=y[M];M>E;){if(w=M-1>>1,N=y[w],O(A,N)<0){y[M]=N,M=w;continue}break}return y[M]=A},P=function(y,E,M){var O,A,N,w,S;for(M==null&&(M=u),A=y.length,S=E,N=y[E],O=2*E+1;O<A;)w=O+1,w<A&&!(M(y[O],y[w])<0)&&(O=w),y[E]=y[O],E=O,O=2*E+1;return y[E]=N,f(y,S,E,M)},g=function(){y.push=e,y.pop=t,y.replace=i,y.pushpop=n,y.heapify=r,y.updateItem=v,y.nlargest=c,y.nsmallest=p;function y(E){this.cmp=E??u,this.nodes=[]}return y.prototype.push=function(E){return e(this.nodes,E,this.cmp)},y.prototype.pop=function(){return t(this.nodes,this.cmp)},y.prototype.peek=function(){return this.nodes[0]},y.prototype.contains=function(E){return this.nodes.indexOf(E)!==-1},y.prototype.replace=function(E){return i(this.nodes,E,this.cmp)},y.prototype.pushpop=function(E){return n(this.nodes,E,this.cmp)},y.prototype.heapify=function(){return r(this.nodes,this.cmp)},y.prototype.updateItem=function(E){return v(this.nodes,E,this.cmp)},y.prototype.clear=function(){return this.nodes=[]},y.prototype.empty=function(){return this.nodes.length===0},y.prototype.size=function(){return this.nodes.length},y.prototype.clone=function(){var E;return E=new y,E.nodes=this.nodes.slice(0),E},y.prototype.toArray=function(){return this.nodes.slice(0)},y.prototype.insert=y.prototype.push,y.prototype.top=y.prototype.peek,y.prototype.front=y.prototype.peek,y.prototype.has=y.prototype.contains,y.prototype.copy=y.prototype.clone,y}(),typeof l<"u"&&l!==null&&l.exports?l.exports=g:window.Heap=g}).call(this)}).call(this,a(65)(L))},function(L,x,a){L.exports={Heap:a(15),Node:a(24),Grid:a(64),Util:a(4),DiagonalMovement:a(2),Heuristic:a(10),AStarFinder:a(23),BestFirstFinder:a(63),BreadthFirstFinder:a(62),DijkstraFinder:a(61),BiAStarFinder:a(22),BiBestFirstFinder:a(60),BiBreadthFirstFinder:a(59),BiDijkstraFinder:a(58),IDAStarFinder:a(57),JumpPointFinder:a(56)}},function(L,x,a){L.exports=a(67)},function(L,x){var a=Element.prototype,l=a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;L.exports=g;function g(u,o){if(l)return l.call(u,o);for(var r=u.parentNode.querySelectorAll(o),t=0;t<r.length;++t)if(r[t]==u)return!0;return!1}},function(L,x,a){var l=a(69);L.exports=function(g,u,o){for(var r=o?g:g.parentNode;r&&r!==document;){if(l(r,u))return r;r=r.parentNode}}}])})},20047:(C,R,m)=>{"use strict";m.r(R),m.d(R,{default:()=>ft});var s=m(67294),b=m(16550),L=m(64195),x=m(88767),a=m(45349),l=m(28897),g=m(86896),u=m(86706),o=m(27361),r=m.n(o),t=m(78718),e=m.n(t),n=m(44908),i=m.n(n),d=m(73955),h=m.n(d),c=m(41054),p=m(69307),v=m(46683),f=m(41580),P=m(29728),y=m(23620),E=m(7681),M=m(53979),O=m(49066),A=m(85893);const N=U=>(0,A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...U,children:(0,A.jsx)("path",{fill:"#212134",d:"M24 13.3a.2.2 0 0 1-.2.2H5.74l8.239 8.239a.2.2 0 0 1 0 .282L12.14 23.86a.2.2 0 0 1-.282 0L.14 12.14a.2.2 0 0 1 0-.282L11.86.14a.2.2 0 0 1 .282 0L13.98 1.98a.2.2 0 0 1 0 .282L5.74 10.5H23.8c.11 0 .2.09.2.2v2.6Z"})}),w=N;var S=m(85018),I=m(98091),k=m(84075);const D=["_blank","_parent","_self","_top"],W=[{input:{intlLabel:{id:(0,l.OB)("form.label.title"),defaultMessage:"Title"},name:"title",type:"text",required:!0},grid:{col:6,s:12}},{input:{intlLabel:{id:(0,l.OB)("form.label.slug"),defaultMessage:"Slug"},name:"slug",type:"uid",contentTypeUID:"plugin::menus.menu",attribute:{targetField:"title"},required:!0},grid:{col:6,s:12}}],G=[{input:{intlLabel:{id:(0,l.OB)("form.label.title"),defaultMessage:"Title"},name:"title",type:"text",placeholder:{id:(0,l.OB)("form.placeholder.untitled"),defaultMessage:"Untitled"},required:!0}},{input:{intlLabel:{id:(0,l.OB)("form.label.url"),defaultMessage:"URL"},name:"url",type:"text"}},{input:{intlLabel:{id:(0,l.OB)("form.label.target"),defaultMessage:"Target"},name:"target",type:"select",options:D.map(U=>({key:U,value:U,metadatas:{intlLabel:{id:(0,l.OB)(`form.label.option.${U}`),defaultMessage:U}}}))},grid:{col:6}}],Q={menu:W,menuItem:G};var Z=m(87561),ht=m(89414);const ct=Z.Ry().shape({order:Z.Rx(p.I0.number).required(p.I0.required),title:Z.Z_(p.I0.string).required(p.I0.required),url:Z.Z_(p.I0.string).test("is-url",(0,l.OB)("error.url.invalid"),U=>!!(!U||ht.Ks.test(U)||ht.dM.test(U)||ht.jv.test(U)||ht.kR.test(U))).nullable(),target:Z.Z_(p.I0.string).nullable()}),Mt=Z.Ry().shape({title:Z.Z_(p.I0.string).nullable().required(p.I0.required),slug:Z.Z_(p.I0.string).nullable().required(p.I0.required),items:Z.IX().of(ct)}),F={title:"",slug:"",items:[]},T="menus-clone-{id}",j="menus-create",B="menus-edit-{id}",Y=({history:U,location:K,match:st})=>{const{id:V}=st.params,{formatMessage:nt}=(0,g.Z)(),{notifyStatus:$}=(0,v.G)(),vt=(0,p.lm)(),{lockApp:ut,unlockApp:lt}=(0,p.o1)(),it=(0,x.useQueryClient)(),{config:q,schema:rt}=(0,u.v9)(Et=>Et[`${l.aw}_config`]),It=r()(q,"layouts.menuItem",{}),Nt=(0,s.useMemo)(()=>(0,l.Vi)(Q.menuItem,It,rt),[It]),Ft=Object.values(Nt).flat(),At=!V,Lt=K.pathname.split("/").includes("clone");let wt=nt({id:(0,l.OB)("edit.header.title"),defaultMessage:"Edit menu"}),Ct=B.replace("{id}",V);At&&(wt=nt({id:(0,l.OB)("create.header.title"),defaultMessage:"Create menu"}),Ct=j),Lt&&(wt=nt({id:(0,l.OB)("clone.header.title"),defaultMessage:"Clone menu"}),Ct=T.replace("{id}",V));const kt=(0,l.Bi)(rt.menuItem,["media"]),zt={populate:i()(["items","items.parent",...kt.map(Et=>`items.${Et}`)])},{status:Tt,data:gt}=(0,x.useQuery)(Ct,()=>l.hi.get(V,zt),{enabled:!At,select:Et=>(0,l.m5)(Et),onSuccess:()=>{$(nt({id:(0,l.OB)("ui.loaded"),defaultMessage:"Data has been loaded"}))},onError:()=>{vt({type:"warning",message:{id:(0,l.OB)("ui.error"),defaultMessage:"An error occured"}})}}),Bt=(0,x.useMutation)(Et=>{if(Lt){const jt=e()(Et.data,["title","slug"],{}),bt=Et.data.items.map(St=>({id:St.id,createId:h()("create")})),Rt=Et.data.items.map(St=>{const Ut=bt.find(Vt=>Vt.id===St.id),Wt=bt.find(Vt=>Vt.id===St.parent?.id),Yt=Ut?Ut.createId:null,Xt=Wt?{id:Wt.createId}:null;return{...(0,l.oW)(St),id:Yt,parent:Xt}}),Gt={data:{...jt,items:Rt}};return l.hi.postAction(Gt)}return At?l.hi.postAction(Et):l.hi.putAction(V,Et)},{refetchActive:!0,onSuccess:async()=>{await it.invalidateQueries(Ct),vt({type:"success",message:{id:(0,l.OB)("ui.saved"),defaultMessage:"Saved"}})},onError:()=>{vt({type:"warning",message:{id:(0,l.OB)("ui.error"),defaultMessage:"An error occured"}})},onSettled:()=>{lt()}}),Zt=async(Et,{setErrors:jt})=>{ut();try{const bt=(0,l.oW)(Et),Rt=(0,l.BR)(bt,gt,Q.menu,Lt),Gt=r()(bt,"items",[]).map(Ut=>{const Wt=(0,l.oW)(Ut),Yt=r()(gt,"items",[]).find(Xt=>Xt.id===Wt.id);return(0,l.BR)(Wt,Yt,Ft,Lt)}),St=await Bt.mutateAsync({data:{...Rt,items:Gt}});(At||Lt)&&St?.data?.data?.id&&U.push(`/plugins/${l.aw}/edit/${St.data.data.id}`)}catch(bt){lt();const Rt=bt?.response?.data?.error?.details;Rt?jt(Rt):console.error(bt)}};return s.createElement(I.Ar,{isLoading:!At&&Tt!=="success",title:wt},s.createElement(k.rE,null),s.createElement(c.J9,{onSubmit:Zt,initialValues:gt??F,validateOnChange:!1,validationSchema:Mt,enableReinitialize:!0},({handleSubmit:Et})=>s.createElement(p.l0,{onSubmit:Et},s.createElement(I.Cp,{isCreatingEntry:At,isCloningEntry:Lt,menu:gt},({dirty:jt,isSubmitting:bt})=>s.createElement(s.Fragment,null,s.createElement(M.T,{title:wt,navigationAction:s.createElement(y.r,{startIcon:s.createElement(w,null),to:`/plugins/${l.aw}`},nt({id:(0,l.OB)("ui.goBack"),defaultMessage:"Go back"})),primaryAction:s.createElement(P.z,{type:"submit",disabled:!jt||bt,loading:bt,startIcon:s.createElement(S.Z,null),size:"L"},nt({id:(0,l.OB)("ui.save"),defaultMessage:"Save"}))}),s.createElement(O.D,null,s.createElement(f.x,{paddingBottom:10},s.createElement(E.K,{spacing:8},s.createElement(I.$0,null,s.createElement(I.lt,{fields:Q.menu,schema:rt.menu})),s.createElement(I.qT,{fields:Nt})))))))))},J=(0,s.memo)(Y);var et=m(96315);const pt="menus-index",Dt=({history:U})=>{const{formatMessage:K}=(0,g.Z)(),{notifyStatus:st}=(0,v.G)(),V=(0,p.lm)(),{lockApp:nt,unlockApp:$}=(0,p.o1)(),vt=(0,x.useQueryClient)(),[{query:ut}]=(0,p.Kx)(),lt=r()(ut,"pageSize",10),it=r()(ut,"page",1)*lt-lt,q={populate:"*",pagination:{start:it,limit:lt}},{data:rt,refetch:It,status:Nt}=(0,x.useQuery)(pt,()=>l.hi.get(null,q),{onSuccess:()=>{st(K({id:(0,l.OB)("ui.loaded"),defaultMessage:"Data has been loaded"}))},onError:()=>{V({type:"warning",message:{id:(0,l.OB)("ui.error"),defaultMessage:"An error occured"}})}});(0,s.useEffect)(()=>{It()},[it,lt]);const Ft=(0,x.useMutation)(gt=>l.hi.deleteAction(gt),{onSuccess:async()=>{await vt.invalidateQueries(pt),V({type:"success",message:{id:(0,l.OB)("ui.deleted.menu"),defaultMessage:"Menu has been deleted"}})},onError:gt=>{gt?.response?.data?.data?V({type:"warning",message:gt.response.data.data}):V({type:"warning",message:{id:(0,l.OB)("ui.error"),defaultMessage:"An error occured"}})},onSettled:()=>{$()}}),At=async gt=>{nt();try{await Ft.mutateAsync(gt)}catch{$()}},Lt=Nt!=="success",wt=3,Ct=(rt?.data?.length??0)+1,kt=rt?.meta?.total?Math.ceil(rt.meta.total/rt.meta.limit):1,zt=[{name:"title",key:"title",metadatas:{label:K({id:(0,l.OB)("form.label.title"),defaultMessage:"Title"}),sortable:!0}},{name:"slug",key:"slug",metadatas:{label:K({id:(0,l.OB)("form.label.slug"),defaultMessage:"Slug"}),sortable:!0}},{name:"items",key:"items",metadatas:{label:K({id:(0,l.OB)("form.label.items"),defaultMessage:"Items"}),sortable:!1}}],Tt=({size:gt="L",variant:Bt="default"})=>s.createElement(P.z,{onClick:()=>U.push(`/plugins/${l.aw}/create`),startIcon:s.createElement(et.Z,null),variant:Bt,size:gt},K({id:(0,l.OB)("ui.create.menu"),defaultMessage:"Create new menu"}));return s.createElement(I.Ar,{isLoading:Lt,title:K({id:(0,l.OB)("plugin.name"),defaultMessage:l.oy})},s.createElement(M.T,{title:K({id:(0,l.OB)("plugin.name"),defaultMessage:l.oy}),subtitle:K({id:(0,l.OB)("index.header.subtitle"),defaultMessage:"Customize the structure of menus and menu items"}),primaryAction:s.createElement(Tt,null)}),s.createElement(O.D,null,s.createElement(f.x,{paddingBottom:10},rt?.data?.length?s.createElement(s.Fragment,null,s.createElement(p.tM,{contentType:"menus",isLoading:Lt,headers:zt,rows:rt.data,action:s.createElement(Tt,{size:"S",variant:"secondary"}),onConfirmDelete:At},s.createElement(I.XS,{data:rt.data??[],onClickClone:gt=>U.push(`/plugins/${l.aw}/clone/${gt}`),onClickEdit:gt=>U.push(`/plugins/${l.aw}/edit/${gt}`)})),s.createElement(I.eO,{pagination:{pageCount:kt}})):s.createElement(p.x7,{content:{id:(0,l.OB)("index.state.empty"),defaultMessage:"No menus found"},action:s.createElement(Tt,{size:"S",variant:"secondary"})}))))},xt=(0,s.memo)(Dt);var dt=m(57713),X=m(79371),H=m(26789),z=m(81391),ot=m(69858),mt=m(52548);const at=()=>{(0,p.go)();const{formatMessage:U}=(0,g.Z)();return s.createElement(dt.o,{labelledBy:"title"},s.createElement(X.T,{id:"title",title:U({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),s.createElement(H.D,null,s.createElement(z.x,{action:s.createElement(p.Qj,{variant:"secondary",endIcon:s.createElement(ot.Z,null),to:`/plugins/${l.aw}`},U({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:U({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:s.createElement(mt.Z,{width:"10rem"}),shadow:"tableShadow"})))},Pt=new L.S({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),ft=()=>s.createElement(x.QueryClientProvider,{client:Pt},s.createElement(a.A,null,s.createElement(b.rs,null,s.createElement(b.AW,{path:`/plugins/${l.aw}`,component:xt,exact:!0}),s.createElement(b.AW,{path:`/plugins/${l.aw}/create`,component:J,exact:!0}),s.createElement(b.AW,{path:`/plugins/${l.aw}/clone/:id`,component:J,exact:!0}),s.createElement(b.AW,{path:`/plugins/${l.aw}/edit/:id`,component:J,exact:!0}),s.createElement(b.AW,{path:"",component:at}))))},28282:(C,R,m)=>{var s=m(82354);C.exports={Graph:s.Graph,json:m(28974),alg:m(12440),version:s.version}},2842:(C,R,m)=>{var s=m(89126);C.exports=b;function b(L){var x={},a=[],l;function g(u){s.has(x,u)||(x[u]=!0,l.push(u),s.each(L.successors(u),g),s.each(L.predecessors(u),g))}return s.each(L.nodes(),function(u){l=[],g(u),l.length&&a.push(l)}),a}},53984:(C,R,m)=>{var s=m(89126);C.exports=b;function b(x,a,l){s.isArray(a)||(a=[a]);var g=(x.isDirected()?x.successors:x.neighbors).bind(x),u=[],o={};return s.each(a,function(r){if(!x.hasNode(r))throw new Error("Graph does not have node: "+r);L(x,r,l==="post",o,g,u)}),u}function L(x,a,l,g,u,o){s.has(g,a)||(g[a]=!0,l||o.push(a),s.each(u(a),function(r){L(x,r,l,g,u,o)}),l&&o.push(a))}},84847:(C,R,m)=>{var s=m(63763),b=m(89126);C.exports=L;function L(x,a,l){return b.transform(x.nodes(),function(g,u){g[u]=s(x,u,a,l)},{})}},63763:(C,R,m)=>{var s=m(89126),b=m(75639);C.exports=x;var L=s.constant(1);function x(l,g,u,o){return a(l,String(g),u||L,o||function(r){return l.outEdges(r)})}function a(l,g,u,o){var r={},t=new b,e,n,i=function(d){var h=d.v!==e?d.v:d.w,c=r[h],p=u(d),v=n.distance+p;if(p<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+d+" Weight: "+p);v<c.distance&&(c.distance=v,c.predecessor=e,t.decrease(h,v))};for(l.nodes().forEach(function(d){var h=d===g?0:Number.POSITIVE_INFINITY;r[d]={distance:h},t.add(d,h)});t.size()>0&&(e=t.removeMin(),n=r[e],n.distance!==Number.POSITIVE_INFINITY);)o(e).forEach(i);return r}},9096:(C,R,m)=>{var s=m(89126),b=m(5023);C.exports=L;function L(x){return s.filter(b(x),function(a){return a.length>1||a.length===1&&x.hasEdge(a[0],a[0])})}},38924:(C,R,m)=>{var s=m(89126);C.exports=L;var b=s.constant(1);function L(a,l,g){return x(a,l||b,g||function(u){return a.outEdges(u)})}function x(a,l,g){var u={},o=a.nodes();return o.forEach(function(r){u[r]={},u[r][r]={distance:0},o.forEach(function(t){r!==t&&(u[r][t]={distance:Number.POSITIVE_INFINITY})}),g(r).forEach(function(t){var e=t.v===r?t.w:t.v,n=l(t);u[r][e]={distance:n,predecessor:r}})}),o.forEach(function(r){var t=u[r];o.forEach(function(e){var n=u[e];o.forEach(function(i){var d=n[r],h=t[i],c=n[i],p=d.distance+h.distance;p<c.distance&&(c.distance=p,c.predecessor=h.predecessor)})})}),u}},12440:(C,R,m)=>{C.exports={components:m(2842),dijkstra:m(63763),dijkstraAll:m(84847),findCycles:m(9096),floydWarshall:m(38924),isAcyclic:m(62707),postorder:m(58828),preorder:m(92648),prim:m(80514),tarjan:m(5023),topsort:m(2166)}},62707:(C,R,m)=>{var s=m(2166);C.exports=b;function b(L){try{s(L)}catch(x){if(x instanceof s.CycleException)return!1;throw x}return!0}},58828:(C,R,m)=>{var s=m(53984);C.exports=b;function b(L,x){return s(L,x,"post")}},92648:(C,R,m)=>{var s=m(53984);C.exports=b;function b(L,x){return s(L,x,"pre")}},80514:(C,R,m)=>{var s=m(89126),b=m(30771),L=m(75639);C.exports=x;function x(a,l){var g=new b,u={},o=new L,r;function t(n){var i=n.v===r?n.w:n.v,d=o.priority(i);if(d!==void 0){var h=l(n);h<d&&(u[i]=r,o.decrease(i,h))}}if(a.nodeCount()===0)return g;s.each(a.nodes(),function(n){o.add(n,Number.POSITIVE_INFINITY),g.setNode(n)}),o.decrease(a.nodes()[0],0);for(var e=!1;o.size()>0;){if(r=o.removeMin(),s.has(u,r))g.setEdge(r,u[r]);else{if(e)throw new Error("Input graph is not connected: "+a);e=!0}a.nodeEdges(r).forEach(t)}return g}},5023:(C,R,m)=>{var s=m(89126);C.exports=b;function b(L){var x=0,a=[],l={},g=[];function u(o){var r=l[o]={onStack:!0,lowlink:x,index:x++};if(a.push(o),L.successors(o).forEach(function(n){s.has(l,n)?l[n].onStack&&(r.lowlink=Math.min(r.lowlink,l[n].index)):(u(n),r.lowlink=Math.min(r.lowlink,l[n].lowlink))}),r.lowlink===r.index){var t=[],e;do e=a.pop(),l[e].onStack=!1,t.push(e);while(o!==e);g.push(t)}}return L.nodes().forEach(function(o){s.has(l,o)||u(o)}),g}},2166:(C,R,m)=>{var s=m(89126);C.exports=b,b.CycleException=L;function b(x){var a={},l={},g=[];function u(o){if(s.has(l,o))throw new L;s.has(a,o)||(l[o]=!0,a[o]=!0,s.each(x.predecessors(o),u),delete l[o],g.push(o))}if(s.each(x.sinks(),u),s.size(a)!==x.nodeCount())throw new L;return g}function L(){}L.prototype=new Error},75639:(C,R,m)=>{var s=m(89126);C.exports=b;function b(){this._arr=[],this._keyIndices={}}b.prototype.size=function(){return this._arr.length},b.prototype.keys=function(){return this._arr.map(function(L){return L.key})},b.prototype.has=function(L){return s.has(this._keyIndices,L)},b.prototype.priority=function(L){var x=this._keyIndices[L];if(x!==void 0)return this._arr[x].priority},b.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},b.prototype.add=function(L,x){var a=this._keyIndices;if(L=String(L),!s.has(a,L)){var l=this._arr,g=l.length;return a[L]=g,l.push({key:L,priority:x}),this._decrease(g),!0}return!1},b.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var L=this._arr.pop();return delete this._keyIndices[L.key],this._heapify(0),L.key},b.prototype.decrease=function(L,x){var a=this._keyIndices[L];if(x>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+L+" Old: "+this._arr[a].priority+" New: "+x);this._arr[a].priority=x,this._decrease(a)},b.prototype._heapify=function(L){var x=this._arr,a=2*L,l=a+1,g=L;a<x.length&&(g=x[a].priority<x[g].priority?a:g,l<x.length&&(g=x[l].priority<x[g].priority?l:g),g!==L&&(this._swap(L,g),this._heapify(g)))},b.prototype._decrease=function(L){for(var x=this._arr,a=x[L].priority,l;L!==0&&(l=L>>1,!(x[l].priority<a));)this._swap(L,l),L=l},b.prototype._swap=function(L,x){var a=this._arr,l=this._keyIndices,g=a[L],u=a[x];a[L]=u,a[x]=g,l[u.key]=L,l[g.key]=x}},30771:(C,R,m)=>{"use strict";var s=m(89126);C.exports=a;var b="\0",L="\0",x="";function a(t){this._isDirected=s.has(t,"directed")?t.directed:!0,this._isMultigraph=s.has(t,"multigraph")?t.multigraph:!1,this._isCompound=s.has(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=s.constant(void 0),this._defaultEdgeLabelFn=s.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[L]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(t){return this._label=t,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(t){return s.isFunction(t)||(t=s.constant(t)),this._defaultNodeLabelFn=t,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return s.keys(this._nodes)},a.prototype.sources=function(){var t=this;return s.filter(this.nodes(),function(e){return s.isEmpty(t._in[e])})},a.prototype.sinks=function(){var t=this;return s.filter(this.nodes(),function(e){return s.isEmpty(t._out[e])})},a.prototype.setNodes=function(t,e){var n=arguments,i=this;return s.each(t,function(d){n.length>1?i.setNode(d,e):i.setNode(d)}),this},a.prototype.setNode=function(t,e){return s.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=L,this._children[t]={},this._children[L][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},a.prototype.node=function(t){return this._nodes[t]},a.prototype.hasNode=function(t){return s.has(this._nodes,t)},a.prototype.removeNode=function(t){var e=this;if(s.has(this._nodes,t)){var n=function(i){e.removeEdge(e._edgeObjs[i])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],s.each(this.children(t),function(i){e.setParent(i)}),delete this._children[t]),s.each(s.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],s.each(s.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},a.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(s.isUndefined(e))e=L;else{e+="";for(var n=e;!s.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},a.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},a.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==L)return e}},a.prototype.children=function(t){if(s.isUndefined(t)&&(t=L),this._isCompound){var e=this._children[t];if(e)return s.keys(e)}else{if(t===L)return this.nodes();if(this.hasNode(t))return[]}},a.prototype.predecessors=function(t){var e=this._preds[t];if(e)return s.keys(e)},a.prototype.successors=function(t){var e=this._sucs[t];if(e)return s.keys(e)},a.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return s.union(e,this.successors(t))},a.prototype.isLeaf=function(t){var e;return this.isDirected()?e=this.successors(t):e=this.neighbors(t),e.length===0},a.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;s.each(this._nodes,function(h,c){t(c)&&e.setNode(c,h)}),s.each(this._edgeObjs,function(h){e.hasNode(h.v)&&e.hasNode(h.w)&&e.setEdge(h,n.edge(h))});var i={};function d(h){var c=n.parent(h);return c===void 0||e.hasNode(c)?(i[h]=c,c):c in i?i[c]:d(c)}return this._isCompound&&s.each(e.nodes(),function(h){e.setParent(h,d(h))}),e},a.prototype.setDefaultEdgeLabel=function(t){return s.isFunction(t)||(t=s.constant(t)),this._defaultEdgeLabelFn=t,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return s.values(this._edgeObjs)},a.prototype.setPath=function(t,e){var n=this,i=arguments;return s.reduce(t,function(d,h){return i.length>1?n.setEdge(d,h,e):n.setEdge(d,h),h}),this},a.prototype.setEdge=function(){var t,e,n,i,d=!1,h=arguments[0];typeof h=="object"&&h!==null&&"v"in h?(t=h.v,e=h.w,n=h.name,arguments.length===2&&(i=arguments[1],d=!0)):(t=h,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],d=!0)),t=""+t,e=""+e,s.isUndefined(n)||(n=""+n);var c=u(this._isDirected,t,e,n);if(s.has(this._edgeLabels,c))return d&&(this._edgeLabels[c]=i),this;if(!s.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[c]=d?i:this._defaultEdgeLabelFn(t,e,n);var p=o(this._isDirected,t,e,n);return t=p.v,e=p.w,Object.freeze(p),this._edgeObjs[c]=p,l(this._preds[e],t),l(this._sucs[t],e),this._in[e][c]=p,this._out[t][c]=p,this._edgeCount++,this},a.prototype.edge=function(t,e,n){var i=arguments.length===1?r(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return this._edgeLabels[i]},a.prototype.hasEdge=function(t,e,n){var i=arguments.length===1?r(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return s.has(this._edgeLabels,i)},a.prototype.removeEdge=function(t,e,n){var i=arguments.length===1?r(this._isDirected,arguments[0]):u(this._isDirected,t,e,n),d=this._edgeObjs[i];return d&&(t=d.v,e=d.w,delete this._edgeLabels[i],delete this._edgeObjs[i],g(this._preds[e],t),g(this._sucs[t],e),delete this._in[e][i],delete this._out[t][i],this._edgeCount--),this},a.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var i=s.values(n);return e?s.filter(i,function(d){return d.v===e}):i}},a.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var i=s.values(n);return e?s.filter(i,function(d){return d.w===e}):i}},a.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};function l(t,e){t[e]?t[e]++:t[e]=1}function g(t,e){--t[e]||delete t[e]}function u(t,e,n,i){var d=""+e,h=""+n;if(!t&&d>h){var c=d;d=h,h=c}return d+x+h+x+(s.isUndefined(i)?b:i)}function o(t,e,n,i){var d=""+e,h=""+n;if(!t&&d>h){var c=d;d=h,h=c}var p={v:d,w:h};return i&&(p.name=i),p}function r(t,e){return u(t,e.v,e.w,e.name)}},82354:(C,R,m)=>{C.exports={Graph:m(30771),version:m(49631)}},28974:(C,R,m)=>{var s=m(89126),b=m(30771);C.exports={write:L,read:l};function L(g){var u={options:{directed:g.isDirected(),multigraph:g.isMultigraph(),compound:g.isCompound()},nodes:x(g),edges:a(g)};return s.isUndefined(g.graph())||(u.value=s.clone(g.graph())),u}function x(g){return s.map(g.nodes(),function(u){var o=g.node(u),r=g.parent(u),t={v:u};return s.isUndefined(o)||(t.value=o),s.isUndefined(r)||(t.parent=r),t})}function a(g){return s.map(g.edges(),function(u){var o=g.edge(u),r={v:u.v,w:u.w};return s.isUndefined(u.name)||(r.name=u.name),s.isUndefined(o)||(r.value=o),r})}function l(g){var u=new b(g.options).setGraph(g.value);return s.each(g.nodes,function(o){u.setNode(o.v,o.value),o.parent&&u.setParent(o.v,o.parent)}),s.each(g.edges,function(o){u.setEdge({v:o.v,w:o.w,name:o.name},o.value)}),u}},89126:(C,R,m)=>{var s;try{s={clone:m(66678),constant:m(75703),each:m(66073),filter:m(63105),has:m(18721),isArray:m(1469),isEmpty:m(41609),isFunction:m(23560),isUndefined:m(52353),keys:m(3674),map:m(35161),reduce:m(54061),size:m(84238),transform:m(68718),union:m(93386),values:m(52628)}}catch{}s||(s=window._),C.exports=s},49631:C=>{C.exports="2.1.8"},48983:(C,R,m)=>{var s=m(40371),b=s("length");C.exports=b},56029:(C,R,m)=>{var s=m(33448);function b(L,x,a){for(var l=-1,g=L.length;++l<g;){var u=L[l],o=x(u);if(o!=null&&(r===void 0?o===o&&!s(o):a(o,r)))var r=o,t=u}return t}C.exports=b},80760:(C,R,m)=>{var s=m(89881);function b(L,x){var a=[];return s(L,function(l,g,u){x(l,g,u)&&a.push(l)}),a}C.exports=b},53325:C=>{function R(m,s){return m>s}C.exports=R},70433:C=>{function R(m,s){return m<s}C.exports=R},10107:C=>{function R(m,s,b,L,x){return x(m,function(a,l,g){b=L?(L=!1,a):s(b,a,l,g)}),b}C.exports=R},47415:(C,R,m)=>{var s=m(29932);function b(L,x){return s(x,function(a){return L[a]})}C.exports=b},1757:C=>{function R(m,s,b){for(var L=-1,x=m.length,a=s.length,l={};++L<x;){var g=L<a?s[L]:void 0;b(l,m[L],g)}return l}C.exports=R},54290:(C,R,m)=>{var s=m(6557);function b(L){return typeof L=="function"?L:s}C.exports=b},67740:(C,R,m)=>{var s=m(67206),b=m(98612),L=m(3674);function x(a){return function(l,g,u){var o=Object(l);if(!b(l)){var r=s(g,3);l=L(l),g=function(e){return r(o[e],e,o)}}var t=a(l,g,u);return t>-1?o[r?l[t]:t]:void 0}}C.exports=x},88016:(C,R,m)=>{var s=m(48983),b=m(62689),L=m(21903);function x(a){return b(a)?L(a):s(a)}C.exports=x},21903:C=>{var R="\\ud800-\\udfff",m="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",b="\\u20d0-\\u20ff",L=m+s+b,x="\\ufe0e\\ufe0f",a="["+R+"]",l="["+L+"]",g="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+g+")",o="[^"+R+"]",r="(?:\\ud83c[\\udde6-\\uddff]){2}",t="[\\ud800-\\udbff][\\udc00-\\udfff]",e="\\u200d",n=u+"?",i="["+x+"]?",d="(?:"+e+"(?:"+[o,r,t].join("|")+")"+i+n+")*",h=i+n+d,c="(?:"+[o+l+"?",l,r,t,a].join("|")+")",p=RegExp(g+"(?="+g+")|"+c+h,"g");function v(f){for(var P=p.lastIndex=0;p.test(f);)++P;return P}C.exports=v},66678:(C,R,m)=>{var s=m(85990),b=4;function L(x){return s(x,b)}C.exports=L},91747:(C,R,m)=>{var s=m(5976),b=m(77813),L=m(16612),x=m(81704),a=Object.prototype,l=a.hasOwnProperty,g=s(function(u,o){u=Object(u);var r=-1,t=o.length,e=t>2?o[2]:void 0;for(e&&L(o[0],o[1],e)&&(t=1);++r<t;)for(var n=o[r],i=x(n),d=-1,h=i.length;++d<h;){var c=i[d],p=u[c];(p===void 0||b(p,a[c])&&!l.call(u,c))&&(u[c]=n[c])}return u});C.exports=g},66073:(C,R,m)=>{C.exports=m(84486)},63105:(C,R,m)=>{var s=m(34963),b=m(80760),L=m(67206),x=m(1469);function a(l,g){var u=x(l)?s:b;return u(l,L(g,3))}C.exports=a},13311:(C,R,m)=>{var s=m(67740),b=m(30998),L=s(b);C.exports=L},30998:(C,R,m)=>{var s=m(41848),b=m(67206),L=m(40554),x=Math.max;function a(l,g,u){var o=l==null?0:l.length;if(!o)return-1;var r=u==null?0:L(u);return r<0&&(r=x(o+r,0)),s(l,b(g,3),r)}C.exports=a},84486:(C,R,m)=>{var s=m(77412),b=m(89881),L=m(54290),x=m(1469);function a(l,g){var u=x(l)?s:b;return u(l,L(g))}C.exports=a},62620:(C,R,m)=>{var s=m(28483),b=m(54290),L=m(81704);function x(a,l){return a==null?a:s(a,b(l),L)}C.exports=x},47037:(C,R,m)=>{var s=m(44239),b=m(1469),L=m(37005),x="[object String]";function a(l){return typeof l=="string"||!b(l)&&L(l)&&s(l)==x}C.exports=a},52353:C=>{function R(m){return m===void 0}C.exports=R},35161:(C,R,m)=>{var s=m(29932),b=m(67206),L=m(69199),x=m(1469);function a(l,g){var u=x(l)?s:L;return u(l,b(g,3))}C.exports=a},6162:(C,R,m)=>{var s=m(56029),b=m(53325),L=m(6557);function x(a){return a&&a.length?s(a,L,b):void 0}C.exports=x},53632:(C,R,m)=>{var s=m(56029),b=m(70433),L=m(6557);function x(a){return a&&a.length?s(a,L,b):void 0}C.exports=x},22762:(C,R,m)=>{var s=m(56029),b=m(67206),L=m(70433);function x(a,l){return a&&a.length?s(a,b(l,2),L):void 0}C.exports=x},7771:(C,R,m)=>{var s=m(55639),b=function(){return s.Date.now()};C.exports=b},54061:(C,R,m)=>{var s=m(62663),b=m(89881),L=m(67206),x=m(10107),a=m(1469);function l(g,u,o){var r=a(g)?s:x,t=arguments.length<3;return r(g,L(u,4),o,t,b)}C.exports=l},84238:(C,R,m)=>{var s=m(280),b=m(64160),L=m(98612),x=m(47037),a=m(88016),l="[object Map]",g="[object Set]";function u(o){if(o==null)return 0;if(L(o))return x(o)?a(o):o.length;var r=b(o);return r==l||r==g?o.size:s(o).length}C.exports=u},93386:(C,R,m)=>{var s=m(21078),b=m(5976),L=m(45652),x=m(29246),a=b(function(l){return L(s(l,1,x,!0))});C.exports=a},44908:(C,R,m)=>{var s=m(45652);function b(L){return L&&L.length?s(L):[]}C.exports=b},52628:(C,R,m)=>{var s=m(47415),b=m(3674);function L(x){return x==null?[]:s(x,b(x))}C.exports=L},7287:(C,R,m)=>{var s=m(34865),b=m(1757);function L(x,a){return b(x||[],a||[],s)}C.exports=L},45349:(C,R,m)=>{"use strict";m.d(R,{A:()=>u});var s=m(85893),b=m(67294),L=m(45697),x=m(1565),a=m(50781);const l=(0,x.ZP)(a.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:o})=>o?"auto 1fr":"1fr"};
`,g=(0,x.ZP)(a.x)`
  overflow-x: hidden;
`,u=({sideNav:o,children:r})=>(0,s.jsxs)(l,{hasSideNav:!!o,children:[o,(0,s.jsx)(g,{paddingBottom:10,children:r})]});u.defaultProps={sideNav:void 0},u.propTypes={children:L.node.isRequired,sideNav:L.node}},49066:(C,R,m)=>{"use strict";m.d(R,{D:()=>L});var s=m(85893),b=m(41580);const L=({children:x})=>(0,s.jsx)(b.x,{paddingLeft:10,paddingRight:10,children:x})},53979:(C,R,m)=>{"use strict";m.d(R,{A:()=>e,T:()=>r});var s=m(85893),b=m(67294),L=m(1565);const x=n=>{const i=(0,b.useRef)(null),[d,h]=(0,b.useState)(!0),c=([p])=>{h(p.isIntersecting)};return(0,b.useEffect)(()=>{const p=i.current,v=new IntersectionObserver(c,n);return p&&v.observe(i.current),()=>{p&&v.disconnect()}},[i,n]),[i,d]};var a=m(79698);const l=(n,i)=>{const d=(0,a.W)(i);(0,b.useLayoutEffect)(()=>{const h=new ResizeObserver(d);return Array.isArray(n)?n.forEach(c=>{c.current&&h.observe(c.current)}):n.current&&h.observe(n.current),()=>{h.disconnect()}},[n,d])};var g=m(41580),u=m(11047),o=m(75515);const r=n=>{const i=(0,b.useRef)(null),[d,h]=(0,b.useState)(null),[c,p]=x({root:null,rootMargin:"0px",threshold:0});return l(c,()=>{c.current&&h(c.current.getBoundingClientRect())}),(0,b.useEffect)(()=>{i.current&&h(i.current.getBoundingClientRect())},[i]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{height:d?.height},ref:c,children:p&&(0,s.jsx)(e,{ref:i,...n})}),!p&&(0,s.jsx)(e,{...n,sticky:!0,width:d?.width})]})};r.displayName="HeaderLayout";const t=(0,L.ZP)(g.x)`
  width: ${({width:n})=>n?`${n/16}rem`:void 0};
  z-index: ${({theme:n})=>n.zIndices[1]};
`,e=b.forwardRef(({navigationAction:n,primaryAction:i,secondaryAction:d,subtitle:h,title:c,sticky:p,width:v,...f},P)=>{const y=typeof h=="string";return p?(0,s.jsx)(t,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:v,"data-strapi-header-sticky":!0,children:(0,s.jsxs)(u.k,{justifyContent:"space-between",children:[(0,s.jsxs)(u.k,{children:[n&&(0,s.jsx)(g.x,{paddingRight:3,children:n}),(0,s.jsxs)(g.x,{children:[(0,s.jsx)(o.Z,{variant:"beta",as:"h1",...f,children:c}),y?(0,s.jsx)(o.Z,{variant:"pi",textColor:"neutral600",children:h}):h]}),d?(0,s.jsx)(g.x,{paddingLeft:4,children:d}):null]}),(0,s.jsx)(u.k,{children:i?(0,s.jsx)(g.x,{paddingLeft:2,children:i}):void 0})]})}):(0,s.jsxs)(g.x,{ref:P,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:n?6:8,background:"neutral100","data-strapi-header":!0,children:[n?(0,s.jsx)(g.x,{paddingBottom:2,children:n}):null,(0,s.jsxs)(u.k,{justifyContent:"space-between",children:[(0,s.jsxs)(u.k,{minWidth:0,children:[(0,s.jsx)(o.Z,{as:"h1",variant:"alpha",...f,children:c}),d?(0,s.jsx)(g.x,{paddingLeft:4,children:d}):null]}),i]}),y?(0,s.jsx)(o.Z,{variant:"epsilon",textColor:"neutral600",as:"p",children:h}):h]})})}}]);
